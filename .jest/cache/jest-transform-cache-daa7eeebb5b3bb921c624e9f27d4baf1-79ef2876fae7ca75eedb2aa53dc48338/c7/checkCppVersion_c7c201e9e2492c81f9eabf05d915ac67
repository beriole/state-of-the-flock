96fb70c9a74196066ba58cd802b07ec4
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.checkCppVersion = checkCppVersion;
exports.matchVersion = matchVersion;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _jsVersion = require("./jsVersion");
function checkCppVersion() {
  var cppVersion = global._REANIMATED_VERSION_CPP;
  if (cppVersion === undefined) {
    console.warn(`[Reanimated] Couldn't determine the version of the native part of Reanimated.
    See \`https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#couldnt-determine-the-version-of-the-native-part-of-reanimated\` for more details.`);
    return;
  }
  var ok = matchVersion(_jsVersion.jsVersion, cppVersion);
  if (!ok) {
    throw new Error(`[Reanimated] Mismatch between JavaScript part and native part of Reanimated (${_jsVersion.jsVersion} vs ${cppVersion}).
    See \`https://docs.swmansion.com/react-native-reanimated/docs/guides/troubleshooting#mismatch-between-javascript-part-and-native-part-of-reanimated\` for more details.`);
  }
}
function matchVersion(version1, version2) {
  if (version1.match(/^\d+\.\d+\.\d+$/) && version2.match(/^\d+\.\d+\.\d+$/)) {
    var _version1$split = version1.split('.'),
      _version1$split2 = (0, _slicedToArray2.default)(_version1$split, 2),
      major1 = _version1$split2[0],
      minor1 = _version1$split2[1];
    var _version2$split = version2.split('.'),
      _version2$split2 = (0, _slicedToArray2.default)(_version2$split, 2),
      major2 = _version2$split2[0],
      minor2 = _version2$split2[1];
    return major1 === major2 && minor1 === minor2;
  } else {
    return version1 === version2;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY2hlY2tDcHBWZXJzaW9uIiwibWF0Y2hWZXJzaW9uIiwiX3NsaWNlZFRvQXJyYXkyIiwiX2pzVmVyc2lvbiIsImNwcFZlcnNpb24iLCJnbG9iYWwiLCJfUkVBTklNQVRFRF9WRVJTSU9OX0NQUCIsInVuZGVmaW5lZCIsImNvbnNvbGUiLCJ3YXJuIiwib2siLCJqc1ZlcnNpb24iLCJFcnJvciIsInZlcnNpb24xIiwidmVyc2lvbjIiLCJtYXRjaCIsIl92ZXJzaW9uMSRzcGxpdCIsInNwbGl0IiwiX3ZlcnNpb24xJHNwbGl0MiIsImRlZmF1bHQiLCJtYWpvcjEiLCJtaW5vcjEiLCJfdmVyc2lvbjIkc3BsaXQiLCJfdmVyc2lvbjIkc3BsaXQyIiwibWFqb3IyIiwibWlub3IyIl0sInNvdXJjZXMiOlsiY2hlY2tDcHBWZXJzaW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IGpzVmVyc2lvbiB9IGZyb20gJy4vanNWZXJzaW9uJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQ3BwVmVyc2lvbigpIHtcbiAgY29uc3QgY3BwVmVyc2lvbiA9IGdsb2JhbC5fUkVBTklNQVRFRF9WRVJTSU9OX0NQUDtcbiAgaWYgKGNwcFZlcnNpb24gPT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBbUmVhbmltYXRlZF0gQ291bGRuJ3QgZGV0ZXJtaW5lIHRoZSB2ZXJzaW9uIG9mIHRoZSBuYXRpdmUgcGFydCBvZiBSZWFuaW1hdGVkLlxuICAgIFNlZSBcXGBodHRwczovL2RvY3Muc3dtYW5zaW9uLmNvbS9yZWFjdC1uYXRpdmUtcmVhbmltYXRlZC9kb2NzL2d1aWRlcy90cm91Ymxlc2hvb3RpbmcjY291bGRudC1kZXRlcm1pbmUtdGhlLXZlcnNpb24tb2YtdGhlLW5hdGl2ZS1wYXJ0LW9mLXJlYW5pbWF0ZWRcXGAgZm9yIG1vcmUgZGV0YWlscy5gXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgb2sgPSBtYXRjaFZlcnNpb24oanNWZXJzaW9uLCBjcHBWZXJzaW9uKTtcbiAgaWYgKCFvaykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBbUmVhbmltYXRlZF0gTWlzbWF0Y2ggYmV0d2VlbiBKYXZhU2NyaXB0IHBhcnQgYW5kIG5hdGl2ZSBwYXJ0IG9mIFJlYW5pbWF0ZWQgKCR7anNWZXJzaW9ufSB2cyAke2NwcFZlcnNpb259KS5cbiAgICBTZWUgXFxgaHR0cHM6Ly9kb2NzLnN3bWFuc2lvbi5jb20vcmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWQvZG9jcy9ndWlkZXMvdHJvdWJsZXNob290aW5nI21pc21hdGNoLWJldHdlZW4tamF2YXNjcmlwdC1wYXJ0LWFuZC1uYXRpdmUtcGFydC1vZi1yZWFuaW1hdGVkXFxgIGZvciBtb3JlIGRldGFpbHMuYFxuICAgICk7XG4gIH1cbn1cblxuLy8gVGhpcyBpcyB1c2VkIG9ubHkgaW4gdGVzdCBmaWxlcywgdGhlcmVmb3JlIGl0IGlzIHJlcG9ydGVkIGJ5IHRzLXBydW5lICh3aGljaCBpcyBkZXNpcmVkKVxuLy8gdHMtcHJ1bmUtaWdub3JlLW5leHRcbmV4cG9ydCBmdW5jdGlvbiBtYXRjaFZlcnNpb24odmVyc2lvbjE6IHN0cmluZywgdmVyc2lvbjI6IHN0cmluZykge1xuICBpZiAodmVyc2lvbjEubWF0Y2goL15cXGQrXFwuXFxkK1xcLlxcZCskLykgJiYgdmVyc2lvbjIubWF0Y2goL15cXGQrXFwuXFxkK1xcLlxcZCskLykpIHtcbiAgICAvLyB4LnkueiwgY29tcGFyZSBvbmx5IG1ham9yIGFuZCBtaW5vciwgc2tpcCBwYXRjaFxuICAgIGNvbnN0IFttYWpvcjEsIG1pbm9yMV0gPSB2ZXJzaW9uMS5zcGxpdCgnLicpO1xuICAgIGNvbnN0IFttYWpvcjIsIG1pbm9yMl0gPSB2ZXJzaW9uMi5zcGxpdCgnLicpO1xuICAgIHJldHVybiBtYWpvcjEgPT09IG1ham9yMiAmJiBtaW5vcjEgPT09IG1pbm9yMjtcbiAgfSBlbHNlIHtcbiAgICAvLyBhbHBoYSwgYmV0YSBvciByYywgY29tcGFyZSBldmVyeXRoaW5nXG4gICAgcmV0dXJuIHZlcnNpb24xID09PSB2ZXJzaW9uMjtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQUMsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsZUFBQSxHQUFBQSxlQUFBO0FBQUFGLE9BQUEsQ0FBQUcsWUFBQSxHQUFBQSxZQUFBO0FBQUEsSUFBQUMsZUFBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ2IsSUFBQVEsVUFBQSxHQUFBUixPQUFBO0FBRU8sU0FBU0ssZUFBZUEsQ0FBQSxFQUFHO0VBQ2hDLElBQU1JLFVBQVUsR0FBR0MsTUFBTSxDQUFDQyx1QkFBdUI7RUFDakQsSUFBSUYsVUFBVSxLQUFLRyxTQUFTLEVBQUU7SUFDNUJDLE9BQU8sQ0FBQ0MsSUFBSSxDQUNWO0FBQ04sNEtBQ0ksQ0FBQztJQUNEO0VBQ0Y7RUFDQSxJQUFNQyxFQUFFLEdBQUdULFlBQVksQ0FBQ1Usb0JBQVMsRUFBRVAsVUFBVSxDQUFDO0VBQzlDLElBQUksQ0FBQ00sRUFBRSxFQUFFO0lBQ1AsTUFBTSxJQUFJRSxLQUFLLENBQ2IsZ0ZBQWdGRCxvQkFBUyxPQUFPUCxVQUFVO0FBQ2hILDRLQUNJLENBQUM7RUFDSDtBQUNGO0FBSU8sU0FBU0gsWUFBWUEsQ0FBQ1ksUUFBZ0IsRUFBRUMsUUFBZ0IsRUFBRTtFQUMvRCxJQUFJRCxRQUFRLENBQUNFLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJRCxRQUFRLENBQUNDLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFO0lBRTFFLElBQUFDLGVBQUEsR0FBeUJILFFBQVEsQ0FBQ0ksS0FBSyxDQUFDLEdBQUcsQ0FBQztNQUFBQyxnQkFBQSxPQUFBaEIsZUFBQSxDQUFBaUIsT0FBQSxFQUFBSCxlQUFBO01BQXJDSSxNQUFNLEdBQUFGLGdCQUFBO01BQUVHLE1BQU0sR0FBQUgsZ0JBQUE7SUFDckIsSUFBQUksZUFBQSxHQUF5QlIsUUFBUSxDQUFDRyxLQUFLLENBQUMsR0FBRyxDQUFDO01BQUFNLGdCQUFBLE9BQUFyQixlQUFBLENBQUFpQixPQUFBLEVBQUFHLGVBQUE7TUFBckNFLE1BQU0sR0FBQUQsZ0JBQUE7TUFBRUUsTUFBTSxHQUFBRixnQkFBQTtJQUNyQixPQUFPSCxNQUFNLEtBQUtJLE1BQU0sSUFBSUgsTUFBTSxLQUFLSSxNQUFNO0VBQy9DLENBQUMsTUFBTTtJQUVMLE9BQU9aLFFBQVEsS0FBS0MsUUFBUTtFQUM5QjtBQUNGIiwiaWdub3JlTGlzdCI6W119