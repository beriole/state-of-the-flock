a8738438745f88af2711ca356d625712
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.makeViewDescriptorsSet = makeViewDescriptorsSet;
var _core = require("./core");
function makeViewDescriptorsSet() {
  var shareableViewDescriptors = (0, _core.makeMutable)([]);
  var data = {
    shareableViewDescriptors: shareableViewDescriptors,
    add: function add(item) {
      shareableViewDescriptors.modify(function (descriptors) {
        'worklet';

        var index = descriptors.findIndex(function (descriptor) {
          return descriptor.tag === item.tag;
        });
        if (index !== -1) {
          descriptors[index] = item;
        } else {
          descriptors.push(item);
        }
        return descriptors;
      }, false);
    },
    remove: function remove(viewTag) {
      shareableViewDescriptors.modify(function (descriptors) {
        'worklet';

        var index = descriptors.findIndex(function (descriptor) {
          return descriptor.tag === viewTag;
        });
        if (index !== -1) {
          descriptors.splice(index, 1);
        }
        return descriptors;
      }, false);
    }
  };
  return data;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIm1ha2VWaWV3RGVzY3JpcHRvcnNTZXQiLCJfY29yZSIsInJlcXVpcmUiLCJzaGFyZWFibGVWaWV3RGVzY3JpcHRvcnMiLCJtYWtlTXV0YWJsZSIsImRhdGEiLCJhZGQiLCJpdGVtIiwibW9kaWZ5IiwiZGVzY3JpcHRvcnMiLCJpbmRleCIsImZpbmRJbmRleCIsImRlc2NyaXB0b3IiLCJ0YWciLCJwdXNoIiwicmVtb3ZlIiwidmlld1RhZyIsInNwbGljZSJdLCJzb3VyY2VzIjpbIlZpZXdEZXNjcmlwdG9yc1NldC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBtYWtlTXV0YWJsZSB9IGZyb20gJy4vY29yZSc7XG5pbXBvcnQgdHlwZSB7IFNoYXJlZFZhbHVlIH0gZnJvbSAnLi9jb21tb25UeXBlcyc7XG5pbXBvcnQgdHlwZSB7IERlc2NyaXB0b3IgfSBmcm9tICcuL2hvb2svY29tbW9uVHlwZXMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZpZXdEZXNjcmlwdG9yc1NldCB7XG4gIHNoYXJlYWJsZVZpZXdEZXNjcmlwdG9yczogU2hhcmVkVmFsdWU8RGVzY3JpcHRvcltdPjtcbiAgYWRkOiAoaXRlbTogRGVzY3JpcHRvcikgPT4gdm9pZDtcbiAgcmVtb3ZlOiAodmlld1RhZzogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVZpZXdEZXNjcmlwdG9yc1NldCgpOiBWaWV3RGVzY3JpcHRvcnNTZXQge1xuICBjb25zdCBzaGFyZWFibGVWaWV3RGVzY3JpcHRvcnMgPSBtYWtlTXV0YWJsZTxEZXNjcmlwdG9yW10+KFtdKTtcbiAgY29uc3QgZGF0YTogVmlld0Rlc2NyaXB0b3JzU2V0ID0ge1xuICAgIHNoYXJlYWJsZVZpZXdEZXNjcmlwdG9ycyxcbiAgICBhZGQ6IChpdGVtOiBEZXNjcmlwdG9yKSA9PiB7XG4gICAgICBzaGFyZWFibGVWaWV3RGVzY3JpcHRvcnMubW9kaWZ5KChkZXNjcmlwdG9ycykgPT4ge1xuICAgICAgICAnd29ya2xldCc7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gZGVzY3JpcHRvcnMuZmluZEluZGV4KFxuICAgICAgICAgIChkZXNjcmlwdG9yKSA9PiBkZXNjcmlwdG9yLnRhZyA9PT0gaXRlbS50YWdcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGRlc2NyaXB0b3JzW2luZGV4XSA9IGl0ZW07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVzY3JpcHRvcnMucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVzY3JpcHRvcnM7XG4gICAgICB9LCBmYWxzZSk7XG4gICAgfSxcblxuICAgIHJlbW92ZTogKHZpZXdUYWc6IG51bWJlcikgPT4ge1xuICAgICAgc2hhcmVhYmxlVmlld0Rlc2NyaXB0b3JzLm1vZGlmeSgoZGVzY3JpcHRvcnMpID0+IHtcbiAgICAgICAgJ3dvcmtsZXQnO1xuICAgICAgICBjb25zdCBpbmRleCA9IGRlc2NyaXB0b3JzLmZpbmRJbmRleChcbiAgICAgICAgICAoZGVzY3JpcHRvcikgPT4gZGVzY3JpcHRvci50YWcgPT09IHZpZXdUYWdcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGRlc2NyaXB0b3JzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3JzO1xuICAgICAgfSwgZmFsc2UpO1xuICAgIH0sXG4gIH07XG4gIHJldHVybiBkYXRhO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUFDQSxNQUFBLENBQUFDLGNBQUEsQ0FBQUMsT0FBQTtFQUFBQyxLQUFBO0FBQUE7QUFBQUQsT0FBQSxDQUFBRSxzQkFBQSxHQUFBQSxzQkFBQTtBQUNiLElBQUFDLEtBQUEsR0FBQUMsT0FBQTtBQVVPLFNBQVNGLHNCQUFzQkEsQ0FBQSxFQUF1QjtFQUMzRCxJQUFNRyx3QkFBd0IsR0FBRyxJQUFBQyxpQkFBVyxFQUFlLEVBQUUsQ0FBQztFQUM5RCxJQUFNQyxJQUF3QixHQUFHO0lBQy9CRix3QkFBd0IsRUFBeEJBLHdCQUF3QjtJQUN4QkcsR0FBRyxFQUFFLFNBQUxBLEdBQUdBLENBQUdDLElBQWdCLEVBQUs7TUFDekJKLHdCQUF3QixDQUFDSyxNQUFNLENBQUMsVUFBQ0MsV0FBVyxFQUFLO1FBQy9DLFNBQVM7O1FBQ1QsSUFBTUMsS0FBSyxHQUFHRCxXQUFXLENBQUNFLFNBQVMsQ0FDakMsVUFBQ0MsVUFBVTtVQUFBLE9BQUtBLFVBQVUsQ0FBQ0MsR0FBRyxLQUFLTixJQUFJLENBQUNNLEdBQUc7UUFBQSxDQUM3QyxDQUFDO1FBQ0QsSUFBSUgsS0FBSyxLQUFLLENBQUMsQ0FBQyxFQUFFO1VBQ2hCRCxXQUFXLENBQUNDLEtBQUssQ0FBQyxHQUFHSCxJQUFJO1FBQzNCLENBQUMsTUFBTTtVQUNMRSxXQUFXLENBQUNLLElBQUksQ0FBQ1AsSUFBSSxDQUFDO1FBQ3hCO1FBQ0EsT0FBT0UsV0FBVztNQUNwQixDQUFDLEVBQUUsS0FBSyxDQUFDO0lBQ1gsQ0FBQztJQUVETSxNQUFNLEVBQUUsU0FBUkEsTUFBTUEsQ0FBR0MsT0FBZSxFQUFLO01BQzNCYix3QkFBd0IsQ0FBQ0ssTUFBTSxDQUFDLFVBQUNDLFdBQVcsRUFBSztRQUMvQyxTQUFTOztRQUNULElBQU1DLEtBQUssR0FBR0QsV0FBVyxDQUFDRSxTQUFTLENBQ2pDLFVBQUNDLFVBQVU7VUFBQSxPQUFLQSxVQUFVLENBQUNDLEdBQUcsS0FBS0csT0FBTztRQUFBLENBQzVDLENBQUM7UUFDRCxJQUFJTixLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQUU7VUFDaEJELFdBQVcsQ0FBQ1EsTUFBTSxDQUFDUCxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQzlCO1FBQ0EsT0FBT0QsV0FBVztNQUNwQixDQUFDLEVBQUUsS0FBSyxDQUFDO0lBQ1g7RUFDRixDQUFDO0VBQ0QsT0FBT0osSUFBSTtBQUNiIiwiaWdub3JlTGlzdCI6W119