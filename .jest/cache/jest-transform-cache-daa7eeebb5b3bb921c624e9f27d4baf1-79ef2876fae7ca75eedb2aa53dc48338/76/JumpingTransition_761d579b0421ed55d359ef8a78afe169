0750b8b96e01e48d90998d3031219681
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.JumpingTransition = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _animation = require("../../animation");
var _Easing = require("../../Easing");
var _animationBuilder = require("../animationBuilder");
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var JumpingTransition = exports.JumpingTransition = function (_BaseAnimationBuilder) {
  function JumpingTransition() {
    var _this;
    (0, _classCallCheck2.default)(this, JumpingTransition);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _callSuper(this, JumpingTransition, [].concat(args));
    _this.build = function () {
      var _this$durationV;
      var delayFunction = _this.getDelayFunction();
      var callback = _this.callbackV;
      var delay = _this.getDelay();
      var duration = (_this$durationV = _this.durationV) != null ? _this$durationV : 300;
      var halfDuration = duration / 2;
      var config = {
        duration: duration
      };
      return function (values) {
        'worklet';

        var d = Math.max(Math.abs(values.targetOriginX - values.currentOriginX), Math.abs(values.targetOriginY - values.currentOriginY));
        return {
          initialValues: {
            originX: values.currentOriginX,
            originY: values.currentOriginY,
            width: values.currentWidth,
            height: values.currentHeight
          },
          animations: {
            originX: delayFunction(delay, (0, _animation.withTiming)(values.targetOriginX, config)),
            originY: delayFunction(delay, (0, _animation.withSequence)((0, _animation.withTiming)(Math.min(values.targetOriginY, values.currentOriginY) - d, {
              duration: halfDuration,
              easing: _Easing.Easing.out(_Easing.Easing.exp)
            }), (0, _animation.withTiming)(values.targetOriginY, Object.assign({}, config, {
              duration: halfDuration,
              easing: _Easing.Easing.bounce
            })))),
            width: delayFunction(delay, (0, _animation.withTiming)(values.targetWidth, config)),
            height: delayFunction(delay, (0, _animation.withTiming)(values.targetHeight, config))
          },
          callback: callback
        };
      };
    };
    return _this;
  }
  (0, _inherits2.default)(JumpingTransition, _BaseAnimationBuilder);
  return (0, _createClass2.default)(JumpingTransition, null, [{
    key: "createInstance",
    value: function createInstance() {
      return new JumpingTransition();
    }
  }]);
}(_animationBuilder.BaseAnimationBuilder);
JumpingTransition.presetName = 'JumpingTransition';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiSnVtcGluZ1RyYW5zaXRpb24iLCJfY2xhc3NDYWxsQ2hlY2syIiwiX2NyZWF0ZUNsYXNzMiIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuMiIsIl9nZXRQcm90b3R5cGVPZjIiLCJfaW5oZXJpdHMyIiwiX2FuaW1hdGlvbiIsIl9FYXNpbmciLCJfYW5pbWF0aW9uQnVpbGRlciIsIl9jYWxsU3VwZXIiLCJ0IiwibyIsImUiLCJkZWZhdWx0IiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvciIsImFwcGx5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJjYWxsIiwiX0Jhc2VBbmltYXRpb25CdWlsZGVyIiwiX3RoaXMiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJncyIsIkFycmF5IiwiX2tleSIsImNvbmNhdCIsImJ1aWxkIiwiX3RoaXMkZHVyYXRpb25WIiwiZGVsYXlGdW5jdGlvbiIsImdldERlbGF5RnVuY3Rpb24iLCJjYWxsYmFjayIsImNhbGxiYWNrViIsImRlbGF5IiwiZ2V0RGVsYXkiLCJkdXJhdGlvbiIsImR1cmF0aW9uViIsImhhbGZEdXJhdGlvbiIsImNvbmZpZyIsInZhbHVlcyIsImQiLCJNYXRoIiwibWF4IiwiYWJzIiwidGFyZ2V0T3JpZ2luWCIsImN1cnJlbnRPcmlnaW5YIiwidGFyZ2V0T3JpZ2luWSIsImN1cnJlbnRPcmlnaW5ZIiwiaW5pdGlhbFZhbHVlcyIsIm9yaWdpblgiLCJvcmlnaW5ZIiwid2lkdGgiLCJjdXJyZW50V2lkdGgiLCJoZWlnaHQiLCJjdXJyZW50SGVpZ2h0IiwiYW5pbWF0aW9ucyIsIndpdGhUaW1pbmciLCJ3aXRoU2VxdWVuY2UiLCJtaW4iLCJlYXNpbmciLCJFYXNpbmciLCJvdXQiLCJleHAiLCJhc3NpZ24iLCJib3VuY2UiLCJ0YXJnZXRXaWR0aCIsInRhcmdldEhlaWdodCIsImtleSIsImNyZWF0ZUluc3RhbmNlIiwiQmFzZUFuaW1hdGlvbkJ1aWxkZXIiLCJwcmVzZXROYW1lIl0sInNvdXJjZXMiOlsiSnVtcGluZ1RyYW5zaXRpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHR5cGUge1xuICBJTGF5b3V0QW5pbWF0aW9uQnVpbGRlcixcbiAgTGF5b3V0QW5pbWF0aW9uRnVuY3Rpb24sXG59IGZyb20gJy4uL2FuaW1hdGlvbkJ1aWxkZXIvY29tbW9uVHlwZXMnO1xuaW1wb3J0IHsgd2l0aFNlcXVlbmNlLCB3aXRoVGltaW5nIH0gZnJvbSAnLi4vLi4vYW5pbWF0aW9uJztcbmltcG9ydCB7IEVhc2luZyB9IGZyb20gJy4uLy4uL0Vhc2luZyc7XG5pbXBvcnQgeyBCYXNlQW5pbWF0aW9uQnVpbGRlciB9IGZyb20gJy4uL2FuaW1hdGlvbkJ1aWxkZXInO1xuXG4vKipcbiAqIExheW91dCBqdW1wcyAtIHF1aXRlIGxpdGVyYWxseSAtIGZyb20gb25lIHBvc2l0aW9uIHRvIGFub3RoZXIuIFlvdSBjYW4gbW9kaWZ5IHRoZSBiZWhhdmlvciBieSBjaGFpbmluZyBtZXRob2RzIGxpa2UgYC5zcHJpbmdpZnkoKWAgb3IgYC5kdXJhdGlvbig1MDApYC5cbiAqXG4gKiBZb3UgcGFzcyBpdCB0byB0aGUgYGxheW91dGAgcHJvcCBvbiBbYW4gQW5pbWF0ZWQgY29tcG9uZW50XShodHRwczovL2RvY3Muc3dtYW5zaW9uLmNvbS9yZWFjdC1uYXRpdmUtcmVhbmltYXRlZC9kb2NzL2Z1bmRhbWVudGFscy9nbG9zc2FyeSNhbmltYXRlZC1jb21wb25lbnQpLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnN3bWFuc2lvbi5jb20vcmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWQvZG9jcy9sYXlvdXQtYW5pbWF0aW9ucy9sYXlvdXQtdHJhbnNpdGlvbnMjanVtcGluZy10cmFuc2l0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBKdW1waW5nVHJhbnNpdGlvblxuICBleHRlbmRzIEJhc2VBbmltYXRpb25CdWlsZGVyXG4gIGltcGxlbWVudHMgSUxheW91dEFuaW1hdGlvbkJ1aWxkZXJcbntcbiAgc3RhdGljIHByZXNldE5hbWUgPSAnSnVtcGluZ1RyYW5zaXRpb24nO1xuXG4gIHN0YXRpYyBjcmVhdGVJbnN0YW5jZTxUIGV4dGVuZHMgdHlwZW9mIEJhc2VBbmltYXRpb25CdWlsZGVyPihcbiAgICB0aGlzOiBUXG4gICk6IEluc3RhbmNlVHlwZTxUPiB7XG4gICAgcmV0dXJuIG5ldyBKdW1waW5nVHJhbnNpdGlvbigpIGFzIEluc3RhbmNlVHlwZTxUPjtcbiAgfVxuXG4gIGJ1aWxkID0gKCk6IExheW91dEFuaW1hdGlvbkZ1bmN0aW9uID0+IHtcbiAgICBjb25zdCBkZWxheUZ1bmN0aW9uID0gdGhpcy5nZXREZWxheUZ1bmN0aW9uKCk7XG4gICAgY29uc3QgY2FsbGJhY2sgPSB0aGlzLmNhbGxiYWNrVjtcbiAgICBjb25zdCBkZWxheSA9IHRoaXMuZ2V0RGVsYXkoKTtcbiAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuZHVyYXRpb25WID8/IDMwMDtcbiAgICBjb25zdCBoYWxmRHVyYXRpb24gPSBkdXJhdGlvbiAvIDI7XG4gICAgY29uc3QgY29uZmlnID0geyBkdXJhdGlvbiB9O1xuXG4gICAgcmV0dXJuICh2YWx1ZXMpID0+IHtcbiAgICAgICd3b3JrbGV0JztcbiAgICAgIGNvbnN0IGQgPSBNYXRoLm1heChcbiAgICAgICAgTWF0aC5hYnModmFsdWVzLnRhcmdldE9yaWdpblggLSB2YWx1ZXMuY3VycmVudE9yaWdpblgpLFxuICAgICAgICBNYXRoLmFicyh2YWx1ZXMudGFyZ2V0T3JpZ2luWSAtIHZhbHVlcy5jdXJyZW50T3JpZ2luWSlcbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbml0aWFsVmFsdWVzOiB7XG4gICAgICAgICAgb3JpZ2luWDogdmFsdWVzLmN1cnJlbnRPcmlnaW5YLFxuICAgICAgICAgIG9yaWdpblk6IHZhbHVlcy5jdXJyZW50T3JpZ2luWSxcbiAgICAgICAgICB3aWR0aDogdmFsdWVzLmN1cnJlbnRXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHZhbHVlcy5jdXJyZW50SGVpZ2h0LFxuICAgICAgICB9LFxuICAgICAgICBhbmltYXRpb25zOiB7XG4gICAgICAgICAgb3JpZ2luWDogZGVsYXlGdW5jdGlvbihcbiAgICAgICAgICAgIGRlbGF5LFxuICAgICAgICAgICAgd2l0aFRpbWluZyh2YWx1ZXMudGFyZ2V0T3JpZ2luWCwgY29uZmlnKVxuICAgICAgICAgICksXG4gICAgICAgICAgb3JpZ2luWTogZGVsYXlGdW5jdGlvbihcbiAgICAgICAgICAgIGRlbGF5LFxuICAgICAgICAgICAgd2l0aFNlcXVlbmNlKFxuICAgICAgICAgICAgICB3aXRoVGltaW5nKFxuICAgICAgICAgICAgICAgIE1hdGgubWluKHZhbHVlcy50YXJnZXRPcmlnaW5ZLCB2YWx1ZXMuY3VycmVudE9yaWdpblkpIC0gZCxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBkdXJhdGlvbjogaGFsZkR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgZWFzaW5nOiBFYXNpbmcub3V0KEVhc2luZy5leHApLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgd2l0aFRpbWluZyh2YWx1ZXMudGFyZ2V0T3JpZ2luWSwge1xuICAgICAgICAgICAgICAgIC4uLmNvbmZpZyxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogaGFsZkR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGVhc2luZzogRWFzaW5nLmJvdW5jZSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIHdpZHRoOiBkZWxheUZ1bmN0aW9uKGRlbGF5LCB3aXRoVGltaW5nKHZhbHVlcy50YXJnZXRXaWR0aCwgY29uZmlnKSksXG4gICAgICAgICAgaGVpZ2h0OiBkZWxheUZ1bmN0aW9uKGRlbGF5LCB3aXRoVGltaW5nKHZhbHVlcy50YXJnZXRIZWlnaHQsIGNvbmZpZykpLFxuICAgICAgICB9LFxuICAgICAgICBjYWxsYmFjayxcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFBQyxJQUFBQSxzQkFBQSxHQUFBQyxPQUFBO0FBQUFDLE1BQUEsQ0FBQUMsY0FBQSxDQUFBQyxPQUFBO0VBQUFDLEtBQUE7QUFBQTtBQUFBRCxPQUFBLENBQUFFLGlCQUFBO0FBQUEsSUFBQUMsZ0JBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFPLGFBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFRLDJCQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBUyxnQkFBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQVUsVUFBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBS2IsSUFBQVcsVUFBQSxHQUFBWCxPQUFBO0FBQ0EsSUFBQVksT0FBQSxHQUFBWixPQUFBO0FBQ0EsSUFBQWEsaUJBQUEsR0FBQWIsT0FBQTtBQUEyRCxTQUFBYyxXQUFBQyxDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxXQUFBRCxDQUFBLE9BQUFQLGdCQUFBLENBQUFTLE9BQUEsRUFBQUYsQ0FBQSxPQUFBUiwyQkFBQSxDQUFBVSxPQUFBLEVBQUFILENBQUEsRUFBQUkseUJBQUEsS0FBQUMsT0FBQSxDQUFBQyxTQUFBLENBQUFMLENBQUEsRUFBQUMsQ0FBQSxZQUFBUixnQkFBQSxDQUFBUyxPQUFBLEVBQUFILENBQUEsRUFBQU8sV0FBQSxJQUFBTixDQUFBLENBQUFPLEtBQUEsQ0FBQVIsQ0FBQSxFQUFBRSxDQUFBO0FBQUEsU0FBQUUsMEJBQUEsY0FBQUosQ0FBQSxJQUFBUyxPQUFBLENBQUFDLFNBQUEsQ0FBQUMsT0FBQSxD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