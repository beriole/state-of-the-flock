27b512da3eefda6745ce3def1bcf64ce
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getSwipeSimulator = getSwipeSimulator;
var _styleUpdater = require("./styleUpdater");
var _RNScreensTurboModule = require("./RNScreensTurboModule");
var BASE_VELOCITY = 400;
var ADDITIONAL_VELOCITY_FACTOR_X = 400;
var ADDITIONAL_VELOCITY_FACTOR_Y = 500;
var ADDITIONAL_VELOCITY_FACTOR_XY = 600;
function computeEasingProgress(startingTimestamp, distance, velocity) {
  'worklet';

  if (Math.abs(distance) < 1) {
    return 1;
  }
  var elapsedTime = (_getAnimationTimestamp() - startingTimestamp) / 1000;
  var currentPosition = velocity * elapsedTime;
  var progress = currentPosition / distance;
  return progress;
}
function easing(x) {
  'worklet';
  return 1 - Math.pow(1 - x, 5);
}
function computeProgress(screenTransitionConfig, event, isTransitionCanceled) {
  'worklet';

  var screenDimensions = screenTransitionConfig.screenDimensions;
  var progressX = Math.abs(event.translationX / screenDimensions.width);
  var progressY = Math.abs(event.translationY / screenDimensions.height);
  var maxProgress = Math.max(progressX, progressY);
  var progress = isTransitionCanceled ? maxProgress / 2 : maxProgress;
  return progress;
}
function maybeScheduleNextFrame(step, didScreenReachDestination, screenTransitionConfig, event, isTransitionCanceled) {
  'worklet';

  if (!didScreenReachDestination) {
    var stackTag = screenTransitionConfig.stackTag;
    var progress = computeProgress(screenTransitionConfig, event, isTransitionCanceled);
    _RNScreensTurboModule.RNScreensTurboModule.updateTransition(stackTag, progress);
    requestAnimationFrame(step);
  } else {
    screenTransitionConfig.onFinishAnimation == null || screenTransitionConfig.onFinishAnimation();
  }
}
function getSwipeSimulator(event, screenTransitionConfig, lockAxis) {
  'worklet';

  var screenDimensions = screenTransitionConfig.screenDimensions;
  var startTimestamp = _getAnimationTimestamp();
  var isTransitionCanceled = screenTransitionConfig.isTransitionCanceled;
  var startingPosition = {
    x: event.translationX,
    y: event.translationY
  };
  var direction = {
    x: Math.sign(event.translationX),
    y: Math.sign(event.translationY)
  };
  var finalPosition = isTransitionCanceled ? {
    x: 0,
    y: 0
  } : {
    x: direction.x * screenDimensions.width,
    y: direction.y * screenDimensions.height
  };
  var distance = {
    x: Math.abs(finalPosition.x - startingPosition.x),
    y: Math.abs(finalPosition.y - startingPosition.y)
  };
  var didScreenReachDestination = {
    x: false,
    y: false
  };
  var velocity = {
    x: BASE_VELOCITY,
    y: BASE_VELOCITY
  };
  if (lockAxis === 'x') {
    velocity.y = 0;
    velocity.x += ADDITIONAL_VELOCITY_FACTOR_X * distance.x / screenDimensions.width;
  } else if (lockAxis === 'y') {
    velocity.x = 0;
    velocity.y += ADDITIONAL_VELOCITY_FACTOR_Y * distance.y / screenDimensions.height;
  } else {
    var euclideanDistance = Math.sqrt(distance.x ** 2 + distance.y ** 2);
    var screenDiagonal = Math.sqrt(screenDimensions.width ** 2 + screenDimensions.height ** 2);
    var velocityVectorLength = BASE_VELOCITY + ADDITIONAL_VELOCITY_FACTOR_XY * euclideanDistance / screenDiagonal;
    if (Math.abs(startingPosition.x) > Math.abs(startingPosition.y)) {
      velocity.x = velocityVectorLength;
      velocity.y = velocityVectorLength * Math.abs(startingPosition.y / startingPosition.x);
    } else {
      velocity.x = velocityVectorLength * Math.abs(startingPosition.x / startingPosition.y);
      velocity.y = velocityVectorLength;
    }
  }
  if (isTransitionCanceled) {
    function didScreenReachDestinationCheck() {
      if (lockAxis === 'x') {
        return didScreenReachDestination.x;
      } else if (lockAxis === 'y') {
        return didScreenReachDestination.y;
      } else {
        return didScreenReachDestination.x && didScreenReachDestination.y;
      }
    }
    function restoreOriginalStyleForBelowTopScreen() {
      event.translationX = direction.x * screenDimensions.width;
      event.translationY = direction.y * screenDimensions.height;
      (0, _styleUpdater.applyStyleForBelowTopScreen)(screenTransitionConfig, event);
    }
    var _computeFrame = function computeFrame() {
      var progress = {
        x: computeEasingProgress(startTimestamp, distance.x, velocity.x),
        y: computeEasingProgress(startTimestamp, distance.y, velocity.y)
      };
      event.translationX = startingPosition.x - direction.x * distance.x * easing(progress.x);
      event.translationY = startingPosition.y - direction.y * distance.y * easing(progress.y);
      if (direction.x > 0) {
        if (event.translationX <= 0) {
          didScreenReachDestination.x = true;
          event.translationX = 0;
        }
      } else {
        if (event.translationX >= 0) {
          didScreenReachDestination.x = true;
          event.translationX = 0;
        }
      }
      if (direction.y > 0) {
        if (event.translationY <= 0) {
          didScreenReachDestination.y = true;
          event.translationY = 0;
        }
      } else {
        if (event.translationY >= 0) {
          didScreenReachDestination.y = true;
          event.translationY = 0;
        }
      }
      (0, _styleUpdater.applyStyle)(screenTransitionConfig, event);
      var finished = didScreenReachDestinationCheck();
      if (finished) {
        restoreOriginalStyleForBelowTopScreen();
      }
      maybeScheduleNextFrame(_computeFrame, finished, screenTransitionConfig, event, isTransitionCanceled);
    };
    return _computeFrame;
  } else {
    var _computeFrame2 = function computeFrame() {
      var progress = {
        x: computeEasingProgress(startTimestamp, distance.x, velocity.x),
        y: computeEasingProgress(startTimestamp, distance.y, velocity.y)
      };
      event.translationX = startingPosition.x + direction.x * distance.x * easing(progress.x);
      event.translationY = startingPosition.y + direction.y * distance.y * easing(progress.y);
      if (direction.x > 0) {
        if (event.translationX >= screenDimensions.width) {
          didScreenReachDestination.x = true;
          event.translationX = screenDimensions.width;
        }
      } else {
        if (event.translationX <= -screenDimensions.width) {
          didScreenReachDestination.x = true;
          event.translationX = -screenDimensions.width;
        }
      }
      if (direction.y > 0) {
        if (event.translationY >= screenDimensions.height) {
          didScreenReachDestination.y = true;
          event.translationY = screenDimensions.height;
        }
      } else {
        if (event.translationY <= -screenDimensions.height) {
          didScreenReachDestination.y = true;
          event.translationY = -screenDimensions.height;
        }
      }
      (0, _styleUpdater.applyStyle)(screenTransitionConfig, event);
      maybeScheduleNextFrame(_computeFrame2, didScreenReachDestination.x || didScreenReachDestination.y, screenTransitionConfig, event, isTransitionCanceled);
    };
    return _computeFrame2;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImdldFN3aXBlU2ltdWxhdG9yIiwiX3N0eWxlVXBkYXRlciIsInJlcXVpcmUiLCJfUk5TY3JlZW5zVHVyYm9Nb2R1bGUiLCJCQVNFX1ZFTE9DSVRZIiwiQURESVRJT05BTF9WRUxPQ0lUWV9GQUNUT1JfWCIsIkFERElUSU9OQUxfVkVMT0NJVFlfRkFDVE9SX1kiLCJBRERJVElPTkFMX1ZFTE9DSVRZX0ZBQ1RPUl9YWSIsImNvbXB1dGVFYXNpbmdQcm9ncmVzcyIsInN0YXJ0aW5nVGltZXN0YW1wIiwiZGlzdGFuY2UiLCJ2ZWxvY2l0eSIsIk1hdGgiLCJhYnMiLCJlbGFwc2VkVGltZSIsIl9nZXRBbmltYXRpb25UaW1lc3RhbXAiLCJjdXJyZW50UG9zaXRpb24iLCJwcm9ncmVzcyIsImVhc2luZyIsIngiLCJwb3ciLCJjb21wdXRlUHJvZ3Jlc3MiLCJzY3JlZW5UcmFuc2l0aW9uQ29uZmlnIiwiZXZlbnQiLCJpc1RyYW5zaXRpb25DYW5jZWxlZCIsInNjcmVlbkRpbWVuc2lvbnMiLCJwcm9ncmVzc1giLCJ0cmFuc2xhdGlvblgiLCJ3aWR0aCIsInByb2dyZXNzWSIsInRyYW5zbGF0aW9uWSIsImhlaWdodCIsIm1heFByb2dyZXNzIiwibWF4IiwibWF5YmVTY2hlZHVsZU5leHRGcmFtZSIsInN0ZXAiLCJkaWRTY3JlZW5SZWFjaERlc3RpbmF0aW9uIiwic3RhY2tUYWciLCJSTlNjcmVlbnNUdXJib01vZHVsZSIsInVwZGF0ZVRyYW5zaXRpb24iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvbkZpbmlzaEFuaW1hdGlvbiIsImxvY2tBeGlzIiwic3RhcnRUaW1lc3RhbXAiLCJzdGFydGluZ1Bvc2l0aW9uIiwieSIsImRpcmVjdGlvbiIsInNpZ24iLCJmaW5hbFBvc2l0aW9uIiwiZXVjbGlkZWFuRGlzdGFuY2UiLCJzcXJ0Iiwic2NyZWVuRGlhZ29uYWwiLCJ2ZWxvY2l0eVZlY3Rvckxlbmd0aCIsImRpZFNjcmVlblJlYWNoRGVzdGluYXRpb25DaGVjayIsInJlc3RvcmVPcmlnaW5hbFN0eWxlRm9yQmVsb3dUb3BTY3JlZW4iLCJhcHBseVN0eWxlRm9yQmVsb3dUb3BTY3JlZW4iLCJjb21wdXRlRnJhbWUiLCJhcHBseVN0eWxlIiwiZmluaXNoZWQiXSwic291cmNlcyI6WyJzd2lwZVNpbXVsYXRvci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgdHlwZSB7XG4gIFBhbkdlc3R1cmVIYW5kbGVyRXZlbnRQYXlsb2FkLFxuICBTY3JlZW5UcmFuc2l0aW9uQ29uZmlnLFxuICBMb2NrQXhpcyxcbn0gZnJvbSAnLi9jb21tb25UeXBlcyc7XG5pbXBvcnQgeyBhcHBseVN0eWxlLCBhcHBseVN0eWxlRm9yQmVsb3dUb3BTY3JlZW4gfSBmcm9tICcuL3N0eWxlVXBkYXRlcic7XG5pbXBvcnQgeyBSTlNjcmVlbnNUdXJib01vZHVsZSB9IGZyb20gJy4vUk5TY3JlZW5zVHVyYm9Nb2R1bGUnO1xuXG5jb25zdCBCQVNFX1ZFTE9DSVRZID0gNDAwO1xuY29uc3QgQURESVRJT05BTF9WRUxPQ0lUWV9GQUNUT1JfWCA9IDQwMDtcbmNvbnN0IEFERElUSU9OQUxfVkVMT0NJVFlfRkFDVE9SX1kgPSA1MDA7XG5jb25zdCBBRERJVElPTkFMX1ZFTE9DSVRZX0ZBQ1RPUl9YWSA9IDYwMDtcblxuZnVuY3Rpb24gY29tcHV0ZUVhc2luZ1Byb2dyZXNzKFxuICBzdGFydGluZ1RpbWVzdGFtcDogbnVtYmVyLFxuICBkaXN0YW5jZTogbnVtYmVyLFxuICB2ZWxvY2l0eTogbnVtYmVyXG4pIHtcbiAgJ3dvcmtsZXQnO1xuICBpZiAoTWF0aC5hYnMoZGlzdGFuY2UpIDwgMSkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIGNvbnN0IGVsYXBzZWRUaW1lID0gKF9nZXRBbmltYXRpb25UaW1lc3RhbXAoKSAtIHN0YXJ0aW5nVGltZXN0YW1wKSAvIDEwMDA7XG4gIGNvbnN0IGN1cnJlbnRQb3NpdGlvbiA9IHZlbG9jaXR5ICogZWxhcHNlZFRpbWU7XG4gIGNvbnN0IHByb2dyZXNzID0gY3VycmVudFBvc2l0aW9uIC8gZGlzdGFuY2U7XG4gIHJldHVybiBwcm9ncmVzcztcbn1cblxuZnVuY3Rpb24gZWFzaW5nKHg6IG51bWJlcik6IG51bWJlciB7XG4gICd3b3JrbGV0JztcbiAgLy8gYmFzZWQgb24gaHR0cHM6Ly9lYXNpbmdzLm5ldC8jZWFzZU91dFF1YXJ0XG4gIHJldHVybiAxIC0gTWF0aC5wb3coMSAtIHgsIDUpO1xufVxuXG5mdW5jdGlvbiBjb21wdXRlUHJvZ3Jlc3MoXG4gIHNjcmVlblRyYW5zaXRpb25Db25maWc6IFNjcmVlblRyYW5zaXRpb25Db25maWcsXG4gIGV2ZW50OiBQYW5HZXN0dXJlSGFuZGxlckV2ZW50UGF5bG9hZCxcbiAgaXNUcmFuc2l0aW9uQ2FuY2VsZWQ6IGJvb2xlYW5cbikge1xuICAnd29ya2xldCc7XG4gIGNvbnN0IHNjcmVlbkRpbWVuc2lvbnMgPSBzY3JlZW5UcmFuc2l0aW9uQ29uZmlnLnNjcmVlbkRpbWVuc2lvbnM7XG4gIGNvbnN0IHByb2dyZXNzWCA9IE1hdGguYWJzKGV2ZW50LnRyYW5zbGF0aW9uWCAvIHNjcmVlbkRpbWVuc2lvbnMud2lkdGgpO1xuICBjb25zdCBwcm9ncmVzc1kgPSBNYXRoLmFicyhldmVudC50cmFuc2xhdGlvblkgLyBzY3JlZW5EaW1lbnNpb25zLmhlaWdodCk7XG4gIGNvbnN0IG1heFByb2dyZXNzID0gTWF0aC5tYXgocHJvZ3Jlc3NYLCBwcm9ncmVzc1kpO1xuICBjb25zdCBwcm9ncmVzcyA9IGlzVHJhbnNpdGlvbkNhbmNlbGVkID8gbWF4UHJvZ3Jlc3MgLyAyIDogbWF4UHJvZ3Jlc3M7XG4gIHJldHVybiBwcm9ncmVzcztcbn1cblxuZnVuY3Rpb24gbWF5YmVTY2hlZHVsZU5leHRGcmFtZShcbiAgc3RlcDogKCkgPT4gdm9pZCxcbiAgZGlkU2NyZWVuUmVhY2hEZXN0aW5hdGlvbjogYm9vbGVhbixcbiAgc2NyZWVuVHJhbnNpdGlvbkNvbmZpZzogU2NyZWVuVHJhbnNpdGlvbkNvbmZpZyxcbiAgZXZlbnQ6IFBhbkdlc3R1cmVIYW5kbGVyRXZlbnRQYXlsb2FkLFxuICBpc1RyYW5zaXRpb25DYW5jZWxlZDogYm9vbGVhblxuKSB7XG4gICd3b3JrbGV0JztcbiAgaWYgKCFkaWRTY3JlZW5SZWFjaERlc3RpbmF0aW9uKSB7XG4gICAgY29uc3Qgc3RhY2tUYWcgPSBzY3JlZW5UcmFuc2l0aW9uQ29uZmlnLnN0YWNrVGFnO1xuICAgIGNvbnN0IHByb2dyZXNzID0gY29tcHV0ZVByb2dyZXNzKFxuICAgICAgc2NyZWVuVHJhbnNpdGlvbkNvbmZpZyxcbiAgICAgIGV2ZW50LFxuICAgICAgaXNUcmFuc2l0aW9uQ2FuY2VsZWRcbiAgICApO1xuICAgIFJOU2NyZWVuc1R1cmJvTW9kdWxlLnVwZGF0ZVRyYW5zaXRpb24oc3RhY2tUYWcsIHByb2dyZXNzKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG4gIH0gZWxzZSB7XG4gICAgc2NyZWVuVHJhbnNpdGlvbkNvbmZpZy5vbkZpbmlzaEFuaW1hdGlvbj8uKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFN3aXBlU2ltdWxhdG9yKFxuICBldmVudDogUGFuR2VzdHVyZUhhbmRsZXJFdmVudFBheWxvYWQsXG4gIHNjcmVlblRyYW5zaXRpb25Db25maWc6IFNjcmVlblRyYW5zaXRpb25Db25maWcsXG4gIGxvY2tBeGlzPzogTG9ja0F4aXNcbikge1xuICAnd29ya2xldCc7XG4gIGNvbnN0IHNjcmVlbkRpbWVuc2lvbnMgPSBzY3JlZW5UcmFuc2l0aW9uQ29uZmlnLnNjcmVlbkRpbWVuc2lvbnM7XG4gIGNvbnN0IHN0YXJ0VGltZXN0YW1wID0gX2dldEFuaW1hdGlvblRpbWVzdGFtcCgpO1xuICBjb25zdCB7IGlzVHJhbnNpdGlvbkNhbmNlbGVkIH0gPSBzY3JlZW5UcmFuc2l0aW9uQ29uZmlnO1xuICBjb25zdCBzdGFydGluZ1Bvc2l0aW9uID0ge1xuICAgIHg6IGV2ZW50LnRyYW5zbGF0aW9uWCxcbiAgICB5OiBldmVudC50cmFuc2xhdGlvblksXG4gIH07XG4gIGNvbnN0IGRpcmVjdGlvbiA9IHtcbiAgICB4OiBNYXRoLnNpZ24oZXZlbnQudHJhbnNsYXRpb25YKSxcbiAgICB5OiBNYXRoLnNpZ24oZXZlbnQudHJhbnNsYXRpb25ZKSxcbiAgfTtcbiAgY29uc3QgZmluYWxQb3NpdGlvbiA9IGlzVHJhbnNpdGlvbkNhbmNlbGVkXG4gICAgPyB7IHg6IDAsIHk6IDAgfVxuICAgIDoge1xuICAgICAgICB4OiBkaXJlY3Rpb24ueCAqIHNjcmVlbkRpbWVuc2lvbnMud2lkdGgsXG4gICAgICAgIHk6IGRpcmVjdGlvbi55ICogc2NyZWVuRGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICB9O1xuICBjb25zdCBkaXN0YW5jZSA9IHtcbiAgICB4OiBNYXRoLmFicyhmaW5hbFBvc2l0aW9uLnggLSBzdGFydGluZ1Bvc2l0aW9uLngpLFxuICAgIHk6IE1hdGguYWJzKGZpbmFsUG9zaXRpb24ueSAtIHN0YXJ0aW5nUG9zaXRpb24ueSksXG4gIH07XG4gIGNvbnN0IGRpZFNjcmVlblJlYWNoRGVzdGluYXRpb24gPSB7XG4gICAgeDogZmFsc2UsXG4gICAgeTogZmFsc2UsXG4gIH07XG4gIGNvbnN0IHZlbG9jaXR5ID0geyB4OiBCQVNFX1ZFTE9DSVRZLCB5OiBCQVNFX1ZFTE9DSVRZIH07XG4gIGlmIChsb2NrQXhpcyA9PT0gJ3gnKSB7XG4gICAgdmVsb2NpdHkueSA9IDA7XG4gICAgdmVsb2NpdHkueCArPVxuICAgICAgKEFERElUSU9OQUxfVkVMT0NJVFlfRkFDVE9SX1ggKiBkaXN0YW5jZS54KSAvIHNjcmVlbkRpbWVuc2lvbnMud2lkdGg7XG4gIH0gZWxzZSBpZiAobG9ja0F4aXMgPT09ICd5Jykge1xuICAgIHZlbG9jaXR5LnggPSAwO1xuICAgIHZlbG9jaXR5LnkgKz1cbiAgICAgIChBRERJVElPTkFMX1ZFTE9DSVRZX0ZBQ1RPUl9ZICogZGlzdGFuY2UueSkgLyBzY3JlZW5EaW1lbnNpb25zLmhlaWdodDtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBldWNsaWRlYW5EaXN0YW5jZSA9IE1hdGguc3FydChkaXN0YW5jZS54ICoqIDIgKyBkaXN0YW5jZS55ICoqIDIpO1xuICAgIGNvbnN0IHNjcmVlbkRpYWdvbmFsID0gTWF0aC5zcXJ0KFxuICAgICAgc2NyZWVuRGltZW5zaW9ucy53aWR0aCAqKiAyICsgc2NyZWVuRGltZW5zaW9ucy5oZWlnaHQgKiogMlxuICAgICk7XG4gICAgY29uc3QgdmVsb2NpdHlWZWN0b3JMZW5ndGggPVxuICAgICAgQkFTRV9WRUxPQ0lUWSArXG4gICAgICAoQURESVRJT05BTF9WRUxPQ0lUWV9GQUNUT1JfWFkgKiBldWNsaWRlYW5EaXN0YW5jZSkgLyBzY3JlZW5EaWFnb25hbDtcbiAgICBpZiAoTWF0aC5hYnMoc3RhcnRpbmdQb3NpdGlvbi54KSA+IE1hdGguYWJzKHN0YXJ0aW5nUG9zaXRpb24ueSkpIHtcbiAgICAgIHZlbG9jaXR5LnggPSB2ZWxvY2l0eVZlY3Rvckxlbmd0aDtcbiAgICAgIHZlbG9jaXR5LnkgPVxuICAgICAgICB2ZWxvY2l0eVZlY3Rvckxlbmd0aCAqXG4gICAgICAgIE1hdGguYWJzKHN0YXJ0aW5nUG9zaXRpb24ueSAvIHN0YXJ0aW5nUG9zaXRpb24ueCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZlbG9jaXR5LnggPVxuICAgICAgICB2ZWxvY2l0eVZlY3Rvckxlbmd0aCAqXG4gICAgICAgIE1hdGguYWJzKHN0YXJ0aW5nUG9zaXRpb24ueCAvIHN0YXJ0aW5nUG9zaXRpb24ueSk7XG4gICAgICB2ZWxvY2l0eS55ID0gdmVsb2NpdHlWZWN0b3JMZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgaWYgKGlzVHJhbnNpdGlvbkNhbmNlbGVkKSB7XG4gICAgZnVuY3Rpb24gZGlkU2NyZWVuUmVhY2hEZXN0aW5hdGlvbkNoZWNrKCkge1xuICAgICAgaWYgKGxvY2tBeGlzID09PSAneCcpIHtcbiAgICAgICAgcmV0dXJuIGRpZFNjcmVlblJlYWNoRGVzdGluYXRpb24ueDtcbiAgICAgIH0gZWxzZSBpZiAobG9ja0F4aXMgPT09ICd5Jykge1xuICAgICAgICByZXR1cm4gZGlkU2NyZWVuUmVhY2hEZXN0aW5hdGlvbi55O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRpZFNjcmVlblJlYWNoRGVzdGluYXRpb24ueCAmJiBkaWRTY3JlZW5SZWFjaERlc3RpbmF0aW9uLnk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzdG9yZU9yaWdpbmFsU3R5bGVGb3JCZWxvd1RvcFNjcmVlbigpIHtcbiAgICAgIGV2ZW50LnRyYW5zbGF0aW9uWCA9IGRpcmVjdGlvbi54ICogc2NyZWVuRGltZW5zaW9ucy53aWR0aDtcbiAgICAgIGV2ZW50LnRyYW5zbGF0aW9uWSA9IGRpcmVjdGlvbi55ICogc2NyZWVuRGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgICBhcHBseVN0eWxlRm9yQmVsb3dUb3BTY3JlZW4oc2NyZWVuVHJhbnNpdGlvbkNvbmZpZywgZXZlbnQpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbXB1dGVGcmFtZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2dyZXNzID0ge1xuICAgICAgICB4OiBjb21wdXRlRWFzaW5nUHJvZ3Jlc3Moc3RhcnRUaW1lc3RhbXAsIGRpc3RhbmNlLngsIHZlbG9jaXR5LngpLFxuICAgICAgICB5OiBjb21wdXRlRWFzaW5nUHJvZ3Jlc3Moc3RhcnRUaW1lc3RhbXAsIGRpc3RhbmNlLnksIHZlbG9jaXR5LnkpLFxuICAgICAgfTtcbiAgICAgIGV2ZW50LnRyYW5zbGF0aW9uWCA9XG4gICAgICAgIHN0YXJ0aW5nUG9zaXRpb24ueCAtIGRpcmVjdGlvbi54ICogZGlzdGFuY2UueCAqIGVhc2luZyhwcm9ncmVzcy54KTtcbiAgICAgIGV2ZW50LnRyYW5zbGF0aW9uWSA9XG4gICAgICAgIHN0YXJ0aW5nUG9zaXRpb24ueSAtIGRpcmVjdGlvbi55ICogZGlzdGFuY2UueSAqIGVhc2luZyhwcm9ncmVzcy55KTtcbiAgICAgIGlmIChkaXJlY3Rpb24ueCA+IDApIHtcbiAgICAgICAgaWYgKGV2ZW50LnRyYW5zbGF0aW9uWCA8PSAwKSB7XG4gICAgICAgICAgZGlkU2NyZWVuUmVhY2hEZXN0aW5hdGlvbi54ID0gdHJ1ZTtcbiAgICAgICAgICBldmVudC50cmFuc2xhdGlvblggPSAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZXZlbnQudHJhbnNsYXRpb25YID49IDApIHtcbiAgICAgICAgICBkaWRTY3JlZW5SZWFjaERlc3RpbmF0aW9uLnggPSB0cnVlO1xuICAgICAgICAgIGV2ZW50LnRyYW5zbGF0aW9uWCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChkaXJlY3Rpb24ueSA+IDApIHtcbiAgICAgICAgaWYgKGV2ZW50LnRyYW5zbGF0aW9uWSA8PSAwKSB7XG4gICAgICAgICAgZGlkU2NyZWVuUmVhY2hEZXN0aW5hdGlvbi55ID0gdHJ1ZTtcbiAgICAgICAgICBldmVudC50cmFuc2xhdGlvblkgPSAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZXZlbnQudHJhbnNsYXRpb25ZID49IDApIHtcbiAgICAgICAgICBkaWRTY3JlZW5SZWFjaERlc3RpbmF0aW9uLnkgPSB0cnVlO1xuICAgICAgICAgIGV2ZW50LnRyYW5zbGF0aW9uWSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGFwcGx5U3R5bGUoc2NyZWVuVHJhbnNpdGlvbkNvbmZpZywgZXZlbnQpO1xuICAgICAgY29uc3QgZmluaXNoZWQgPSBkaWRTY3JlZW5SZWFjaERlc3RpbmF0aW9uQ2hlY2soKTtcbiAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICByZXN0b3JlT3JpZ2luYWxTdHlsZUZvckJlbG93VG9wU2NyZWVuKCk7XG4gICAgICB9XG4gICAgICBtYXliZVNjaGVkdWxlTmV4dEZyYW1lKFxuICAgICAgICBjb21wdXRlRnJhbWUsXG4gICAgICAgIGZpbmlzaGVkLFxuICAgICAgICBzY3JlZW5UcmFuc2l0aW9uQ29uZmlnLFxuICAgICAgICBldmVudCxcbiAgICAgICAgaXNUcmFuc2l0aW9uQ2FuY2VsZWRcbiAgICAgICk7XG4gICAgfTtcbiAgICByZXR1cm4gY29tcHV0ZUZyYW1lO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNvbXB1dGVGcmFtZSA9ICgpID0+IHtcbiAgICAgIGNvbnN0IHByb2dyZXNzID0ge1xuICAgICAgICB4OiBjb21wdXRlRWFzaW5nUHJvZ3Jlc3Moc3RhcnRUaW1lc3RhbXAsIGRpc3RhbmNlLngsIHZlbG9jaXR5LngpLFxuICAgICAgICB5OiBjb21wdXRlRWFzaW5nUHJvZ3Jlc3Moc3RhcnRUaW1lc3RhbXAsIGRpc3RhbmNlLnksIHZlbG9jaXR5LnkpLFxuICAgICAgfTtcbiAgICAgIGV2ZW50LnRyYW5zbGF0aW9uWCA9XG4gICAgICAgIHN0YXJ0aW5nUG9zaXRpb24ueCArIGRpcmVjdGlvbi54ICogZGlzdGFuY2UueCAqIGVhc2luZyhwcm9ncmVzcy54KTtcbiAgICAgIGV2ZW50LnRyYW5zbGF0aW9uWSA9XG4gICAgICAgIHN0YXJ0aW5nUG9zaXRpb24ueSArIGRpcmVjdGlvbi55ICogZGlzdGFuY2UueSAqIGVhc2luZyhwcm9ncmVzcy55KTtcbiAgICAgIGlmIChkaXJlY3Rpb24ueCA+IDApIHtcbiAgICAgICAgaWYgKGV2ZW50LnRyYW5zbGF0aW9uWCA+PSBzY3JlZW5EaW1lbnNpb25zLndpZHRoKSB7XG4gICAgICAgICAgZGlkU2NyZWVuUmVhY2hEZXN0aW5hdGlvbi54ID0gdHJ1ZTtcbiAgICAgICAgICBldmVudC50cmFuc2xhdGlvblggPSBzY3JlZW5EaW1lbnNpb25zLndpZHRoO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZXZlbnQudHJhbnNsYXRpb25YIDw9IC1zY3JlZW5EaW1lbnNpb25zLndpZHRoKSB7XG4gICAgICAgICAgZGlkU2NyZWVuUmVhY2hEZXN0aW5hdGlvbi54ID0gdHJ1ZTtcbiAgICAgICAgICBldmVudC50cmFuc2xhdGlvblggPSAtc2NyZWVuRGltZW5zaW9ucy53aWR0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRpcmVjdGlvbi55ID4gMCkge1xuICAgICAgICBpZiAoZXZlbnQudHJhbnNsYXRpb25ZID49IHNjcmVlbkRpbWVuc2lvbnMuaGVpZ2h0KSB7XG4gICAgICAgICAgZGlkU2NyZWVuUmVhY2hEZXN0aW5hdGlvbi55ID0gdHJ1ZTtcbiAgICAgICAgICBldmVudC50cmFuc2xhdGlvblkgPSBzY3JlZW5EaW1lbnNpb25zLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGV2ZW50LnRyYW5zbGF0aW9uWSA8PSAtc2NyZWVuRGltZW5zaW9ucy5oZWlnaHQpIHtcbiAgICAgICAgICBkaWRTY3JlZW5SZWFjaERlc3RpbmF0aW9uLnkgPSB0cnVlO1xuICAgICAgICAgIGV2ZW50LnRyYW5zbGF0aW9uWSA9IC1zY3JlZW5EaW1lbnNpb25zLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXBwbHlTdHlsZShzY3JlZW5UcmFuc2l0aW9uQ29uZmlnLCBldmVudCk7XG4gICAgICBtYXliZVNjaGVkdWxlTmV4dEZyYW1lKFxuICAgICAgICBjb21wdXRlRnJhbWUsXG4gICAgICAgIGRpZFNjcmVlblJlYWNoRGVzdGluYXRpb24ueCB8fCBkaWRTY3JlZW5SZWFjaERlc3RpbmF0aW9uLnksXG4gICAgICAgIHNjcmVlblRyYW5zaXRpb25Db25maWcsXG4gICAgICAgIGV2ZW50LFxuICAgICAgICBpc1RyYW5zaXRpb25DYW5jZWxlZFxuICAgICAgKTtcbiAgICB9O1xuICAgIHJldHVybiBjb21wdXRlRnJhbWU7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFBQ0EsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsaUJB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