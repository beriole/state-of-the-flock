{"version":3,"names":["Object","defineProperty","exports","value","getShadowNodeWrapperFromRef","findHostInstance_DEPRECATED","getInternalInstanceHandleFromPublicInstance","ref","_ref$getScrollRespond","_ref$__internalInstan","undefined","require","e","_ref","_require$getInternalI","_internalInstanceHandle","scrollViewRef","getScrollResponder","getNativeScrollRef","otherScrollViewRef","textInputRef","__internalInstanceHandle","stateNode","node","resolvedRef"],"sources":["fabricUtils.ts"],"sourcesContent":["'use strict';\n/* eslint-disable */\n\nimport type { ShadowNodeWrapper } from './commonTypes';\n\nlet findHostInstance_DEPRECATED: (ref: unknown) => void;\nlet getInternalInstanceHandleFromPublicInstance: (ref: unknown) => {\n  stateNode: { node: unknown };\n};\n\nexport function getShadowNodeWrapperFromRef(\n  ref: React.Component\n): ShadowNodeWrapper {\n  // load findHostInstance_DEPRECATED lazily because it may not be available before render\n  if (findHostInstance_DEPRECATED === undefined) {\n    try {\n      findHostInstance_DEPRECATED =\n        require('react-native/Libraries/Renderer/shims/ReactFabric').findHostInstance_DEPRECATED;\n    } catch (e) {\n      findHostInstance_DEPRECATED = (_ref: unknown) => null;\n    }\n  }\n\n  if (getInternalInstanceHandleFromPublicInstance === undefined) {\n    try {\n      getInternalInstanceHandleFromPublicInstance =\n        require('react-native/Libraries/ReactNative/ReactFabricPublicInstance/ReactFabricPublicInstance')\n          .getInternalInstanceHandleFromPublicInstance ??\n        ((_ref: any) => _ref._internalInstanceHandle);\n    } catch (e) {\n      getInternalInstanceHandleFromPublicInstance = (_ref: any) =>\n        _ref._internalInstanceHandle;\n    }\n  }\n\n  // taken from https://github.com/facebook/react-native/commit/803bb16531697233686efd475f004c1643e03617#diff-d8172256c6d63b5d32db10e54d7b10f37a26b337d5280d89f5bfd7bcea778292R196\n  // @ts-ignore some weird stuff on RN 0.74 - see examples with scrollView\n  const scrollViewRef = ref?.getScrollResponder?.()?.getNativeScrollRef?.();\n  // @ts-ignore some weird stuff on RN 0.74  - see examples with scrollView\n  const otherScrollViewRef = ref?.getNativeScrollRef?.();\n  // @ts-ignore some weird stuff on RN 0.74 - see setNativeProps example\n  const textInputRef = ref?.__internalInstanceHandle?.stateNode?.node;\n\n  let resolvedRef;\n  if (scrollViewRef) {\n    resolvedRef = scrollViewRef.__internalInstanceHandle.stateNode.node;\n  } else if (otherScrollViewRef) {\n    resolvedRef = otherScrollViewRef.__internalInstanceHandle.stateNode.node;\n  } else if (textInputRef) {\n    resolvedRef = textInputRef;\n  } else {\n    resolvedRef = getInternalInstanceHandleFromPublicInstance(\n      findHostInstance_DEPRECATED(ref)\n    ).stateNode.node;\n  }\n\n  return resolvedRef;\n}\n"],"mappings":"AAAA,YAAY;AAACA,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,KAAA;AAAA;AAAAD,OAAA,CAAAE,2BAAA,GAAAA,2BAAA;AAKb,IAAIC,2BAAmD;AACvD,IAAIC,2CAEH;AAEM,SAASF,2BAA2BA,CACzCG,GAAoB,EACD;EAAA,IAAAC,qBAAA,EAAAC,qBAAA;EAEnB,IAAIJ,2BAA2B,KAAKK,SAAS,EAAE;IAC7C,IAAI;MACFL,2BAA2B,GACzBM,OAAO,CAAC,mDAAmD,CAAC,CAACN,2BAA2B;IAC5F,CAAC,CAAC,OAAOO,CAAC,EAAE;MACVP,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAAIQ,IAAa;QAAA,OAAK,IAAI;MAAA;IACvD;EACF;EAEA,IAAIP,2CAA2C,KAAKI,SAAS,EAAE;IAC7D,IAAI;MAAA,IAAAI,qBAAA;MACFR,2CAA2C,IAAAQ,qBAAA,GACzCH,OAAO,CAAC,wFAAwF,CAAC,CAC9FL,2CAA2C,YAAAQ,qBAAA,GAC7C,UAACD,IAAS;QAAA,OAAKA,IAAI,CAACE,uBAAuB;MAAA,CAAC;IACjD,CAAC,CAAC,OAAOH,CAAC,EAAE;MACVN,2CAA2C,GAAG,SAA9CA,2CAA2CA,CAAIO,IAAS;QAAA,OACtDA,IAAI,CAACE,uBAAuB;MAAA;IAChC;EACF;EAIA,IAAMC,aAAa,GAAGT,GAAG,YAAHA,GAAG,CAAEU,kBAAkB,aAAAT,qBAAA,GAAvBD,GAAG,CAAEU,kBAAkB,CAAG,CAAC,aAA3BT,qBAAA,CAA6BU,kBAAkB,oBAA/CV,qBAAA,CAA6BU,kBAAkB,CAAG,CAAC;EAEzE,IAAMC,kBAAkB,GAAGZ,GAAG,YAAHA,GAAG,CAAEW,kBAAkB,oBAAvBX,GAAG,CAAEW,kBAAkB,CAAG,CAAC;EAEtD,IAAME,YAAY,GAAGb,GAAG,aAAAE,qBAAA,GAAHF,GAAG,CAAEc,wBAAwB,cAAAZ,qBAAA,GAA7BA,qBAAA,CAA+Ba,SAAS,qBAAxCb,qBAAA,CAA0Cc,IAAI;EAEnE,IAAIC,WAAW;EACf,IAAIR,aAAa,EAAE;IACjBQ,WAAW,GAAGR,aAAa,CAACK,wBAAwB,CAACC,SAAS,CAACC,IAAI;EACrE,CAAC,MAAM,IAAIJ,kBAAkB,EAAE;IAC7BK,WAAW,GAAGL,kBAAkB,CAACE,wBAAwB,CAACC,SAAS,CAACC,IAAI;EAC1E,CAAC,MAAM,IAAIH,YAAY,EAAE;IACvBI,WAAW,GAAGJ,YAAY;EAC5B,CAAC,MAAM;IACLI,WAAW,GAAGlB,2CAA2C,CACvDD,2BAA2B,CAACE,GAAG,CACjC,CAAC,CAACe,SAAS,CAACC,IAAI;EAClB;EAEA,OAAOC,WAAW;AACpB","ignoreList":[]}