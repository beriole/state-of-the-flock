112632c1267d92a6501a5f35d221b959
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.EasingNameSymbol = exports.Easing = void 0;
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _Bezier = require("./Bezier");
function linear(t) {
  'worklet';

  return t;
}
function ease(t) {
  'worklet';

  return (0, _Bezier.Bezier)(0.42, 0, 1, 1)(t);
}
function quad(t) {
  'worklet';

  return t * t;
}
function cubic(t) {
  'worklet';

  return t * t * t;
}
function poly(n) {
  'worklet';

  return function (t) {
    'worklet';

    return Math.pow(t, n);
  };
}
function sin(t) {
  'worklet';

  return 1 - Math.cos(t * Math.PI / 2);
}
function circle(t) {
  'worklet';

  return 1 - Math.sqrt(1 - t * t);
}
function exp(t) {
  'worklet';

  return Math.pow(2, 10 * (t - 1));
}
function elastic() {
  'worklet';

  var bounciness = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
  var p = bounciness * Math.PI;
  return function (t) {
    'worklet';

    return 1 - Math.pow(Math.cos(t * Math.PI / 2), 3) * Math.cos(t * p);
  };
}
function back() {
  'worklet';

  var s = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1.70158;
  return function (t) {
    'worklet';

    return t * t * ((s + 1) * t - s);
  };
}
function bounce(t) {
  'worklet';

  if (t < 1 / 2.75) {
    return 7.5625 * t * t;
  }
  if (t < 2 / 2.75) {
    var _t = t - 1.5 / 2.75;
    return 7.5625 * _t * _t + 0.75;
  }
  if (t < 2.5 / 2.75) {
    var _t2 = t - 2.25 / 2.75;
    return 7.5625 * _t2 * _t2 + 0.9375;
  }
  var t2 = t - 2.625 / 2.75;
  return 7.5625 * t2 * t2 + 0.984375;
}
function bezier(x1, y1, x2, y2) {
  'worklet';

  return {
    factory: function factory() {
      'worklet';

      return (0, _Bezier.Bezier)(x1, y1, x2, y2);
    }
  };
}
function bezierFn(x1, y1, x2, y2) {
  'worklet';

  return (0, _Bezier.Bezier)(x1, y1, x2, y2);
}
function in_(easing) {
  'worklet';

  return easing;
}
function out(easing) {
  'worklet';

  return function (t) {
    'worklet';

    return 1 - easing(1 - t);
  };
}
function inOut(easing) {
  'worklet';

  return function (t) {
    'worklet';

    if (t < 0.5) {
      return easing(t * 2) / 2;
    }
    return 1 - easing((1 - t) * 2) / 2;
  };
}
function steps() {
  'worklet';

  var n = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;
  var roundToNextStep = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
  return function (t) {
    'worklet';

    var value = Math.min(Math.max(t, 0), 1) * n;
    if (roundToNextStep) {
      return Math.ceil(value) / n;
    }
    return Math.floor(value) / n;
  };
}
var EasingObject = {
  linear: linear,
  ease: ease,
  quad: quad,
  cubic: cubic,
  poly: poly,
  sin: sin,
  circle: circle,
  exp: exp,
  elastic: elastic,
  back: back,
  bounce: bounce,
  bezier: bezier,
  bezierFn: bezierFn,
  steps: steps,
  in: in_,
  out: out,
  inOut: inOut
};
var EasingNameSymbol = exports.EasingNameSymbol = Symbol('easingName');
for (var _ref of Object.entries(EasingObject)) {
  var _ref2 = (0, _slicedToArray2.default)(_ref, 2);
  var easingName = _ref2[0];
  var easing = _ref2[1];
  Object.defineProperty(easing, EasingNameSymbol, {
    value: easingName,
    configurable: false,
    enumerable: false,
    writable: false
  });
}
var Easing = exports.Easing = EasingObject;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiRWFzaW5nTmFtZVN5bWJvbCIsIkVhc2luZyIsIl9zbGljZWRUb0FycmF5MiIsIl9CZXppZXIiLCJsaW5lYXIiLCJ0IiwiZWFzZSIsIkJlemllciIsInF1YWQiLCJjdWJpYyIsInBvbHkiLCJuIiwiTWF0aCIsInBvdyIsInNpbiIsImNvcyIsIlBJIiwiY2lyY2xlIiwic3FydCIsImV4cCIsImVsYXN0aWMiLCJib3VuY2luZXNzIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwicCIsImJhY2siLCJzIiwiYm91bmNlIiwidDIiLCJiZXppZXIiLCJ4MSIsInkxIiwieDIiLCJ5MiIsImZhY3RvcnkiLCJiZXppZXJGbiIsImluXyIsImVhc2luZyIsIm91dCIsImluT3V0Iiwic3RlcHMiLCJyb3VuZFRvTmV4dFN0ZXAiLCJtaW4iLCJtYXgiLCJjZWlsIiwiZmxvb3IiLCJFYXNpbmdPYmplY3QiLCJpbiIsIlN5bWJvbCIsIl9yZWYiLCJlbnRyaWVzIiwiX3JlZjIiLCJkZWZhdWx0IiwiZWFzaW5nTmFtZSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSJdLCJzb3VyY2VzIjpbIkVhc2luZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBCZXppZXIgfSBmcm9tICcuL0Jlemllcic7XG5pbXBvcnQgdHlwZSB7IEVhc2luZ0Z1bmN0aW9uIH0gZnJvbSAnLi9jb21tb25UeXBlcyc7XG5cbi8qKlxuICogVGhlIGBFYXNpbmdgIG1vZHVsZSBpbXBsZW1lbnRzIGNvbW1vbiBlYXNpbmcgZnVuY3Rpb25zLiBUaGlzIG1vZHVsZSBpcyB1c2VkXG4gKiBieSBbQW5pbWF0ZS50aW1pbmcoKV0oZG9jcy9hbmltYXRlLmh0bWwjdGltaW5nKSB0byBjb252ZXkgcGh5c2ljYWxseVxuICogYmVsaWV2YWJsZSBtb3Rpb24gaW4gYW5pbWF0aW9ucy5cbiAqXG4gKiBZb3UgY2FuIGZpbmQgYSB2aXN1YWxpemF0aW9uIG9mIHNvbWUgY29tbW9uIGVhc2luZyBmdW5jdGlvbnMgYXRcbiAqIGh0dHA6Ly9lYXNpbmdzLm5ldC9cbiAqXG4gKiAjIyMgUHJlZGVmaW5lZCBhbmltYXRpb25zXG4gKlxuICogVGhlIGBFYXNpbmdgIG1vZHVsZSBwcm92aWRlcyBzZXZlcmFsIHByZWRlZmluZWQgYW5pbWF0aW9ucyB0aHJvdWdoIHRoZVxuICogZm9sbG93aW5nIG1ldGhvZHM6XG4gKlxuICogLSBbYGJhY2tgXShkb2NzL2Vhc2luZy5odG1sI2JhY2spIHByb3ZpZGVzIGEgc2ltcGxlIGFuaW1hdGlvbiB3aGVyZSB0aGVcbiAqICAgb2JqZWN0IGdvZXMgc2xpZ2h0bHkgYmFjayBiZWZvcmUgbW92aW5nIGZvcndhcmRcbiAqIC0gW2Bib3VuY2VgXShkb2NzL2Vhc2luZy5odG1sI2JvdW5jZSkgcHJvdmlkZXMgYSBib3VuY2luZyBhbmltYXRpb25cbiAqIC0gW2BlYXNlYF0oZG9jcy9lYXNpbmcuaHRtbCNlYXNlKSBwcm92aWRlcyBhIHNpbXBsZSBpbmVydGlhbCBhbmltYXRpb25cbiAqIC0gW2BlbGFzdGljYF0oZG9jcy9lYXNpbmcuaHRtbCNlbGFzdGljKSBwcm92aWRlcyBhIHNpbXBsZSBzcHJpbmcgaW50ZXJhY3Rpb25cbiAqXG4gKiAjIyMgU3RhbmRhcmQgZnVuY3Rpb25zXG4gKlxuICogVGhyZWUgc3RhbmRhcmQgZWFzaW5nIGZ1bmN0aW9ucyBhcmUgcHJvdmlkZWQ6XG4gKlxuICogLSBbYGxpbmVhcmBdKGRvY3MvZWFzaW5nLmh0bWwjbGluZWFyKVxuICogLSBbYHF1YWRgXShkb2NzL2Vhc2luZy5odG1sI3F1YWQpXG4gKiAtIFtgY3ViaWNgXShkb2NzL2Vhc2luZy5odG1sI2N1YmljKVxuICpcbiAqIFRoZSBbYHBvbHlgXShkb2NzL2Vhc2luZy5odG1sI3BvbHkpIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGltcGxlbWVudFxuICogcXVhcnRpYywgcXVpbnRpYywgYW5kIG90aGVyIGhpZ2hlciBwb3dlciBmdW5jdGlvbnMuXG4gKlxuICogIyMjIEFkZGl0aW9uYWwgZnVuY3Rpb25zXG4gKlxuICogQWRkaXRpb25hbCBtYXRoZW1hdGljYWwgZnVuY3Rpb25zIGFyZSBwcm92aWRlZCBieSB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG4gKlxuICogLSBbYGJlemllcmBdKGRvY3MvZWFzaW5nLmh0bWwjYmV6aWVyKSBwcm92aWRlcyBhIGN1YmljIGJlemllciBjdXJ2ZVxuICogLSBbYGNpcmNsZWBdKGRvY3MvZWFzaW5nLmh0bWwjY2lyY2xlKSBwcm92aWRlcyBhIGNpcmN1bGFyIGZ1bmN0aW9uXG4gKiAtIFtgc2luYF0oZG9jcy9lYXNpbmcuaHRtbCNzaW4pIHByb3ZpZGVzIGEgc2ludXNvaWRhbCBmdW5jdGlvblxuICogLSBbYGV4cGBdKGRvY3MvZWFzaW5nLmh0bWwjZXhwKSBwcm92aWRlcyBhbiBleHBvbmVudGlhbCBmdW5jdGlvblxuICpcbiAqIFRoZSBmb2xsb3dpbmcgaGVscGVycyBhcmUgdXNlZCB0byBtb2RpZnkgb3RoZXIgZWFzaW5nIGZ1bmN0aW9ucy5cbiAqXG4gKiAtIFtgaW5gXShkb2NzL2Vhc2luZy5odG1sI2luKSBydW5zIGFuIGVhc2luZyBmdW5jdGlvbiBmb3J3YXJkc1xuICogLSBbYGluT3V0YF0oZG9jcy9lYXNpbmcuaHRtbCNpbm91dCkgbWFrZXMgYW55IGVhc2luZyBmdW5jdGlvbiBzeW1tZXRyaWNhbFxuICogLSBbYG91dGBdKGRvY3MvZWFzaW5nLmh0bWwjb3V0KSBydW5zIGFuIGVhc2luZyBmdW5jdGlvbiBiYWNrd2FyZHNcbiAqL1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIFBsZWFzZSB1c2Uge0BsaW5rIEVhc2luZ0Z1bmN0aW9ufSB0eXBlIGluc3RlYWQuXG4gKi9cbmV4cG9ydCB0eXBlIEVhc2luZ0ZuID0gRWFzaW5nRnVuY3Rpb247XG5cbmV4cG9ydCB0eXBlIEVhc2luZ0Z1bmN0aW9uRmFjdG9yeSA9IHsgZmFjdG9yeTogKCkgPT4gRWFzaW5nRnVuY3Rpb24gfTtcblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBQbGVhc2UgdXNlIHtAbGluayBFYXNpbmdGdW5jdGlvbkZhY3Rvcnl9IHR5cGUgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IHR5cGUgRWFzaW5nRmFjdG9yeUZuID0gRWFzaW5nRnVuY3Rpb25GYWN0b3J5O1xuLyoqXG4gKiBBIGxpbmVhciBmdW5jdGlvbiwgYGYodCkgPSB0YC4gUG9zaXRpb24gY29ycmVsYXRlcyB0byBlbGFwc2VkIHRpbWUgb25lIHRvXG4gKiBvbmUuXG4gKlxuICogaHR0cDovL2N1YmljLWJlemllci5jb20vIzAsMCwxLDFcbiAqL1xuZnVuY3Rpb24gbGluZWFyKHQ6IG51bWJlcik6IG51bWJlciB7XG4gICd3b3JrbGV0JztcbiAgcmV0dXJuIHQ7XG59XG5cbi8qKlxuICogQSBzaW1wbGUgaW5lcnRpYWwgaW50ZXJhY3Rpb24sIHNpbWlsYXIgdG8gYW4gb2JqZWN0IHNsb3dseSBhY2NlbGVyYXRpbmcgdG9cbiAqIHNwZWVkLlxuICpcbiAqIGh0dHA6Ly9jdWJpYy1iZXppZXIuY29tLyMuNDIsMCwxLDFcbiAqL1xuZnVuY3Rpb24gZWFzZSh0OiBudW1iZXIpOiBudW1iZXIge1xuICAnd29ya2xldCc7XG4gIHJldHVybiBCZXppZXIoMC40MiwgMCwgMSwgMSkodCk7XG59XG5cbi8qKlxuICogQSBxdWFkcmF0aWMgZnVuY3Rpb24sIGBmKHQpID0gdCAqIHRgLiBQb3NpdGlvbiBlcXVhbHMgdGhlIHNxdWFyZSBvZiBlbGFwc2VkXG4gKiB0aW1lLlxuICpcbiAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluUXVhZFxuICovXG5mdW5jdGlvbiBxdWFkKHQ6IG51bWJlcik6IG51bWJlciB7XG4gICd3b3JrbGV0JztcbiAgcmV0dXJuIHQgKiB0O1xufVxuXG4vKipcbiAqIEEgY3ViaWMgZnVuY3Rpb24sIGBmKHQpID0gdCAqIHQgKiB0YC4gUG9zaXRpb24gZXF1YWxzIHRoZSBjdWJlIG9mIGVsYXBzZWRcbiAqIHRpbWUuXG4gKlxuICogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5DdWJpY1xuICovXG5mdW5jdGlvbiBjdWJpYyh0OiBudW1iZXIpOiBudW1iZXIge1xuICAnd29ya2xldCc7XG4gIHJldHVybiB0ICogdCAqIHQ7XG59XG5cbi8qKlxuICogQSBwb3dlciBmdW5jdGlvbi4gUG9zaXRpb24gaXMgZXF1YWwgdG8gdGhlIE50aCBwb3dlciBvZiBlbGFwc2VkIHRpbWUuXG4gKlxuICogbiA9IDQ6IGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluUXVhcnRcbiAqIG4gPSA1OiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJblF1aW50XG4gKi9cbmZ1bmN0aW9uIHBvbHkobjogbnVtYmVyKTogRWFzaW5nRnVuY3Rpb24ge1xuICAnd29ya2xldCc7XG4gIHJldHVybiAodCkgPT4ge1xuICAgICd3b3JrbGV0JztcbiAgICByZXR1cm4gTWF0aC5wb3codCwgbik7XG4gIH07XG59XG5cbi8qKlxuICogQSBzaW51c29pZGFsIGZ1bmN0aW9uLlxuICpcbiAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluU2luZVxuICovXG5mdW5jdGlvbiBzaW4odDogbnVtYmVyKTogbnVtYmVyIHtcbiAgJ3dvcmtsZXQnO1xuICByZXR1cm4gMSAtIE1hdGguY29zKCh0ICogTWF0aC5QSSkgLyAyKTtcbn1cblxuLyoqXG4gKiBBIGNpcmN1bGFyIGZ1bmN0aW9uLlxuICpcbiAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluQ2lyY1xuICovXG5mdW5jdGlvbiBjaXJjbGUodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgJ3dvcmtsZXQnO1xuICByZXR1cm4gMSAtIE1hdGguc3FydCgxIC0gdCAqIHQpO1xufVxuXG4vKipcbiAqIEFuIGV4cG9uZW50aWFsIGZ1bmN0aW9uLlxuICpcbiAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluRXhwb1xuICovXG5mdW5jdGlvbiBleHAodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgJ3dvcmtsZXQnO1xuICByZXR1cm4gTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKTtcbn1cblxuLyoqXG4gKiBBIHNpbXBsZSBlbGFzdGljIGludGVyYWN0aW9uLCBzaW1pbGFyIHRvIGEgc3ByaW5nIG9zY2lsbGF0aW5nIGJhY2sgYW5kXG4gKiBmb3J0aC5cbiAqXG4gKiBEZWZhdWx0IGJvdW5jaW5lc3MgaXMgMSwgd2hpY2ggb3ZlcnNob290cyBhIGxpdHRsZSBiaXQgb25jZS4gMCBib3VuY2luZXNzXG4gKiBkb2Vzbid0IG92ZXJzaG9vdCBhdCBhbGwsIGFuZCBib3VuY2luZXNzIG9mIE4gXFw+IDEgd2lsbCBvdmVyc2hvb3QgYWJvdXQgTlxuICogdGltZXMuXG4gKlxuICogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5FbGFzdGljXG4gKi9cbmZ1bmN0aW9uIGVsYXN0aWMoYm91bmNpbmVzcyA9IDEpOiBFYXNpbmdGdW5jdGlvbiB7XG4gICd3b3JrbGV0JztcbiAgY29uc3QgcCA9IGJvdW5jaW5lc3MgKiBNYXRoLlBJO1xuICByZXR1cm4gKHQpID0+IHtcbiAgICAnd29ya2xldCc7XG4gICAgcmV0dXJuIDEgLSBNYXRoLnBvdyhNYXRoLmNvcygodCAqIE1hdGguUEkpIC8gMiksIDMpICogTWF0aC5jb3ModCAqIHApO1xuICB9O1xufVxuXG4vKipcbiAqIFVzZSB3aXRoIGBBbmltYXRlZC5wYXJhbGxlbCgpYCB0byBjcmVhdGUgYSBzaW1wbGUgZWZmZWN0IHdoZXJlIHRoZSBvYmplY3RcbiAqIGFuaW1hdGVzIGJhY2sgc2xpZ2h0bHkgYXMgdGhlIGFuaW1hdGlvbiBzdGFydHMuXG4gKlxuICogV29sZnJhbSBQbG90OlxuICpcbiAqIC0gaHR0cDovL3RpbnkuY2MvYmFja19kZWZhdWx0IChzID0gMS43MDE1OCwgZGVmYXVsdClcbiAqL1xuZnVuY3Rpb24gYmFjayhzID0gMS43MDE1OCk6ICh0OiBudW1iZXIpID0+IG51bWJlciB7XG4gICd3b3JrbGV0JztcbiAgcmV0dXJuICh0KSA9PiB7XG4gICAgJ3dvcmtsZXQnO1xuICAgIHJldHVybiB0ICogdCAqICgocyArIDEpICogdCAtIHMpO1xuICB9O1xufVxuXG4vKipcbiAqIFByb3ZpZGVzIGEgc2ltcGxlIGJvdW5jaW5nIGVmZmVjdC5cbiAqXG4gKiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJbkJvdW5jZVxuICovXG5mdW5jdGlvbiBib3VuY2UodDogbnVtYmVyKTogbnVtYmVyIHtcbiAgJ3dvcmtsZXQnO1xuICBpZiAodCA8IDEgLyAyLjc1KSB7XG4gICAgcmV0dXJuIDcuNTYyNSAqIHQgKiB0O1xuICB9XG5cbiAgaWYgKHQgPCAyIC8gMi43NSkge1xuICAgIGNvbnN0IHQyID0gdCAtIDEuNSAvIDIuNzU7XG4gICAgcmV0dXJuIDcuNTYyNSAqIHQyICogdDIgKyAwLjc1O1xuICB9XG5cbiAgaWYgKHQgPCAyLjUgLyAyLjc1KSB7XG4gICAgY29uc3QgdDIgPSB0IC0gMi4yNSAvIDIuNzU7XG4gICAgcmV0dXJuIDcuNTYyNSAqIHQyICogdDIgKyAwLjkzNzU7XG4gIH1cblxuICBjb25zdCB0MiA9IHQgLSAyLjYyNSAvIDIuNzU7XG4gIHJldHVybiA3LjU2MjUgKiB0MiAqIHQyICsgMC45ODQzNzU7XG59XG5cbi8qKlxuICogUHJvdmlkZXMgYSBjdWJpYyBiZXppZXIgY3VydmUsIGVxdWl2YWxlbnQgdG8gQ1NTIFRyYW5zaXRpb25zJ1xuICogYHRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uYC5cbiAqXG4gKiBBIHVzZWZ1bCB0b29sIHRvIHZpc3VhbGl6ZSBjdWJpYyBiZXppZXIgY3VydmVzIGNhbiBiZSBmb3VuZCBhdFxuICogaHR0cDovL2N1YmljLWJlemllci5jb20vXG4gKi9cbmZ1bmN0aW9uIGJlemllcihcbiAgeDE6IG51bWJlcixcbiAgeTE6IG51bWJlcixcbiAgeDI6IG51bWJlcixcbiAgeTI6IG51bWJlclxuKTogeyBmYWN0b3J5OiAoKSA9PiAoeDogbnVtYmVyKSA9PiBudW1iZXIgfSB7XG4gICd3b3JrbGV0JztcbiAgcmV0dXJuIHtcbiAgICBmYWN0b3J5OiAoKSA9PiB7XG4gICAgICAnd29ya2xldCc7XG4gICAgICByZXR1cm4gQmV6aWVyKHgxLCB5MSwgeDIsIHkyKTtcbiAgICB9LFxuICB9O1xufVxuXG5mdW5jdGlvbiBiZXppZXJGbihcbiAgeDE6IG51bWJlcixcbiAgeTE6IG51bWJlcixcbiAgeDI6IG51bWJlcixcbiAgeTI6IG51bWJlclxuKTogKHg6IG51bWJlcikgPT4gbnVtYmVyIHtcbiAgJ3dvcmtsZXQnO1xuICByZXR1cm4gQmV6aWVyKHgxLCB5MSwgeDIsIHkyKTtcbn1cblxuLyoqXG4gKiBSdW5zIGFuIGVhc2luZyBmdW5jdGlvbiBmb3J3YXJkcy5cbiAqL1xuZnVuY3Rpb24gaW5fKGVhc2luZzogRWFzaW5nRnVuY3Rpb24pOiBFYXNpbmdGdW5jdGlvbiB7XG4gICd3b3JrbGV0JztcbiAgcmV0dXJuIGVhc2luZztcbn1cblxuLyoqXG4gKiBSdW5zIGFuIGVhc2luZyBmdW5jdGlvbiBiYWNrd2FyZHMuXG4gKi9cbmZ1bmN0aW9uIG91dChlYXNpbmc6IEVhc2luZ0Z1bmN0aW9uKTogRWFzaW5nRnVuY3Rpb24ge1xuICAnd29ya2xldCc7XG4gIHJldHVybiAodCkgPT4ge1xuICAgICd3b3JrbGV0JztcbiAgICByZXR1cm4gMSAtIGVhc2luZygxIC0gdCk7XG4gIH07XG59XG5cbi8qKlxuICogTWFrZXMgYW55IGVhc2luZyBmdW5jdGlvbiBzeW1tZXRyaWNhbC4gVGhlIGVhc2luZyBmdW5jdGlvbiB3aWxsIHJ1blxuICogZm9yd2FyZHMgZm9yIGhhbGYgb2YgdGhlIGR1cmF0aW9uLCB0aGVuIGJhY2t3YXJkcyBmb3IgdGhlIHJlc3Qgb2YgdGhlXG4gKiBkdXJhdGlvbi5cbiAqL1xuZnVuY3Rpb24gaW5PdXQoZWFzaW5nOiBFYXNpbmdGdW5jdGlvbik6IEVhc2luZ0Z1bmN0aW9uIHtcbiAgJ3dvcmtsZXQnO1xuICByZXR1cm4gKHQpID0+IHtcbiAgICAnd29ya2xldCc7XG4gICAgaWYgKHQgPCAwLjUpIHtcbiAgICAgIHJldHVybiBlYXNpbmcodCAqIDIpIC8gMjtcbiAgICB9XG4gICAgcmV0dXJuIDEgLSBlYXNpbmcoKDEgLSB0KSAqIDIpIC8gMjtcbiAgfTtcbn1cblxuLyoqXG4gKiBUaGUgYHN0ZXBzYCBlYXNpbmcgZnVuY3Rpb24ganVtcHMgYmV0d2VlbiBkaXNjcmV0ZSB2YWx1ZXMgYXQgcmVndWxhciBpbnRlcnZhbHMsXG4gKiBjcmVhdGluZyBhIHN0ZXBwZWQgYW5pbWF0aW9uIGVmZmVjdC4gVGhlIGBuYCBwYXJhbWV0ZXIgZGV0ZXJtaW5lcyB0aGUgbnVtYmVyIG9mXG4gKiBzdGVwcyBpbiB0aGUgYW5pbWF0aW9uLCBhbmQgdGhlIGByb3VuZFRvTmV4dFN0ZXBgIHBhcmFtZXRlciBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGFuaW1hdGlvblxuICogc2hvdWxkIHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcgb3IgZW5kIG9mIGVhY2ggc3RlcC5cbiAqL1xuZnVuY3Rpb24gc3RlcHMobiA9IDEwLCByb3VuZFRvTmV4dFN0ZXAgPSB0cnVlKTogRWFzaW5nRnVuY3Rpb24ge1xuICAnd29ya2xldCc7XG4gIHJldHVybiAodCkgPT4ge1xuICAgICd3b3JrbGV0JztcbiAgICBjb25zdCB2YWx1ZSA9IE1hdGgubWluKE1hdGgubWF4KHQsIDApLCAxKSAqIG47XG4gICAgaWYgKHJvdW5kVG9OZXh0U3RlcCkge1xuICAgICAgcmV0dXJuIE1hdGguY2VpbCh2YWx1ZSkgLyBuO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5mbG9vcih2YWx1ZSkgLyBuO1xuICB9O1xufVxuXG5jb25zdCBFYXNpbmdPYmplY3QgPSB7XG4gIGxpbmVhcixcbiAgZWFzZSxcbiAgcXVhZCxcbiAgY3ViaWMsXG4gIHBvbHksXG4gIHNpbixcbiAgY2lyY2xlLFxuICBleHAsXG4gIGVsYXN0aWMsXG4gIGJhY2ssXG4gIGJvdW5jZSxcbiAgYmV6aWVyLFxuICBiZXppZXJGbixcbiAgc3RlcHMsXG4gIGluOiBpbl8sXG4gIG91dCxcbiAgaW5PdXQsXG59O1xuXG5leHBvcnQgY29uc3QgRWFzaW5nTmFtZVN5bWJvbCA9IFN5bWJvbCgnZWFzaW5nTmFtZScpO1xuXG5mb3IgKGNvbnN0IFtlYXNpbmdOYW1lLCBlYXNpbmddIG9mIE9iamVjdC5lbnRyaWVzKEVhc2luZ09iamVjdCkpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVhc2luZywgRWFzaW5nTmFtZVN5bWJvbCwge1xuICAgIHZhbHVlOiBlYXNpbmdOYW1lLFxuICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgd3JpdGFibGU6IGZhbHNlLFxuICB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IEVhc2luZyA9IEVhc2luZ09iamVjdDtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFBQSxJQUFBQSxzQkFBQSxHQUFBQyxPQUFBO0FBQUFDLE1BQUEsQ0FBQUMsY0FBQSxDQUFBQyxPQUFBO0VBQUFDLEtBQUE7QUFBQTtBQUFBRCxPQUFBLENBQUFFLGdCQUFBLEdBQUFGLE9BQUEsQ0FBQUcsTUFBQTtBQUFBLElBQUFDLGVBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNaLElBQUFRLE9BQUEsR0FBQVIsT0FBQTtBQWtFQSxTQUFTUyxNQUFNQSxDQUFDQyxDQUFTLEVBQVU7RUFDakMsU0FBUzs7RUFDVCxPQUFPQSxDQUFDO0FBQ1Y7QUFRQSxTQUFTQyxJQUFJQSxDQUFDRCxDQUFTLEVBQVU7RUFDL0IsU0FBUzs7RUFDVCxPQUFPLElBQUFFLGNBQU0sRUFBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQ0YsQ0FBQyxDQUFDO0FBQ2pDO0FBUUEsU0FBU0csSUFBSUEsQ0FBQ0gsQ0FBUyxFQUFVO0VBQy9CLFNBQVM7O0VBQ1QsT0FBT0EsQ0FBQyxHQUFHQSxDQUFDO0FBQ2Q7QUFRQSxTQUFTSSxLQUFLQSxDQUFDSixDQUFTLEVBQVU7RUFDaEMsU0FBUzs7RUFDVCxPQUFPQSxD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