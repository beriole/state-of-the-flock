a4f2eb8a48be0f58ce0eb7c18ba91074
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.SharedTransition = void 0;
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _animation = require("../../animation");
var _commonTypes = require("../animationBuilder/commonTypes");
var _commonTypes2 = require("../../commonTypes");
var _ProgressTransitionManager = require("./ProgressTransitionManager");
var _UpdateLayoutAnimations = require("../../UpdateLayoutAnimations");
var _util = require("../../animation/util");
function _defineProperty(obj, key, value) {
  key = _toPropertyKey(key);
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
function _toPropertyKey(t) {
  var i = _toPrimitive(t, "string");
  return "symbol" == typeof i ? i : i + "";
}
function _toPrimitive(t, r) {
  if ("object" != typeof t || !t) return t;
  var e = t[Symbol.toPrimitive];
  if (void 0 !== e) {
    var i = e.call(t, r || "default");
    if ("object" != typeof i) return i;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return ("string" === r ? String : Number)(t);
}
var SUPPORTED_PROPS = ['width', 'height', 'originX', 'originY', 'transform', 'borderRadius', 'borderTopLeftRadius', 'borderTopRightRadius', 'borderBottomLeftRadius', 'borderBottomRightRadius'];
var SharedTransition = exports.SharedTransition = function () {
  function SharedTransition() {
    (0, _classCallCheck2.default)(this, SharedTransition);
    _defineProperty(this, "_customAnimationFactory", null);
    _defineProperty(this, "_animation", null);
    _defineProperty(this, "_transitionDuration", 500);
    _defineProperty(this, "_reduceMotion", _commonTypes2.ReduceMotion.System);
    _defineProperty(this, "_customProgressAnimation", undefined);
    _defineProperty(this, "_progressAnimation", undefined);
    _defineProperty(this, "_defaultTransitionType", undefined);
  }
  return (0, _createClass2.default)(SharedTransition, [{
    key: "custom",
    value: function custom(customAnimationFactory) {
      this._customAnimationFactory = customAnimationFactory;
      return this;
    }
  }, {
    key: "progressAnimation",
    value: function progressAnimation(progressAnimationCallback) {
      this._customProgressAnimation = function (viewTag, values, progress) {
        'worklet';

        var newStyles = progressAnimationCallback(values, progress);
        global._notifyAboutProgress(viewTag, newStyles, true);
      };
      return this;
    }
  }, {
    key: "duration",
    value: function duration(_duration) {
      this._transitionDuration = _duration;
      return this;
    }
  }, {
    key: "reduceMotion",
    value: function reduceMotion(_reduceMotion) {
      this._reduceMotion = _reduceMotion;
      return this;
    }
  }, {
    key: "defaultTransitionType",
    value: function defaultTransitionType(transitionType) {
      this._defaultTransitionType = transitionType;
      return this;
    }
  }, {
    key: "registerTransition",
    value: function registerTransition(viewTag, sharedTransitionTag) {
      var isUnmounting = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      if ((0, _util.getReduceMotionFromConfig)(this.getReduceMotion())) {
        return;
      }
      var transitionAnimation = this.getTransitionAnimation();
      var progressAnimation = this.getProgressAnimation();
      if (!this._defaultTransitionType) {
        if (this._customAnimationFactory && !this._customProgressAnimation) {
          this._defaultTransitionType = _commonTypes.SharedTransitionType.ANIMATION;
        } else {
          this._defaultTransitionType = _commonTypes.SharedTransitionType.PROGRESS_ANIMATION;
        }
      }
      var layoutAnimationType = this._defaultTransitionType === _commonTypes.SharedTransitionType.ANIMATION ? _commonTypes.LayoutAnimationType.SHARED_ELEMENT_TRANSITION : _commonTypes.LayoutAnimationType.SHARED_ELEMENT_TRANSITION_PROGRESS;
      (0, _UpdateLayoutAnimations.updateLayoutAnimations)(viewTag, layoutAnimationType, transitionAnimation, sharedTransitionTag, isUnmounting);
      SharedTransition._progressTransitionManager.addProgressAnimation(viewTag, progressAnimation);
    }
  }, {
    key: "unregisterTransition",
    value: function unregisterTransition(viewTag) {
      var isUnmounting = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
      var layoutAnimationType = this._defaultTransitionType === _commonTypes.SharedTransitionType.ANIMATION ? _commonTypes.LayoutAnimationType.SHARED_ELEMENT_TRANSITION : _commonTypes.LayoutAnimationType.SHARED_ELEMENT_TRANSITION_PROGRESS;
      (0, _UpdateLayoutAnimations.updateLayoutAnimations)(viewTag, layoutAnimationType, undefined, undefined, isUnmounting);
      SharedTransition._progressTransitionManager.removeProgressAnimation(viewTag, isUnmounting);
    }
  }, {
    key: "getReduceMotion",
    value: function getReduceMotion() {
      return this._reduceMotion;
    }
  }, {
    key: "getTransitionAnimation",
    value: function getTransitionAnimation() {
      if (!this._animation) {
        this.buildAnimation();
      }
      return this._animation;
    }
  }, {
    key: "getProgressAnimation",
    value: function getProgressAnimation() {
      if (!this._progressAnimation) {
        this.buildProgressAnimation();
      }
      return this._progressAnimation;
    }
  }, {
    key: "buildAnimation",
    value: function buildAnimation() {
      var animationFactory = this._customAnimationFactory;
      var transitionDuration = this._transitionDuration;
      var reduceMotion = this._reduceMotion;
      this._animation = function (values) {
        'worklet';

        var animations = {};
        var initialValues = {};
        if (animationFactory) {
          animations = animationFactory(values);
          for (var key in animations) {
            if (!SUPPORTED_PROPS.includes(key)) {
              throw new Error(`[Reanimated] The prop '${key}' is not supported yet.`);
            }
          }
        } else {
          for (var propName of SUPPORTED_PROPS) {
            if (propName === 'transform') {
              var matrix = values.targetTransformMatrix;
              animations.transformMatrix = (0, _animation.withTiming)(matrix, {
                reduceMotion: reduceMotion,
                duration: transitionDuration
              });
            } else {
              var capitalizedPropName = `${propName.charAt(0).toUpperCase()}${propName.slice(1)}`;
              var keyToTargetValue = `target${capitalizedPropName}`;
              animations[propName] = (0, _animation.withTiming)(values[keyToTargetValue], {
                reduceMotion: reduceMotion,
                duration: transitionDuration
              });
            }
          }
        }
        for (var _propName in animations) {
          if (_propName === 'transform') {
            initialValues.transformMatrix = values.currentTransformMatrix;
          } else {
            var _capitalizedPropName = _propName.charAt(0).toUpperCase() + _propName.slice(1);
            var keyToCurrentValue = `current${_capitalizedPropName}`;
            initialValues[_propName] = values[keyToCurrentValue];
          }
        }
        return {
          initialValues: initialValues,
          animations: animations
        };
      };
    }
  }, {
    key: "buildProgressAnimation",
    value: function buildProgressAnimation() {
      if (this._customProgressAnimation) {
        this._progressAnimation = this._customProgressAnimation;
        return;
      }
      this._progressAnimation = function (viewTag, values, progress) {
        'worklet';

        var newStyles = {};
        for (var propertyName of SUPPORTED_PROPS) {
          if (propertyName === 'transform') {
            var currentMatrix = values.currentTransformMatrix;
            var targetMatrix = values.targetTransformMatrix;
            var newMatrix = new Array(9);
            for (var i = 0; i < 9; i++) {
              newMatrix[i] = progress * (targetMatrix[i] - currentMatrix[i]) + currentMatrix[i];
            }
            newStyles.transformMatrix = newMatrix;
          } else {
            var PropertyName = propertyName.charAt(0).toUpperCase() + propertyName.slice(1);
            var currentPropertyName = `current${PropertyName}`;
            var targetPropertyName = `target${PropertyName}`;
            var currentValue = values[currentPropertyName];
            var targetValue = values[targetPropertyName];
            newStyles[propertyName] = progress * (targetValue - currentValue) + currentValue;
          }
        }
        global._notifyAboutProgress(viewTag, newStyles, true);
      };
    }
  }], [{
    key: "custom",
    value: function custom(customAnimationFactory) {
      return new SharedTransition().custom(customAnimationFactory);
    }
  }, {
    key: "duration",
    value: function duration(_duration2) {
      return new SharedTransition().duration(_duration2);
    }
  }, {
    key: "progressAnimation",
    value: function progressAnimation(progressAnimationCallback) {
      return new SharedTransition().progressAnimation(progressAnimationCallback);
    }
  }, {
    key: "defaultTransitionType",
    value: function defaultTransitionType(transitionType) {
      return new SharedTransition().defaultTransitionType(transitionType);
    }
  }, {
    key: "reduceMotion",
    value: function reduceMotion(_reduceMotion2) {
      return new SharedTransition().reduceMotion(_reduceMotion2);
    }
  }]);
}();
_defineProperty(SharedTransition, "_progressTransitionManager", new _ProgressTransitionManager.ProgressTransitionManager());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiU2hhcmVkVHJhbnNpdGlvbiIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiX2FuaW1hdGlvbiIsIl9jb21tb25UeXBlcyIsIl9jb21tb25UeXBlczIiLCJfUHJvZ3Jlc3NUcmFuc2l0aW9uTWFuYWdlciIsIl9VcGRhdGVMYXlvdXRBbmltYXRpb25zIiwiX3V0aWwiLCJfZGVmaW5lUHJvcGVydHkiLCJvYmoiLCJrZXkiLCJfdG9Qcm9wZXJ0eUtleSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInQiLCJpIiwiX3RvUHJpbWl0aXZlIiwiciIsImUiLCJTeW1ib2wiLCJ0b1ByaW1pdGl2ZSIsImNhbGwiLCJUeXBlRXJyb3IiLCJTdHJpbmciLCJOdW1iZXIiLCJTVVBQT1JURURfUFJPUFMiLCJkZWZhdWx0IiwiUmVkdWNlTW90aW9uIiwiU3lzdGVtIiwidW5kZWZpbmVkIiwiY3VzdG9tIiwiY3VzdG9tQW5pbWF0aW9uRmFjdG9yeSIsIl9jdXN0b21BbmltYXRpb25GYWN0b3J5IiwicHJvZ3Jlc3NBbmltYXRpb24iLCJwcm9ncmVzc0FuaW1hdGlvbkNhbGxiYWNrIiwiX2N1c3RvbVByb2dyZXNzQW5pbWF0aW9uIiwidmlld1RhZyIsInZhbHVlcyIsInByb2dyZXNzIiwibmV3U3R5bGVzIiwiZ2xvYmFsIiwiX25vdGlmeUFib3V0UHJvZ3Jlc3MiLCJkdXJhdGlvbiIsIl90cmFuc2l0aW9uRHVyYXRpb24iLCJyZWR1Y2VNb3Rpb24iLCJfcmVkdWNlTW90aW9uIiwiZGVmYXVsdFRyYW5zaXRpb25UeXBlIiwidHJhbnNpdGlvblR5cGUiLCJfZGVmYXVsdFRyYW5zaXRpb25UeXBlIiwicmVnaXN0ZXJUcmFuc2l0aW9uIiwic2hhcmVkVHJhbnNpdGlvblRhZyIsImlzVW5tb3VudGluZyIsImFyZ3VtZW50cyIsImxlbmd0aCIsImdldFJlZHVjZU1vdGlvbkZyb21Db25maWciLCJnZXRSZWR1Y2VNb3Rpb24iLCJ0cmFuc2l0aW9uQW5pbWF0aW9uIiwiZ2V0VHJhbnNpdGlvbkFuaW1hdGlvbiIsImdldFByb2dyZXNzQW5pbWF0aW9uIiwiU2hhcmVkVHJhbnNpdGlvblR5cGUiLCJBTklNQVRJT04iLCJQUk9HUkVTU19BTklNQVRJT04iLCJsYXlvdXRBbmltYXRpb25UeXBlIiwiTGF5b3V0QW5pbWF0aW9uVHlwZSIsIlNIQVJFRF9FTEVNRU5UX1RSQU5TSVRJT04iLCJTSEFSRURfRUxFTUVOVF9UUkFOU0lUSU9OX1BST0dSRVNTIiwidXBkYXRlTGF5b3V0QW5pbWF0aW9ucyIsIl9wcm9ncmVzc1RyYW5zaXRpb25NYW5hZ2VyIiwiYWRkUHJvZ3Jlc3NBbmltYXRpb24iLCJ1bnJlZ2lzdGVyVHJhbnNpdGlvbiIsInJlbW92ZVByb2dyZXNzQW5pbWF0aW9uIiwiYnVpbGRBbmltYXRpb24iLCJfcHJvZ3Jlc3NBbmltYXRpb24iLCJidWlsZFByb2dyZXNzQW5pbWF0aW9uIiwiYW5pbWF0aW9uRmFjdG9yeSIsInRyYW5zaXRpb25EdXJhdGlvbiIsImFuaW1hdGlvbnMiLCJpbml0aWFsVmFsdWVzIiwiaW5jbHVkZXMiLCJFcnJvciIsInByb3BOYW1lIiwibWF0cml4IiwidGFyZ2V0VHJhbnNmb3JtTWF0cml4IiwidHJhbnNmb3JtTWF0cml4Iiwid2l0aFRpbWluZyIsImNhcGl0YWxpemVkUHJvcE5hbWUiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwia2V5VG9UYXJnZXRWYWx1ZSIsImN1cnJlbnRUcmFuc2Zvcm1NYXRyaXgiLCJrZXlUb0N1cnJlbnRWYWx1ZSIsInByb3BlcnR5TmFtZSIsImN1cnJlbnRNYXRyaXgiLCJ0YXJnZXRNYXRyaXgiLCJuZXdNYXRyaXgiLCJBcnJheSIsIlByb3BlcnR5TmFtZSIsImN1cnJlbnRQcm9wZXJ0eU5hbWUiLCJ0YXJnZXRQcm9wZXJ0eU5hbWUiLCJjdXJyZW50VmFsdWUiLCJ0YXJnZXRWYWx1ZSIsIlByb2dyZXNzVHJhbnNpdGlvbk1hbmFnZXIiXSwic291cmNlcyI6WyJTaGFyZWRUcmFuc2l0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IHdpdGhUaW1pbmcgfSBmcm9tICcuLi8uLi9hbmltYXRpb24nO1xuaW1wb3J0IHR5cGUge1xuICBTaGFyZWRUcmFuc2l0aW9uQW5pbWF0aW9uc0Z1bmN0aW9uLFxuICBTaGFyZWRUcmFuc2l0aW9uQW5pbWF0aW9uc1ZhbHVlcyxcbiAgQ3VzdG9tUHJvZ3Jlc3NBbmltYXRpb24sXG4gIFByb2dyZXNzQW5pbWF0aW9uLFxuICBMYXlvdXRBbmltYXRpb25zT3B0aW9ucyxcbn0gZnJvbSAnLi4vYW5pbWF0aW9uQnVpbGRlci9jb21tb25UeXBlcyc7XG5pbXBvcnQge1xuICBMYXlvdXRBbmltYXRpb25UeXBlLFxuICBTaGFyZWRUcmFuc2l0aW9uVHlwZSxcbn0gZnJvbSAnLi4vYW5pbWF0aW9uQnVpbGRlci9jb21tb25UeXBlcyc7XG5pbXBvcnQgdHlwZSB7IFN0eWxlUHJvcHMgfSBmcm9tICcuLi8uLi9jb21tb25UeXBlcyc7XG5pbXBvcnQgeyBSZWR1Y2VNb3Rpb24gfSBmcm9tICcuLi8uLi9jb21tb25UeXBlcyc7XG5pbXBvcnQgeyBQcm9ncmVzc1RyYW5zaXRpb25NYW5hZ2VyIH0gZnJvbSAnLi9Qcm9ncmVzc1RyYW5zaXRpb25NYW5hZ2VyJztcbmltcG9ydCB7IHVwZGF0ZUxheW91dEFuaW1hdGlvbnMgfSBmcm9tICcuLi8uLi9VcGRhdGVMYXlvdXRBbmltYXRpb25zJztcbmltcG9ydCB7IGdldFJlZHVjZU1vdGlvbkZyb21Db25maWcgfSBmcm9tICcuLi8uLi9hbmltYXRpb24vdXRpbCc7XG5cbmNvbnN0IFNVUFBPUlRFRF9QUk9QUyA9IFtcbiAgJ3dpZHRoJyxcbiAgJ2hlaWdodCcsXG4gICdvcmlnaW5YJyxcbiAgJ29yaWdpblknLFxuICAndHJhbnNmb3JtJyxcbiAgJ2JvcmRlclJhZGl1cycsXG4gICdib3JkZXJUb3BMZWZ0UmFkaXVzJyxcbiAgJ2JvcmRlclRvcFJpZ2h0UmFkaXVzJyxcbiAgJ2JvcmRlckJvdHRvbUxlZnRSYWRpdXMnLFxuICAnYm9yZGVyQm90dG9tUmlnaHRSYWRpdXMnLFxuXSBhcyBjb25zdDtcblxudHlwZSBBbmltYXRpb25GYWN0b3J5ID0gKFxuICB2YWx1ZXM6IFNoYXJlZFRyYW5zaXRpb25BbmltYXRpb25zVmFsdWVzXG4pID0+IFN0eWxlUHJvcHM7XG5cbi8qKlxuICogQSBTaGFyZWRUcmFuc2l0aW9uIGJ1aWxkZXIgY2xhc3MuXG4gKlxuICogQHNlZSBodHRwczovL2RvY3Muc3dtYW5zaW9uLmNvbS9yZWFjdC1uYXRpdmUtcmVhbmltYXRlZC9kb2NzL3NoYXJlZC1lbGVtZW50LXRyYW5zaXRpb25zL292ZXJ2aWV3XG4gKiBAZXhwZXJpbWVudGFsXG4gKi9cbmV4cG9ydCBjbGFzcyBTaGFyZWRUcmFuc2l0aW9uIHtcbiAgcHJpdmF0ZSBfY3VzdG9tQW5pbWF0aW9uRmFjdG9yeTogQW5pbWF0aW9uRmFjdG9yeSB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIF9hbmltYXRpb246IFNoYXJlZFRyYW5zaXRpb25BbmltYXRpb25zRnVuY3Rpb24gfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSBfdHJhbnNpdGlvbkR1cmF0aW9uID0gNTAwO1xuICBwcml2YXRlIF9yZWR1Y2VNb3Rpb246IFJlZHVjZU1vdGlvbiA9IFJlZHVjZU1vdGlvbi5TeXN0ZW07XG4gIHByaXZhdGUgX2N1c3RvbVByb2dyZXNzQW5pbWF0aW9uPzogUHJvZ3Jlc3NBbmltYXRpb24gPSB1bmRlZmluZWQ7XG4gIHByaXZhdGUgX3Byb2dyZXNzQW5pbWF0aW9uPzogUHJvZ3Jlc3NBbmltYXRpb24gPSB1bmRlZmluZWQ7XG4gIHByaXZhdGUgX2RlZmF1bHRUcmFuc2l0aW9uVHlwZT86IFNoYXJlZFRyYW5zaXRpb25UeXBlID0gdW5kZWZpbmVkO1xuICBwcml2YXRlIHN0YXRpYyBfcHJvZ3Jlc3NUcmFuc2l0aW9uTWFuYWdlciA9IG5ldyBQcm9ncmVzc1RyYW5zaXRpb25NYW5hZ2VyKCk7XG5cbiAgcHVibGljIGN1c3RvbShjdXN0b21BbmltYXRpb25GYWN0b3J5OiBBbmltYXRpb25GYWN0b3J5KTogU2hhcmVkVHJhbnNpdGlvbiB7XG4gICAgdGhpcy5fY3VzdG9tQW5pbWF0aW9uRmFjdG9yeSA9IGN1c3RvbUFuaW1hdGlvbkZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgcHJvZ3Jlc3NBbmltYXRpb24oXG4gICAgcHJvZ3Jlc3NBbmltYXRpb25DYWxsYmFjazogQ3VzdG9tUHJvZ3Jlc3NBbmltYXRpb25cbiAgKTogU2hhcmVkVHJhbnNpdGlvbiB7XG4gICAgdGhpcy5fY3VzdG9tUHJvZ3Jlc3NBbmltYXRpb24gPSAodmlld1RhZywgdmFsdWVzLCBwcm9ncmVzcykgPT4ge1xuICAgICAgJ3dvcmtsZXQnO1xuICAgICAgY29uc3QgbmV3U3R5bGVzID0gcHJvZ3Jlc3NBbmltYXRpb25DYWxsYmFjayh2YWx1ZXMsIHByb2dyZXNzKTtcbiAgICAgIGdsb2JhbC5fbm90aWZ5QWJvdXRQcm9ncmVzcyh2aWV3VGFnLCBuZXdTdHlsZXMsIHRydWUpO1xuICAgIH07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgZHVyYXRpb24oZHVyYXRpb246IG51bWJlcik6IFNoYXJlZFRyYW5zaXRpb24ge1xuICAgIHRoaXMuX3RyYW5zaXRpb25EdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIHJlZHVjZU1vdGlvbihfcmVkdWNlTW90aW9uOiBSZWR1Y2VNb3Rpb24pOiB0aGlzIHtcbiAgICB0aGlzLl9yZWR1Y2VNb3Rpb24gPSBfcmVkdWNlTW90aW9uO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcHVibGljIGRlZmF1bHRUcmFuc2l0aW9uVHlwZShcbiAgICB0cmFuc2l0aW9uVHlwZTogU2hhcmVkVHJhbnNpdGlvblR5cGVcbiAgKTogU2hhcmVkVHJhbnNpdGlvbiB7XG4gICAgdGhpcy5fZGVmYXVsdFRyYW5zaXRpb25UeXBlID0gdHJhbnNpdGlvblR5cGU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBwdWJsaWMgcmVnaXN0ZXJUcmFuc2l0aW9uKFxuICAgIHZpZXdUYWc6IG51bWJlcixcbiAgICBzaGFyZWRUcmFuc2l0aW9uVGFnOiBzdHJpbmcsXG4gICAgaXNVbm1vdW50aW5nID0gZmFsc2VcbiAgKSB7XG4gICAgaWYgKGdldFJlZHVjZU1vdGlvbkZyb21Db25maWcodGhpcy5nZXRSZWR1Y2VNb3Rpb24oKSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0cmFuc2l0aW9uQW5pbWF0aW9uID0gdGhpcy5nZXRUcmFuc2l0aW9uQW5pbWF0aW9uKCk7XG4gICAgY29uc3QgcHJvZ3Jlc3NBbmltYXRpb24gPSB0aGlzLmdldFByb2dyZXNzQW5pbWF0aW9uKCk7XG4gICAgaWYgKCF0aGlzLl9kZWZhdWx0VHJhbnNpdGlvblR5cGUpIHtcbiAgICAgIGlmICh0aGlzLl9jdXN0b21BbmltYXRpb25GYWN0b3J5ICYmICF0aGlzLl9jdXN0b21Qcm9ncmVzc0FuaW1hdGlvbikge1xuICAgICAgICB0aGlzLl9kZWZhdWx0VHJhbnNpdGlvblR5cGUgPSBTaGFyZWRUcmFuc2l0aW9uVHlwZS5BTklNQVRJT047XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9kZWZhdWx0VHJhbnNpdGlvblR5cGUgPSBTaGFyZWRUcmFuc2l0aW9uVHlwZS5QUk9HUkVTU19BTklNQVRJT047XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGxheW91dEFuaW1hdGlvblR5cGUgPVxuICAgICAgdGhpcy5fZGVmYXVsdFRyYW5zaXRpb25UeXBlID09PSBTaGFyZWRUcmFuc2l0aW9uVHlwZS5BTklNQVRJT05cbiAgICAgICAgPyBMYXlvdXRBbmltYXRpb25UeXBlLlNIQVJFRF9FTEVNRU5UX1RSQU5TSVRJT05cbiAgICAgICAgOiBMYXlvdXRBbmltYXRpb25UeXBlLlNIQVJFRF9FTEVNRU5UX1RSQU5TSVRJT05fUFJPR1JFU1M7XG4gICAgdXBkYXRlTGF5b3V0QW5pbWF0aW9ucyhcbiAgICAgIHZpZXdUYWcsXG4gICAgICBsYXlvdXRBbmltYXRpb25UeXBlLFxuICAgICAgdHJhbnNpdGlvbkFuaW1hdGlvbixcbiAgICAgIHNoYXJlZFRyYW5zaXRpb25UYWcsXG4gICAgICBpc1VubW91bnRpbmdcbiAgICApO1xuICAgIFNoYXJlZFRyYW5zaXRpb24uX3Byb2dyZXNzVHJhbnNpdGlvbk1hbmFnZXIuYWRkUHJvZ3Jlc3NBbmltYXRpb24oXG4gICAgICB2aWV3VGFnLFxuICAgICAgcHJvZ3Jlc3NBbmltYXRpb25cbiAgICApO1xuICB9XG5cbiAgcHVibGljIHVucmVnaXN0ZXJUcmFuc2l0aW9uKHZpZXdUYWc6IG51bWJlciwgaXNVbm1vdW50aW5nID0gZmFsc2UpOiB2b2lkIHtcbiAgICBjb25zdCBsYXlvdXRBbmltYXRpb25UeXBlID1cbiAgICAgIHRoaXMuX2RlZmF1bHRUcmFuc2l0aW9uVHlwZSA9PT0gU2hhcmVkVHJhbnNpdGlvblR5cGUuQU5JTUFUSU9OXG4gICAgICAgID8gTGF5b3V0QW5pbWF0aW9uVHlwZS5TSEFSRURfRUxFTUVOVF9UUkFOU0lUSU9OXG4gICAgICAgIDogTGF5b3V0QW5pbWF0aW9uVHlwZS5TSEFSRURfRUxFTUVOVF9UUkFOU0lUSU9OX1BST0dSRVNTO1xuICAgIHVwZGF0ZUxheW91dEFuaW1hdGlvbnMoXG4gICAgICB2aWV3VGFnLFxuICAgICAgbGF5b3V0QW5pbWF0aW9uVHlwZSxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIHVuZGVmaW5lZCxcbiAgICAgIGlzVW5tb3VudGluZ1xuICAgICk7XG4gICAgU2hhcmVkVHJhbnNpdGlvbi5fcHJvZ3Jlc3NUcmFuc2l0aW9uTWFuYWdlci5yZW1vdmVQcm9ncmVzc0FuaW1hdGlvbihcbiAgICAgIHZpZXdUYWcsXG4gICAgICBpc1VubW91bnRpbmdcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGdldFJlZHVjZU1vdGlvbigpOiBSZWR1Y2VNb3Rpb24ge1xuICAgIHJldHVybiB0aGlzLl9yZWR1Y2VNb3Rpb247XG4gIH1cblxuICBwcml2YXRlIGdldFRyYW5zaXRpb25BbmltYXRpb24oKTogU2hhcmVkVHJhbnNpdGlvbkFuaW1hdGlvbnNGdW5jdGlvbiB7XG4gICAgaWYgKCF0aGlzLl9hbmltYXRpb24pIHtcbiAgICAgIHRoaXMuYnVpbGRBbmltYXRpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FuaW1hdGlvbiE7XG4gIH1cblxuICBwcml2YXRlIGdldFByb2dyZXNzQW5pbWF0aW9uKCk6IFByb2dyZXNzQW5pbWF0aW9uIHtcbiAgICBpZiAoIXRoaXMuX3Byb2dyZXNzQW5pbWF0aW9uKSB7XG4gICAgICB0aGlzLmJ1aWxkUHJvZ3Jlc3NBbmltYXRpb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3Byb2dyZXNzQW5pbWF0aW9uITtcbiAgfVxuXG4gIHByaXZhdGUgYnVpbGRBbmltYXRpb24oKSB7XG4gICAgY29uc3QgYW5pbWF0aW9uRmFjdG9yeSA9IHRoaXMuX2N1c3RvbUFuaW1hdGlvbkZhY3Rvcnk7XG4gICAgY29uc3QgdHJhbnNpdGlvbkR1cmF0aW9uID0gdGhpcy5fdHJhbnNpdGlvbkR1cmF0aW9uO1xuICAgIGNvbnN0IHJlZHVjZU1vdGlvbiA9IHRoaXMuX3JlZHVjZU1vdGlvbjtcbiAgICB0aGlzLl9hbmltYXRpb24gPSAodmFsdWVzOiBTaGFyZWRUcmFuc2l0aW9uQW5pbWF0aW9uc1ZhbHVlcykgPT4ge1xuICAgICAgJ3dvcmtsZXQnO1xuICAgICAgbGV0IGFuaW1hdGlvbnM6IHtcbiAgICAgICAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcbiAgICAgIH0gPSB7fTtcbiAgICAgIGNvbnN0IGluaXRpYWxWYWx1ZXM6IHtcbiAgICAgICAgW2tleTogc3RyaW5nXTogdW5rbm93bjtcbiAgICAgIH0gPSB7fTtcblxuICAgICAgaWYgKGFuaW1hdGlvbkZhY3RvcnkpIHtcbiAgICAgICAgYW5pbWF0aW9ucyA9IGFuaW1hdGlvbkZhY3RvcnkodmFsdWVzKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gYW5pbWF0aW9ucykge1xuICAgICAgICAgIGlmICghKFNVUFBPUlRFRF9QUk9QUyBhcyByZWFkb25seSBzdHJpbmdbXSkuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBgW1JlYW5pbWF0ZWRdIFRoZSBwcm9wICcke2tleX0nIGlzIG5vdCBzdXBwb3J0ZWQgeWV0LmBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IHByb3BOYW1lIG9mIFNVUFBPUlRFRF9QUk9QUykge1xuICAgICAgICAgIGlmIChwcm9wTmFtZSA9PT0gJ3RyYW5zZm9ybScpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hdHJpeCA9IHZhbHVlcy50YXJnZXRUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgICAgICBhbmltYXRpb25zLnRyYW5zZm9ybU1hdHJpeCA9IHdpdGhUaW1pbmcobWF0cml4LCB7XG4gICAgICAgICAgICAgIHJlZHVjZU1vdGlvbixcbiAgICAgICAgICAgICAgZHVyYXRpb246IHRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjYXBpdGFsaXplZFByb3BOYW1lID0gYCR7cHJvcE5hbWVcbiAgICAgICAgICAgICAgLmNoYXJBdCgwKVxuICAgICAgICAgICAgICAudG9VcHBlckNhc2UoKX0ke3Byb3BOYW1lLnNsaWNlKFxuICAgICAgICAgICAgICAxXG4gICAgICAgICAgICApfWAgYXMgQ2FwaXRhbGl6ZTxMYXlvdXRBbmltYXRpb25zT3B0aW9ucz47XG4gICAgICAgICAgICBjb25zdCBrZXlUb1RhcmdldFZhbHVlID0gYHRhcmdldCR7Y2FwaXRhbGl6ZWRQcm9wTmFtZX1gIGFzIGNvbnN0O1xuICAgICAgICAgICAgYW5pbWF0aW9uc1twcm9wTmFtZV0gPSB3aXRoVGltaW5nKHZhbHVlc1trZXlUb1RhcmdldFZhbHVlXSwge1xuICAgICAgICAgICAgICByZWR1Y2VNb3Rpb24sXG4gICAgICAgICAgICAgIGR1cmF0aW9uOiB0cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBhbmltYXRpb25zKSB7XG4gICAgICAgIGlmIChwcm9wTmFtZSA9PT0gJ3RyYW5zZm9ybScpIHtcbiAgICAgICAgICBpbml0aWFsVmFsdWVzLnRyYW5zZm9ybU1hdHJpeCA9IHZhbHVlcy5jdXJyZW50VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGNhcGl0YWxpemVkUHJvcE5hbWUgPSAocHJvcE5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgICAgICAgcHJvcE5hbWUuc2xpY2UoMSkpIGFzIENhcGl0YWxpemU8TGF5b3V0QW5pbWF0aW9uc09wdGlvbnM+O1xuICAgICAgICAgIGNvbnN0IGtleVRvQ3VycmVudFZhbHVlID0gYGN1cnJlbnQke2NhcGl0YWxpemVkUHJvcE5hbWV9YCBhcyBjb25zdDtcbiAgICAgICAgICBpbml0aWFsVmFsdWVzW3Byb3BOYW1lXSA9IHZhbHVlc1trZXlUb0N1cnJlbnRWYWx1ZV07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgaW5pdGlhbFZhbHVlcywgYW5pbWF0aW9ucyB9O1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGJ1aWxkUHJvZ3Jlc3NBbmltYXRpb24oKSB7XG4gICAgaWYgKHRoaXMuX2N1c3RvbVByb2dyZXNzQW5pbWF0aW9uKSB7XG4gICAgICB0aGlzLl9wcm9ncmVzc0FuaW1hdGlvbiA9IHRoaXMuX2N1c3RvbVByb2dyZXNzQW5pbWF0aW9uO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9wcm9ncmVzc0FuaW1hdGlvbiA9ICh2aWV3VGFnLCB2YWx1ZXMsIHByb2dyZXNzKSA9PiB7XG4gICAgICAnd29ya2xldCc7XG4gICAgICBjb25zdCBuZXdTdHlsZXM6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIHwgbnVtYmVyW10gfSA9IHt9O1xuICAgICAgZm9yIChjb25zdCBwcm9wZXJ0eU5hbWUgb2YgU1VQUE9SVEVEX1BST1BTKSB7XG4gICAgICAgIGlmIChwcm9wZXJ0eU5hbWUgPT09ICd0cmFuc2Zvcm0nKSB7XG4gICAgICAgICAgLy8gdGhpcyBpcyBub3QgdGhlIHBlcmZlY3Qgc29sdXRpb24sIGJ1dCBhdCB0aGlzIG1vbWVudCBpdCBqdXN0IGludGVycG9sYXRlcyB0aGUgd2hvbGVcbiAgICAgICAgICAvLyBtYXRyaXggaW5zdGVhZCBvZiBpbnRlcnBvbGF0aW5nIHNjYWxlLCB0cmFuc2xhdGUsIHJvdGF0ZSwgZXRjLiBzZXBhcmF0ZWx5XG4gICAgICAgICAgY29uc3QgY3VycmVudE1hdHJpeCA9IHZhbHVlcy5jdXJyZW50VHJhbnNmb3JtTWF0cml4O1xuICAgICAgICAgIGNvbnN0IHRhcmdldE1hdHJpeCA9IHZhbHVlcy50YXJnZXRUcmFuc2Zvcm1NYXRyaXg7XG4gICAgICAgICAgY29uc3QgbmV3TWF0cml4ID0gbmV3IEFycmF5KDkpO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7XG4gICAgICAgICAgICBuZXdNYXRyaXhbaV0gPVxuICAgICAgICAgICAgICBwcm9ncmVzcyAqICh0YXJnZXRNYXRyaXhbaV0gLSBjdXJyZW50TWF0cml4W2ldKSArXG4gICAgICAgICAgICAgIGN1cnJlbnRNYXRyaXhbaV07XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld1N0eWxlcy50cmFuc2Zvcm1NYXRyaXggPSBuZXdNYXRyaXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUHJvcGVydHlOYW1lID09IHByb3BlcnR5TmFtZSB3aXRoIGNhcGl0YWxpemVkIGZpc3QgbGV0dGVyLCAod2lkdGggLT4gV2lkdGgpXG4gICAgICAgICAgY29uc3QgUHJvcGVydHlOYW1lID0gKHByb3BlcnR5TmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWUuc2xpY2UoMSkpIGFzIENhcGl0YWxpemU8TGF5b3V0QW5pbWF0aW9uc09wdGlvbnM+O1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRQcm9wZXJ0eU5hbWUgPSBgY3VycmVudCR7UHJvcGVydHlOYW1lfWAgYXMgY29uc3Q7XG4gICAgICAgICAgY29uc3QgdGFyZ2V0UHJvcGVydHlOYW1lID0gYHRhcmdldCR7UHJvcGVydHlOYW1lfWAgYXMgY29uc3Q7XG5cbiAgICAgICAgICBjb25zdCBjdXJyZW50VmFsdWUgPSB2YWx1ZXNbY3VycmVudFByb3BlcnR5TmFtZV07XG4gICAgICAgICAgY29uc3QgdGFyZ2V0VmFsdWUgPSB2YWx1ZXNbdGFyZ2V0UHJvcGVydHlOYW1lXTtcblxuICAgICAgICAgIG5ld1N0eWxlc1twcm9wZXJ0eU5hbWVdID1cbiAgICAgICAgICAgIHByb2dyZXNzICogKHRhcmdldFZhbHVlIC0gY3VycmVudFZhbHVlKSArIGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZ2xvYmFsLl9ub3RpZnlBYm91dFByb2dyZXNzKHZpZXdUYWcsIG5ld1N0eWxlcywgdHJ1ZSk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIHN0YXRpYyBidWlsZGVyIG1ldGhvZHMgaS5lLiBzaGFyZWQgdHJhbnNpdGlvbiBtb2RpZmllcnNcblxuICAvKipcbiAgICogTGV0cyB5b3UgY3JlYXRlIGEgY3VzdG9tIHNoYXJlZCB0cmFuc2l0aW9uIGFuaW1hdGlvbi4gT3RoZXIgc2hhcmVkIHRyYW5zaXRpb24gbW9kaWZpZXJzIGNhbiBiZSBjaGFpbmVkIGFsb25nc2lkZSB0aGlzIG1vZGlmaWVyLlxuICAgKlxuICAgKiBAcGFyYW0gY3VzdG9tQW5pbWF0aW9uRmFjdG9yeSAtIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgaGF2ZSB0byByZXR1cm4gYW4gb2JqZWN0IHdpdGggc3R5bGVzIGZvciB0aGUgY3VzdG9tIHNoYXJlZCB0cmFuc2l0aW9uLlxuICAgKiBAcmV0dXJucyBBIHtAbGluayBTaGFyZWRUcmFuc2l0aW9ufSBvYmplY3QuIFN0eWxlcyByZXR1cm5lZCBmcm9tIHRoaXMgZnVuY3Rpb24gbmVlZCB0byBiZSB0byB0aGUgYHNoYXJlZFRyYW5zaXRpb25TdHlsZWAgcHJvcC5cbiAgICogQHNlZSBodHRwczovL2RvY3Muc3dtYW5zaW9uLmNvbS9yZWFjdC1uYXRpdmUtcmVhbmltYXRlZC9kb2NzL3NoYXJlZC1lbGVtZW50LXRyYW5zaXRpb25zL292ZXJ2aWV3XG4gICAqIEBleHBlcmltZW50YWxcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgY3VzdG9tKFxuICAgIGN1c3RvbUFuaW1hdGlvbkZhY3Rvcnk6IEFuaW1hdGlvbkZhY3RvcnlcbiAgKTogU2hhcmVkVHJhbnNpdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBTaGFyZWRUcmFuc2l0aW9uKCkuY3VzdG9tKGN1c3RvbUFuaW1hdGlvbkZhY3RvcnkpO1xuICB9XG5cbiAgLyoqXG4gICAqIExldHMgeW91IGNoYW5nZSB0aGUgZHVyYXRpb24gb2YgdGhlIHNoYXJlZCB0cmFuc2l0aW9uLiBPdGhlciBzaGFyZWQgdHJhbnNpdGlvbiBtb2RpZmllcnMgY2FuIGJlIGNoYWluZWQgYWxvbmdzaWRlIHRoaXMgbW9kaWZpZXIuXG4gICAqXG4gICAqIEBwYXJhbSBkdXJhdGlvbiAtIFRoZSBkdXJhdGlvbiBvZiB0aGUgc2hhcmVkIHRyYW5zaXRpb24gYW5pbWF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICogQHNlZSBodHRwczovL2RvY3Muc3dtYW5zaW9uLmNvbS9yZWFjdC1uYXRpdmUtcmVhbmltYXRlZC9kb2NzL3NoYXJlZC1lbGVtZW50LXRyYW5zaXRpb25zL292ZXJ2aWV3XG4gICAqIEBleHBlcmltZW50YWxcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZHVyYXRpb24oZHVyYXRpb246IG51bWJlcik6IFNoYXJlZFRyYW5zaXRpb24ge1xuICAgIHJldHVybiBuZXcgU2hhcmVkVHJhbnNpdGlvbigpLmR1cmF0aW9uKGR1cmF0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMZXRzIHlvdSBjcmVhdGUgYSBzaGFyZWQgdHJhbnNpdGlvbiBhbmltYXRpb24gYm91bmQgdG8gdGhlIHByb2dyZXNzIGJldHdlZW4gbmF2aWdhdGlvbiBzY3JlZW5zLiBPdGhlciBzaGFyZWQgdHJhbnNpdGlvbiBtb2RpZmllcnMgY2FuIGJlIGNoYWluZWQgYWxvbmdzaWRlIHRoaXMgbW9kaWZpZXIuXG4gICAqXG4gICAqIEBwYXJhbSBwcm9ncmVzc0FuaW1hdGlvbkNhbGxiYWNrIC0gQSBjYWxsYmFjayBjYWxsZWQgd2l0aCB0aGUgY3VycmVudCBwcm9ncmVzcyB2YWx1ZSBvbiBldmVyeSBhbmltYXRpb24gZnJhbWUuIEl0IHNob3VsZCByZXR1cm4gYW4gb2JqZWN0IHdpdGggc3R5bGVzIGZvciB0aGUgc2hhcmVkIHRyYW5zaXRpb24uXG4gICAqIEBzZWUgaHR0cHM6Ly9kb2NzLnN3bWFuc2lvbi5jb20vcmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWQvZG9jcy9zaGFyZWQtZWxlbWVudC10cmFuc2l0aW9ucy9vdmVydmlld1xuICAgKiBAZXhwZXJpbWVudGFsXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHByb2dyZXNzQW5pbWF0aW9uKFxuICAgIHByb2dyZXNzQW5pbWF0aW9uQ2FsbGJhY2s6IEN1c3RvbVByb2dyZXNzQW5pbWF0aW9uXG4gICk6IFNoYXJlZFRyYW5zaXRpb24ge1xuICAgIHJldHVybiBuZXcgU2hhcmVkVHJhbnNpdGlvbigpLnByb2dyZXNzQW5pbWF0aW9uKHByb2dyZXNzQW5pbWF0aW9uQ2FsbGJhY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIHRyYW5zaXRpb24gaXMgcHJvZ3Jlc3MtYm91bmQgb3Igbm90LiBPdGhlciBzaGFyZWQgdHJhbnNpdGlvbiBtb2RpZmllcnMgY2FuIGJlIGNoYWluZWQgYWxvbmdzaWRlIHRoaXMgbW9kaWZpZXIuXG4gICAqXG4gICAqIEBwYXJhbSB0cmFuc2l0aW9uVHlwZSAtIFR5cGUgb2YgdGhlIHRyYW5zaXRpb24uIENvbmZpZ3VyZWQgd2l0aCB7QGxpbmsgU2hhcmVkVHJhbnNpdGlvblR5cGV9IGVudW0uXG4gICAqIEBzZWUgaHR0cHM6Ly9kb2NzLnN3bWFuc2lvbi5jb20vcmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWQvZG9jcy9zaGFyZWQtZWxlbWVudC10cmFuc2l0aW9ucy9vdmVydmlld1xuICAgKiBAZXhwZXJpbWVudGFsXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGRlZmF1bHRUcmFuc2l0aW9uVHlwZShcbiAgICB0cmFuc2l0aW9uVHlwZTogU2hhcmVkVHJhbnNpdGlvblR5cGVcbiAgKTogU2hhcmVkVHJhbnNpdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBTaGFyZWRUcmFuc2l0aW9uKCkuZGVmYXVsdFRyYW5zaXRpb25UeXBlKHRyYW5zaXRpb25UeXBlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMZXRzIHlvdSBhZGp1c3QgdGhlIGJlaGF2aW9yIHdoZW4gdGhlIGRldmljZSdzIHJlZHVjZWQgbW90aW9uIGFjY2Vzc2liaWxpdHkgc2V0dGluZyBpcyB0dXJuZWQgb24uIE90aGVyIHNoYXJlZCB0cmFuc2l0aW9uIG1vZGlmaWVycyBjYW4gYmUgY2hhaW5lZCBhbG9uZ3NpZGUgdGhpcyBtb2RpZmllci5cbiAgICpcbiAgICogQHBhcmFtIHJlZHVjZU1vdGlvbiAtIERldGVybWluZXMgaG93IHRoZSBhbmltYXRpb24gcmVzcG9uZHMgdG8gdGhlIGRldmljZSdzIHJlZHVjZWQgbW90aW9uIGFjY2Vzc2liaWxpdHkgc2V0dGluZy4gRGVmYXVsdCB0byBgUmVkdWNlTW90aW9uLlN5c3RlbWAgLSB7QGxpbmsgUmVkdWNlTW90aW9ufS5cbiAgICogQHNlZSBodHRwczovL2RvY3Muc3dtYW5zaW9uLmNvbS9yZWFjdC1uYXRpdmUtcmVhbmltYXRlZC9kb2NzL3NoYXJlZC1lbGVtZW50LXRyYW5zaXRpb25zL292ZXJ2aWV3XG4gICAqIEBleHBlcmltZW50YWxcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgcmVkdWNlTW90aW9uKHJlZHVjZU1vdGlvbjogUmVkdWNlTW90aW9uKTogU2hhcmVkVHJhbnNpdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBTaGFyZWRUcmFuc2l0aW9uKCkucmVkdWNlTW90aW9uKHJlZHVjZU1vdGlvbik7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFBQSxJQUFBQSxzQkFBQSxHQUFBQyxPQUFBO0FBQUFDLE1BQUEsQ0FBQUMsY0FBQSxDQUFBQyxPQUFBO0VBQUFDLEtBQUE7QUFBQTtBQUFBRCxPQUFBLENBQUFFLGdCQUFBO0FBQUEsSUFBQUMsZ0JBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFPLGFBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUNaLElBQUFRLFVBQUEsR0FBQVIsT0FBQTtBQVFBLElBQUFTLFlBQUEsR0FBQVQsT0FBQTtBQUtBLElBQUFVLGFBQUEsR0FBQVYsT0FBQTtBQUNBLElBQUFXLDBCQUFBLEdBQUFYLE9BQUE7QUFDQSxJQUFBWSx1QkFBQSxHQUFBWixPQUFBO0FBQ0EsSUFBQWEsS0FBQSxHQUFBYixPQUFBO0FBakJhLFNBQUFjLGdCQUFBQyxHQUFBLEVBQUFDLEdBQUEsRUFBQVosS0FBQTtFQUFBWSxHQUFBLEdBQUFDLGNBQUEsQ0FBQUQsR0FBQTtFQUFBLElBQUFBLEdBQUEsSUFBQUQsR0FBQTtJQUFBZCxNQUFBLENBQUFDLGNBQUEsQ0FBQWEsR0FBQSxFQUFBQyxHQUFBO01BQUFaLEtBQUEsRUFBQUEsS0FBQTtNQUFBYyxVQUFBO01BQUFDLFlBQUE7TUFBQUMsUUFBQTtJQUFB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