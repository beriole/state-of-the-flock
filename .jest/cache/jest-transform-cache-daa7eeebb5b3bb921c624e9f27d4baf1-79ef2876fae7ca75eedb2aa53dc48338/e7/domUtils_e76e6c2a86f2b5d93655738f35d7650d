4255a14a81ab1a124db57d78a2b84d10
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.addHTMLMutationObserver = addHTMLMutationObserver;
exports.areDOMRectsEqual = areDOMRectsEqual;
exports.configureWebLayoutAnimations = configureWebLayoutAnimations;
exports.insertWebAnimation = insertWebAnimation;
exports.scheduleAnimationCleanup = scheduleAnimationCleanup;
var _PlatformChecker = require("../../PlatformChecker");
var _componentStyle = require("./componentStyle");
var _config = require("./config");
var PREDEFINED_WEB_ANIMATIONS_ID = 'ReanimatedPredefinedWebAnimationsStyle';
var CUSTOM_WEB_ANIMATIONS_ID = 'ReanimatedCustomWebAnimationsStyle';
var animationNameToIndex = new Map();
var animationNameList = [];
var isObserverSet = false;
function configureWebLayoutAnimations() {
  if (!(0, _PlatformChecker.isWindowAvailable)() || document.getElementById(PREDEFINED_WEB_ANIMATIONS_ID) !== null) {
    return;
  }
  var predefinedAnimationsStyleTag = document.createElement('style');
  predefinedAnimationsStyleTag.id = PREDEFINED_WEB_ANIMATIONS_ID;
  predefinedAnimationsStyleTag.onload = function () {
    if (!predefinedAnimationsStyleTag.sheet) {
      console.error('[Reanimated] Failed to create layout animations stylesheet.');
      return;
    }
    for (var animationName in _config.Animations) {
      predefinedAnimationsStyleTag.sheet.insertRule(_config.Animations[animationName].style);
    }
  };
  var customAnimationsStyleTag = document.createElement('style');
  customAnimationsStyleTag.id = CUSTOM_WEB_ANIMATIONS_ID;
  document.head.appendChild(predefinedAnimationsStyleTag);
  document.head.appendChild(customAnimationsStyleTag);
}
function insertWebAnimation(animationName, keyframe) {
  if (!(0, _PlatformChecker.isWindowAvailable)()) {
    return;
  }
  var styleTag = document.getElementById(CUSTOM_WEB_ANIMATIONS_ID);
  if (!styleTag.sheet) {
    console.error('[Reanimated] Failed to create layout animations stylesheet.');
    return;
  }
  styleTag.sheet.insertRule(keyframe, 0);
  animationNameList.unshift(animationName);
  animationNameToIndex.set(animationName, 0);
  for (var i = 1; i < animationNameList.length; ++i) {
    var nextAnimationName = animationNameList[i];
    var nextAnimationIndex = animationNameToIndex.get(nextAnimationName);
    if (nextAnimationIndex === undefined) {
      throw new Error('[Reanimated] Failed to obtain animation index.');
    }
    animationNameToIndex.set(animationNameList[i], nextAnimationIndex + 1);
  }
}
function removeWebAnimation(animationName, animationRemoveCallback) {
  var _styleTag$sheet;
  if (!(0, _PlatformChecker.isWindowAvailable)()) {
    return;
  }
  var styleTag = document.getElementById(CUSTOM_WEB_ANIMATIONS_ID);
  var currentAnimationIndex = animationNameToIndex.get(animationName);
  if (currentAnimationIndex === undefined) {
    throw new Error('[Reanimated] Failed to obtain animation index.');
  }
  animationRemoveCallback();
  (_styleTag$sheet = styleTag.sheet) === null || _styleTag$sheet === void 0 || _styleTag$sheet.deleteRule(currentAnimationIndex);
  animationNameList.splice(currentAnimationIndex, 1);
  animationNameToIndex.delete(animationName);
  for (var i = currentAnimationIndex; i < animationNameList.length; ++i) {
    var nextAnimationName = animationNameList[i];
    var nextAnimationIndex = animationNameToIndex.get(nextAnimationName);
    if (nextAnimationIndex === undefined) {
      throw new Error('[Reanimated] Failed to obtain animation index.');
    }
    animationNameToIndex.set(animationNameList[i], nextAnimationIndex - 1);
  }
}
var timeoutScale = 1.25;
var frameDurationMs = 16;
var minimumFrames = 10;
function scheduleAnimationCleanup(animationName, animationDuration, animationRemoveCallback) {
  var timeoutValue = Math.max(animationDuration * timeoutScale * 1000, animationDuration + frameDurationMs * minimumFrames);
  setTimeout(function () {
    return removeWebAnimation(animationName, animationRemoveCallback);
  }, timeoutValue);
}
function reattachElementToAncestor(child, parent) {
  var childSnapshot = _componentStyle.snapshots.get(child);
  if (!childSnapshot) {
    console.error('[Reanimated] Failed to obtain snapshot.');
    return;
  }
  child.removedAfterAnimation = true;
  parent.appendChild(child);
  (0, _componentStyle.setElementPosition)(child, childSnapshot);
  var originalOnAnimationEnd = child.onanimationend;
  child.onanimationend = function (event) {
    parent.removeChild(child);
    originalOnAnimationEnd === null || originalOnAnimationEnd === void 0 || originalOnAnimationEnd.call(this, event);
  };
}
function findDescendantWithExitingAnimation(node, root) {
  if (!(node instanceof HTMLElement)) {
    return;
  }
  if (node.reanimatedDummy && node.removedAfterAnimation === undefined) {
    reattachElementToAncestor(node, root);
  }
  var children = Array.from(node.children);
  for (var i = 0; i < children.length; ++i) {
    findDescendantWithExitingAnimation(children[i], root);
  }
}
function checkIfScreenWasChanged(mutationTarget) {
  var _mutationTarget$react;
  var reactFiberKey = '__reactFiber';
  for (var key of Object.keys(mutationTarget)) {
    if (key.startsWith('__reactFiber')) {
      reactFiberKey = key;
      break;
    }
  }
  return ((_mutationTarget$react = mutationTarget[reactFiberKey]) === null || _mutationTarget$react === void 0 || (_mutationTarget$react = _mutationTarget$react.child) === null || _mutationTarget$react === void 0 || (_mutationTarget$react = _mutationTarget$react.memoizedProps) === null || _mutationTarget$react === void 0 ? void 0 : _mutationTarget$react.navigation) !== undefined;
}
function addHTMLMutationObserver() {
  if (isObserverSet || !(0, _PlatformChecker.isWindowAvailable)()) {
    return;
  }
  isObserverSet = true;
  var observer = new MutationObserver(function (mutationsList) {
    var rootMutation = mutationsList[mutationsList.length - 1];
    if (checkIfScreenWasChanged(rootMutation.target)) {
      return;
    }
    for (var i = 0; i < rootMutation.removedNodes.length; ++i) {
      findDescendantWithExitingAnimation(rootMutation.removedNodes[i], rootMutation.target);
    }
  });
  observer.observe(document.body, {
    childList: true,
    subtree: true
  });
}
function areDOMRectsEqual(r1, r2) {
  return r1.x === r2.x && r1.y === r2.y && r1.width === r2.width && r1.height === r2.height;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImFkZEhUTUxNdXRhdGlvbk9ic2VydmVyIiwiYXJlRE9NUmVjdHNFcXVhbCIsImNvbmZpZ3VyZVdlYkxheW91dEFuaW1hdGlvbnMiLCJpbnNlcnRXZWJBbmltYXRpb24iLCJzY2hlZHVsZUFuaW1hdGlvbkNsZWFudXAiLCJfUGxhdGZvcm1DaGVja2VyIiwicmVxdWlyZSIsIl9jb21wb25lbnRTdHlsZSIsIl9jb25maWciLCJQUkVERUZJTkVEX1dFQl9BTklNQVRJT05TX0lEIiwiQ1VTVE9NX1dFQl9BTklNQVRJT05TX0lEIiwiYW5pbWF0aW9uTmFtZVRvSW5kZXgiLCJNYXAiLCJhbmltYXRpb25OYW1lTGlzdCIsImlzT2JzZXJ2ZXJTZXQiLCJpc1dpbmRvd0F2YWlsYWJsZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJwcmVkZWZpbmVkQW5pbWF0aW9uc1N0eWxlVGFnIiwiY3JlYXRlRWxlbWVudCIsImlkIiwib25sb2FkIiwic2hlZXQiLCJjb25zb2xlIiwiZXJyb3IiLCJhbmltYXRpb25OYW1lIiwiQW5pbWF0aW9ucyIsImluc2VydFJ1bGUiLCJzdHlsZSIsImN1c3RvbUFuaW1hdGlvbnNTdHlsZVRhZyIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImtleWZyYW1lIiwic3R5bGVUYWciLCJ1bnNoaWZ0Iiwic2V0IiwiaSIsImxlbmd0aCIsIm5leHRBbmltYXRpb25OYW1lIiwibmV4dEFuaW1hdGlvbkluZGV4IiwiZ2V0IiwidW5kZWZpbmVkIiwiRXJyb3IiLCJyZW1vdmVXZWJBbmltYXRpb24iLCJhbmltYXRpb25SZW1vdmVDYWxsYmFjayIsIl9zdHlsZVRhZyRzaGVldCIsImN1cnJlbnRBbmltYXRpb25JbmRleCIsImRlbGV0ZVJ1bGUiLCJzcGxpY2UiLCJkZWxldGUiLCJ0aW1lb3V0U2NhbGUiLCJmcmFtZUR1cmF0aW9uTXMiLCJtaW5pbXVtRnJhbWVzIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJ0aW1lb3V0VmFsdWUiLCJNYXRoIiwibWF4Iiwic2V0VGltZW91dCIsInJlYXR0YWNoRWxlbWVudFRvQW5jZXN0b3IiLCJjaGlsZCIsInBhcmVudCIsImNoaWxkU25hcHNob3QiLCJzbmFwc2hvdHMiLCJyZW1vdmVkQWZ0ZXJBbmltYXRpb24iLCJzZXRFbGVtZW50UG9zaXRpb24iLCJvcmlnaW5hbE9uQW5pbWF0aW9uRW5kIiwib25hbmltYXRpb25lbmQiLCJldmVudCIsInJlbW92ZUNoaWxkIiwiY2FsbCIsImZpbmREZXNjZW5kYW50V2l0aEV4aXRpbmdBbmltYXRpb24iLCJub2RlIiwicm9vdCIsIkhUTUxFbGVtZW50IiwicmVhbmltYXRlZER1bW15IiwiY2hpbGRyZW4iLCJBcnJheSIsImZyb20iLCJjaGVja0lmU2NyZWVuV2FzQ2hhbmdlZCIsIm11dGF0aW9uVGFyZ2V0IiwiX211dGF0aW9uVGFyZ2V0JHJlYWN0IiwicmVhY3RGaWJlcktleSIsImtleSIsImtleXMiLCJzdGFydHNXaXRoIiwibWVtb2l6ZWRQcm9wcyIsIm5hdmlnYXRpb24iLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnNMaXN0Iiwicm9vdE11dGF0aW9uIiwidGFyZ2V0IiwicmVtb3ZlZE5vZGVzIiwib2JzZXJ2ZSIsImJvZHkiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwicjEiLCJyMiIsIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiXSwic291cmNlcyI6WyJkb21VdGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0eXBlIHsgUmVhbmltYXRlZEhUTUxFbGVtZW50IH0gZnJvbSAnLi4vLi4vanMtcmVhbmltYXRlZCc7XG5pbXBvcnQgeyBpc1dpbmRvd0F2YWlsYWJsZSB9IGZyb20gJy4uLy4uL1BsYXRmb3JtQ2hlY2tlcic7XG5pbXBvcnQgeyBzZXRFbGVtZW50UG9zaXRpb24sIHNuYXBzaG90cyB9IGZyb20gJy4vY29tcG9uZW50U3R5bGUnO1xuaW1wb3J0IHsgQW5pbWF0aW9ucyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB0eXBlIHsgQW5pbWF0aW9uTmFtZXMgfSBmcm9tICcuL2NvbmZpZyc7XG5cbmNvbnN0IFBSRURFRklORURfV0VCX0FOSU1BVElPTlNfSUQgPSAnUmVhbmltYXRlZFByZWRlZmluZWRXZWJBbmltYXRpb25zU3R5bGUnO1xuY29uc3QgQ1VTVE9NX1dFQl9BTklNQVRJT05TX0lEID0gJ1JlYW5pbWF0ZWRDdXN0b21XZWJBbmltYXRpb25zU3R5bGUnO1xuXG4vLyBTaW5jZSB3ZSBjYW5ub3QgcmVtb3ZlIGtleWZyYW1lIGZyb20gRE9NIGJ5IGl0cyBuYW1lLCB3ZSBoYXZlIHRvIHN0b3JlIGl0cyBpZFxuY29uc3QgYW5pbWF0aW9uTmFtZVRvSW5kZXggPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpO1xuY29uc3QgYW5pbWF0aW9uTmFtZUxpc3Q6IHN0cmluZ1tdID0gW107XG5cbmxldCBpc09ic2VydmVyU2V0ID0gZmFsc2U7XG5cbi8qKlxuICogIENyZWF0ZXMgYEhUTUxTdHlsZUVsZW1lbnRgLCBpbnNlcnRzIGl0IGludG8gRE9NIGFuZCB0aGVuIGluc2VydHMgQ1NTIHJ1bGVzIGludG8gdGhlIHN0eWxlc2hlZXQuXG4gKiAgSWYgc3R5bGUgZWxlbWVudCBhbHJlYWR5IGV4aXN0cywgbm90aGluZyBoYXBwZW5zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlV2ViTGF5b3V0QW5pbWF0aW9ucygpIHtcbiAgaWYgKFxuICAgICFpc1dpbmRvd0F2YWlsYWJsZSgpIHx8IC8vIFdpdGhvdXQgdGhpcyBjaGVjayBTU1IgY3Jhc2hlcyBiZWNhdXNlIGRvY3VtZW50IGlzIHVuZGVmaW5lZCAoTmV4dEV4YW1wbGUgb24gQ0kpXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoUFJFREVGSU5FRF9XRUJfQU5JTUFUSU9OU19JRCkgIT09IG51bGxcbiAgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgcHJlZGVmaW5lZEFuaW1hdGlvbnNTdHlsZVRhZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHByZWRlZmluZWRBbmltYXRpb25zU3R5bGVUYWcuaWQgPSBQUkVERUZJTkVEX1dFQl9BTklNQVRJT05TX0lEO1xuXG4gIHByZWRlZmluZWRBbmltYXRpb25zU3R5bGVUYWcub25sb2FkID0gKCkgPT4ge1xuICAgIGlmICghcHJlZGVmaW5lZEFuaW1hdGlvbnNTdHlsZVRhZy5zaGVldCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgJ1tSZWFuaW1hdGVkXSBGYWlsZWQgdG8gY3JlYXRlIGxheW91dCBhbmltYXRpb25zIHN0eWxlc2hlZXQuJ1xuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGFuaW1hdGlvbk5hbWUgaW4gQW5pbWF0aW9ucykge1xuICAgICAgcHJlZGVmaW5lZEFuaW1hdGlvbnNTdHlsZVRhZy5zaGVldC5pbnNlcnRSdWxlKFxuICAgICAgICBBbmltYXRpb25zW2FuaW1hdGlvbk5hbWUgYXMgQW5pbWF0aW9uTmFtZXNdLnN0eWxlXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBjdXN0b21BbmltYXRpb25zU3R5bGVUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICBjdXN0b21BbmltYXRpb25zU3R5bGVUYWcuaWQgPSBDVVNUT01fV0VCX0FOSU1BVElPTlNfSUQ7XG5cbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChwcmVkZWZpbmVkQW5pbWF0aW9uc1N0eWxlVGFnKTtcbiAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChjdXN0b21BbmltYXRpb25zU3R5bGVUYWcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0V2ViQW5pbWF0aW9uKGFuaW1hdGlvbk5hbWU6IHN0cmluZywga2V5ZnJhbWU6IHN0cmluZykge1xuICAvLyBXaXRob3V0IHRoaXMgY2hlY2sgU1NSIGNyYXNoZXMgYmVjYXVzZSBkb2N1bWVudCBpcyB1bmRlZmluZWQgKE5leHRFeGFtcGxlIG9uIENJKVxuICBpZiAoIWlzV2luZG93QXZhaWxhYmxlKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBzdHlsZVRhZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgIENVU1RPTV9XRUJfQU5JTUFUSU9OU19JRFxuICApIGFzIEhUTUxTdHlsZUVsZW1lbnQ7XG5cbiAgaWYgKCFzdHlsZVRhZy5zaGVldCkge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAnW1JlYW5pbWF0ZWRdIEZhaWxlZCB0byBjcmVhdGUgbGF5b3V0IGFuaW1hdGlvbnMgc3R5bGVzaGVldC4nXG4gICAgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBzdHlsZVRhZy5zaGVldC5pbnNlcnRSdWxlKGtleWZyYW1lLCAwKTtcbiAgYW5pbWF0aW9uTmFtZUxpc3QudW5zaGlmdChhbmltYXRpb25OYW1lKTtcbiAgYW5pbWF0aW9uTmFtZVRvSW5kZXguc2V0KGFuaW1hdGlvbk5hbWUsIDApO1xuXG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYW5pbWF0aW9uTmFtZUxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICBjb25zdCBuZXh0QW5pbWF0aW9uTmFtZSA9IGFuaW1hdGlvbk5hbWVMaXN0W2ldO1xuICAgIGNvbnN0IG5leHRBbmltYXRpb25JbmRleCA9IGFuaW1hdGlvbk5hbWVUb0luZGV4LmdldChuZXh0QW5pbWF0aW9uTmFtZSk7XG5cbiAgICBpZiAobmV4dEFuaW1hdGlvbkluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignW1JlYW5pbWF0ZWRdIEZhaWxlZCB0byBvYnRhaW4gYW5pbWF0aW9uIGluZGV4LicpO1xuICAgIH1cblxuICAgIGFuaW1hdGlvbk5hbWVUb0luZGV4LnNldChhbmltYXRpb25OYW1lTGlzdFtpXSwgbmV4dEFuaW1hdGlvbkluZGV4ICsgMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlV2ViQW5pbWF0aW9uKFxuICBhbmltYXRpb25OYW1lOiBzdHJpbmcsXG4gIGFuaW1hdGlvblJlbW92ZUNhbGxiYWNrOiAoKSA9PiB2b2lkXG4pIHtcbiAgLy8gV2l0aG91dCB0aGlzIGNoZWNrIFNTUiBjcmFzaGVzIGJlY2F1c2UgZG9jdW1lbnQgaXMgdW5kZWZpbmVkIChOZXh0RXhhbXBsZSBvbiBDSSlcbiAgaWYgKCFpc1dpbmRvd0F2YWlsYWJsZSgpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qgc3R5bGVUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICBDVVNUT01fV0VCX0FOSU1BVElPTlNfSURcbiAgKSBhcyBIVE1MU3R5bGVFbGVtZW50O1xuXG4gIGNvbnN0IGN1cnJlbnRBbmltYXRpb25JbmRleCA9IGFuaW1hdGlvbk5hbWVUb0luZGV4LmdldChhbmltYXRpb25OYW1lKTtcblxuICBpZiAoY3VycmVudEFuaW1hdGlvbkluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1tSZWFuaW1hdGVkXSBGYWlsZWQgdG8gb2J0YWluIGFuaW1hdGlvbiBpbmRleC4nKTtcbiAgfVxuXG4gIGFuaW1hdGlvblJlbW92ZUNhbGxiYWNrKCk7XG5cbiAgc3R5bGVUYWcuc2hlZXQ/LmRlbGV0ZVJ1bGUoY3VycmVudEFuaW1hdGlvbkluZGV4KTtcblxuICBhbmltYXRpb25OYW1lTGlzdC5zcGxpY2UoY3VycmVudEFuaW1hdGlvbkluZGV4LCAxKTtcbiAgYW5pbWF0aW9uTmFtZVRvSW5kZXguZGVsZXRlKGFuaW1hdGlvbk5hbWUpO1xuXG4gIGZvciAobGV0IGkgPSBjdXJyZW50QW5pbWF0aW9uSW5kZXg7IGkgPCBhbmltYXRpb25OYW1lTGlzdC5sZW5ndGg7ICsraSkge1xuICAgIGNvbnN0IG5leHRBbmltYXRpb25OYW1lID0gYW5pbWF0aW9uTmFtZUxpc3RbaV07XG4gICAgY29uc3QgbmV4dEFuaW1hdGlvbkluZGV4ID0gYW5pbWF0aW9uTmFtZVRvSW5kZXguZ2V0KG5leHRBbmltYXRpb25OYW1lKTtcblxuICAgIGlmIChuZXh0QW5pbWF0aW9uSW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdbUmVhbmltYXRlZF0gRmFpbGVkIHRvIG9idGFpbiBhbmltYXRpb24gaW5kZXguJyk7XG4gICAgfVxuXG4gICAgYW5pbWF0aW9uTmFtZVRvSW5kZXguc2V0KGFuaW1hdGlvbk5hbWVMaXN0W2ldLCBuZXh0QW5pbWF0aW9uSW5kZXggLSAxKTtcbiAgfVxufVxuXG5jb25zdCB0aW1lb3V0U2NhbGUgPSAxLjI1OyAvLyBXZSB1c2UgdGhpcyB2YWx1ZSB0byBlbmxhcmdlIHRpbWVvdXQgZHVyYXRpb24uIEl0IGNhbiBwcm92ZSB1c2VmdWwgaWYgYW5pbWF0aW9uIGxhZ3MuXG5jb25zdCBmcmFtZUR1cmF0aW9uTXMgPSAxNjsgLy8gSnVzdCBhbiBhcHByb3hpbWF0aW9uLlxuY29uc3QgbWluaW11bUZyYW1lcyA9IDEwO1xuXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBbmltYXRpb25DbGVhbnVwKFxuICBhbmltYXRpb25OYW1lOiBzdHJpbmcsXG4gIGFuaW1hdGlvbkR1cmF0aW9uOiBudW1iZXIsXG4gIGFuaW1hdGlvblJlbW92ZUNhbGxiYWNrOiAoKSA9PiB2b2lkXG4pIHtcbiAgLy8gSWYgZHVyYXRpb24gaXMgdmVyeSBzaG9ydCwgd2Ugd2FudCB0byBrZWVwIHJlbW92ZSBkZWxheSB0byBhdCBsZWFzdCAxMCBmcmFtZXNcbiAgLy8gSW4gb3VyIGNhc2UgaXQgaXMgZXhhY3RseSAxNjAvMTA5OSBzLCB3aGljaCBpcyBhcHByb3hpbWF0ZWx5IDAuMTVzXG4gIGNvbnN0IHRpbWVvdXRWYWx1ZSA9IE1hdGgubWF4KFxuICAgIGFuaW1hdGlvbkR1cmF0aW9uICogdGltZW91dFNjYWxlICogMTAwMCxcbiAgICBhbmltYXRpb25EdXJhdGlvbiArIGZyYW1lRHVyYXRpb25NcyAqIG1pbmltdW1GcmFtZXNcbiAgKTtcblxuICBzZXRUaW1lb3V0KFxuICAgICgpID0+IHJlbW92ZVdlYkFuaW1hdGlvbihhbmltYXRpb25OYW1lLCBhbmltYXRpb25SZW1vdmVDYWxsYmFjayksXG4gICAgdGltZW91dFZhbHVlXG4gICk7XG59XG5cbmZ1bmN0aW9uIHJlYXR0YWNoRWxlbWVudFRvQW5jZXN0b3IoY2hpbGQ6IFJlYW5pbWF0ZWRIVE1MRWxlbWVudCwgcGFyZW50OiBOb2RlKSB7XG4gIGNvbnN0IGNoaWxkU25hcHNob3QgPSBzbmFwc2hvdHMuZ2V0KGNoaWxkKTtcblxuICBpZiAoIWNoaWxkU25hcHNob3QpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbUmVhbmltYXRlZF0gRmFpbGVkIHRvIG9idGFpbiBzbmFwc2hvdC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBXZSB1c2UgdGhhdCBzbyB3ZSBkb24ndCBlbmQgdXAgaW4gaW5maW5pdGUgbG9vcFxuICBjaGlsZC5yZW1vdmVkQWZ0ZXJBbmltYXRpb24gPSB0cnVlO1xuICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuXG4gIHNldEVsZW1lbnRQb3NpdGlvbihjaGlsZCwgY2hpbGRTbmFwc2hvdCk7XG5cbiAgY29uc3Qgb3JpZ2luYWxPbkFuaW1hdGlvbkVuZCA9IGNoaWxkLm9uYW5pbWF0aW9uZW5kO1xuXG4gIGNoaWxkLm9uYW5pbWF0aW9uZW5kID0gZnVuY3Rpb24gKGV2ZW50OiBBbmltYXRpb25FdmVudCkge1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG5cbiAgICAvLyBHaXZlbiB0aGF0IHRoaXMgZnVuY3Rpb24gb3ZlcnJpZGVzIG9uQW5pbWF0aW9uRW5kLCBpdCB3b24ndCBiZSBudWxsXG4gICAgb3JpZ2luYWxPbkFuaW1hdGlvbkVuZD8uY2FsbCh0aGlzLCBldmVudCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZpbmREZXNjZW5kYW50V2l0aEV4aXRpbmdBbmltYXRpb24oXG4gIG5vZGU6IFJlYW5pbWF0ZWRIVE1MRWxlbWVudCxcbiAgcm9vdDogTm9kZVxuKSB7XG4gIC8vIE5vZGUgY291bGQgYmUgc29tZXRoaW5nIGVsc2UgdGhhbiBIVE1MRWxlbWVudCwgZm9yIGV4YW1wbGUgVGV4dE5vZGUgKHRyZWF0ZWQgYXMgcGxhaW4gdGV4dCwgbm90IGFzIEhUTUwgb2JqZWN0KSxcbiAgLy8gdGhlcmVmb3JlIGl0IHdvbid0IGhhdmUgY2hpbGRyZW4gcHJvcCBhbmQgY2FsbGluZyBBcnJheS5mcm9tKG5vZGUuY2hpbGRyZW4pIHdpbGwgY2F1c2UgZXJyb3IuXG4gIGlmICghKG5vZGUgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAobm9kZS5yZWFuaW1hdGVkRHVtbXkgJiYgbm9kZS5yZW1vdmVkQWZ0ZXJBbmltYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgIHJlYXR0YWNoRWxlbWVudFRvQW5jZXN0b3Iobm9kZSwgcm9vdCk7XG4gIH1cblxuICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20obm9kZS5jaGlsZHJlbik7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgIGZpbmREZXNjZW5kYW50V2l0aEV4aXRpbmdBbmltYXRpb24oXG4gICAgICBjaGlsZHJlbltpXSBhcyBSZWFuaW1hdGVkSFRNTEVsZW1lbnQsXG4gICAgICByb290XG4gICAgKTtcbiAgfVxufVxuXG50eXBlIEZpYmVyTm9kZUtleSA9IGBfX3JlYWN0RmliZXIke3N0cmluZ31gO1xuXG5pbnRlcmZhY2UgRmliZXJOb2RlIHtcbiAgbWVtb2l6ZWRQcm9wcz86IHtcbiAgICBuYXZpZ2F0aW9uPzogdW5rbm93bjtcbiAgfTtcblxuICBjaGlsZD86IEZpYmVyTm9kZTtcbn1cblxudHlwZSBXaXRoRmliZXJOb2RlID0ge1xuICBba2V5OiBGaWJlck5vZGVLZXldOiBGaWJlck5vZGU7XG59O1xuXG50eXBlIE1heWJlV2l0aEZpYmVyTm9kZSA9IFBhcnRpYWw8V2l0aEZpYmVyTm9kZT47XG5cbmZ1bmN0aW9uIGNoZWNrSWZTY3JlZW5XYXNDaGFuZ2VkKFxuICBtdXRhdGlvblRhcmdldDogUmVhbmltYXRlZEhUTUxFbGVtZW50ICYgTWF5YmVXaXRoRmliZXJOb2RlXG4pIHtcbiAgbGV0IHJlYWN0RmliZXJLZXk6IEZpYmVyTm9kZUtleSA9ICdfX3JlYWN0RmliZXInO1xuXG4gIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKG11dGF0aW9uVGFyZ2V0KSkge1xuICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnX19yZWFjdEZpYmVyJykpIHtcbiAgICAgIHJlYWN0RmliZXJLZXkgPSBrZXkgYXMgRmliZXJOb2RlS2V5O1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICBtdXRhdGlvblRhcmdldFtyZWFjdEZpYmVyS2V5XT8uY2hpbGQ/Lm1lbW9pemVkUHJvcHM/Lm5hdmlnYXRpb24gIT09XG4gICAgdW5kZWZpbmVkXG4gICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRIVE1MTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgaWYgKGlzT2JzZXJ2ZXJTZXQgfHwgIWlzV2luZG93QXZhaWxhYmxlKCkpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBpc09ic2VydmVyU2V0ID0gdHJ1ZTtcblxuICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnNMaXN0KSA9PiB7XG4gICAgY29uc3Qgcm9vdE11dGF0aW9uID0gbXV0YXRpb25zTGlzdFttdXRhdGlvbnNMaXN0Lmxlbmd0aCAtIDFdO1xuXG4gICAgaWYgKFxuICAgICAgY2hlY2tJZlNjcmVlbldhc0NoYW5nZWQoXG4gICAgICAgIHJvb3RNdXRhdGlvbi50YXJnZXQgYXMgUmVhbmltYXRlZEhUTUxFbGVtZW50ICYgTWF5YmVXaXRoRmliZXJOb2RlXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb290TXV0YXRpb24ucmVtb3ZlZE5vZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICBmaW5kRGVzY2VuZGFudFdpdGhFeGl0aW5nQW5pbWF0aW9uKFxuICAgICAgICByb290TXV0YXRpb24ucmVtb3ZlZE5vZGVzW2ldIGFzIFJlYW5pbWF0ZWRIVE1MRWxlbWVudCxcbiAgICAgICAgcm9vdE11dGF0aW9uLnRhcmdldFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuXG4gIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmVET01SZWN0c0VxdWFsKHIxOiBET01SZWN0LCByMjogRE9NUmVjdCkge1xuICAvLyBUaGVyZSBhcmUgNCBtb3JlIGZpZWxkcywgYnV0IGNoZWNraW5nIHRoZXNlIHNob3VsZCBzdWZmaWNlXG4gIHJldHVybiAoXG4gICAgcjEueCA9PT0gcjIueCAmJlxuICAgIHIxLnkgPT09IHIyLnkgJiZcbiAgICByMS53aWR0aCA9PT0gcjIud2lkdGggJiZcbiAgICByMS5oZWlnaHQgPT09IHIyLmhlaWdodFxuICApO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUFBQSxNQUFBLENBQUFDLGNBQUEsQ0FBQUMsT0FBQTtFQUFBQyxLQUFBO0FBQUE7QUFBQUQsT0FBQSxDQUFBRSx1QkFBQSxHQUFBQSx1QkFBQTtBQUFBRixPQUFBLENBQUFHLGdCQUFBLEdBQUFBLGdCQUFBO0FBQUFILE9BQUEsQ0FBQUksNEJBQUEsR0FBQUEsNEJBQUE7QUFBQUosT0FBQSxDQUFBSyxrQkFBQSxHQUFBQSxrQkFBQTtBQUFBTCxPQUFBLENBQUFNLHdCQUFBLEdBQUFBLHdCQUFBO0FBR1osSUFBQUMsZ0JBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLE9BQUEsR0FBQUYsT0FBQTtBQUdBLElBQU1HLDRCQUE0QixHQUFHLHdDQUF3QztBQUM3RSxJQUFNQyx3QkFB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