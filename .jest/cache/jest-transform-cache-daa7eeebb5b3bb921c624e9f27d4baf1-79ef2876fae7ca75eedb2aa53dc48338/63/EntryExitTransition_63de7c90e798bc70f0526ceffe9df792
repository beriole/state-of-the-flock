69b20610167967fe60f6d7eb88166e64
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.EntryExitTransition = void 0;
exports.combineTransition = combineTransition;
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));
var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));
var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));
var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));
var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));
var _animationBuilder = require("../animationBuilder");
var _animation = require("../../animation");
var _Fade = require("../defaultAnimations/Fade");
function _callSuper(t, o, e) { return o = (0, _getPrototypeOf2.default)(o), (0, _possibleConstructorReturn2.default)(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], (0, _getPrototypeOf2.default)(t).constructor) : o.apply(t, e)); }
function _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }
var EntryExitTransition = exports.EntryExitTransition = function (_BaseAnimationBuilder) {
  function EntryExitTransition() {
    var _this;
    (0, _classCallCheck2.default)(this, EntryExitTransition);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this = _callSuper(this, EntryExitTransition, [].concat(args));
    _this.enteringV = _Fade.FadeIn;
    _this.exitingV = _Fade.FadeOut;
    _this.build = function () {
      var delayFunction = _this.getDelayFunction();
      var callback = _this.callbackV;
      var delay = _this.getDelay();
      var enteringAnimation = _this.enteringV.build();
      var exitingAnimation = _this.exitingV.build();
      var exitingDuration = _this.exitingV.getDuration();
      return function (values) {
        'worklet';

        var enteringValues = enteringAnimation(values);
        var exitingValues = exitingAnimation(values);
        var animations = {
          transform: []
        };
        for (var prop of Object.keys(exitingValues.animations)) {
          if (prop === 'transform') {
            if (!Array.isArray(exitingValues.animations.transform)) {
              continue;
            }
            exitingValues.animations.transform.forEach(function (value, index) {
              for (var transformProp of Object.keys(value)) {
                animations.transform.push((0, _defineProperty2.default)({}, transformProp, delayFunction(delay, (0, _animation.withSequence)(value[transformProp], (0, _animation.withTiming)(exitingValues.initialValues.transform ? exitingValues.initialValues.transform[index][transformProp] : 0, {
                  duration: 0
                })))));
              }
            });
          } else {
            var sequence = enteringValues.animations[prop] !== undefined ? [exitingValues.animations[prop], (0, _animation.withTiming)(enteringValues.initialValues[prop], {
              duration: 0
            }), enteringValues.animations[prop]] : [exitingValues.animations[prop], (0, _animation.withTiming)(Object.keys(values).includes(prop) ? values[prop] : exitingValues.initialValues[prop], {
              duration: 0
            })];
            animations[prop] = delayFunction(delay, _animation.withSequence.apply(void 0, sequence));
          }
        }
        for (var _prop of Object.keys(enteringValues.animations)) {
          if (_prop === 'transform') {
            if (!Array.isArray(enteringValues.animations.transform)) {
              continue;
            }
            enteringValues.animations.transform.forEach(function (value, index) {
              for (var transformProp of Object.keys(value)) {
                animations.transform.push((0, _defineProperty2.default)({}, transformProp, delayFunction(delay + exitingDuration, (0, _animation.withSequence)((0, _animation.withTiming)(enteringValues.initialValues.transform ? enteringValues.initialValues.transform[index][transformProp] : 0, {
                  duration: exitingDuration
                }), value[transformProp]))));
              }
            });
          } else if (animations[_prop] !== undefined) {
            continue;
          } else {
            animations[_prop] = delayFunction(delay, (0, _animation.withSequence)((0, _animation.withTiming)(enteringValues.initialValues[_prop], {
              duration: 0
            }), enteringValues.animations[_prop]));
          }
        }
        var mergedTransform = (Array.isArray(exitingValues.initialValues.transform) ? exitingValues.initialValues.transform : []).concat((Array.isArray(enteringValues.animations.transform) ? enteringValues.animations.transform : []).map(function (value) {
          var objectKeys = Object.keys(value);
          if ((objectKeys == null ? void 0 : objectKeys.length) < 1) {
            console.error(`[Reanimated]: \${value} is not a valid Transform object`);
            return value;
          }
          var transformProp = objectKeys[0];
          var current = value[transformProp].current;
          if (typeof current === 'string') {
            if (current.includes('deg')) {
              return (0, _defineProperty2.default)({}, transformProp, '0deg');
            } else {
              return (0, _defineProperty2.default)({}, transformProp, '0');
            }
          } else if (transformProp.includes('translate')) {
            return (0, _defineProperty2.default)({}, transformProp, 0);
          } else {
            return (0, _defineProperty2.default)({}, transformProp, 1);
          }
        }));
        return {
          initialValues: Object.assign({}, exitingValues.initialValues, {
            originX: values.currentOriginX,
            originY: values.currentOriginY,
            width: values.currentWidth,
            height: values.currentHeight,
            transform: mergedTransform
          }),
          animations: Object.assign({
            originX: delayFunction(delay + exitingDuration, (0, _animation.withTiming)(values.targetOriginX, {
              duration: exitingDuration
            })),
            originY: delayFunction(delay + exitingDuration, (0, _animation.withTiming)(values.targetOriginY, {
              duration: exitingDuration
            })),
            width: delayFunction(delay + exitingDuration, (0, _animation.withTiming)(values.targetWidth, {
              duration: exitingDuration
            })),
            height: delayFunction(delay + exitingDuration, (0, _animation.withTiming)(values.targetHeight, {
              duration: exitingDuration
            }))
          }, animations),
          callback: callback
        };
      };
    };
    return _this;
  }
  (0, _inherits2.default)(EntryExitTransition, _BaseAnimationBuilder);
  return (0, _createClass2.default)(EntryExitTransition, [{
    key: "entering",
    value: function entering(animation) {
      this.enteringV = animation;
      return this;
    }
  }, {
    key: "exiting",
    value: function exiting(animation) {
      this.exitingV = animation;
      return this;
    }
  }], [{
    key: "createInstance",
    value: function createInstance() {
      return new EntryExitTransition();
    }
  }, {
    key: "entering",
    value: function entering(animation) {
      var instance = this.createInstance();
      return instance.entering(animation);
    }
  }, {
    key: "exiting",
    value: function exiting(animation) {
      var instance = this.createInstance();
      return instance.exiting(animation);
    }
  }]);
}(_animationBuilder.BaseAnimationBuilder);
EntryExitTransition.presetName = 'EntryExitTransition';
function combineTransition(exiting, entering) {
  return EntryExitTransition.entering(entering).exiting(exiting);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiRW50cnlFeGl0VHJhbnNpdGlvbiIsImNvbWJpbmVUcmFuc2l0aW9uIiwiX2RlZmluZVByb3BlcnR5MiIsIl9jbGFzc0NhbGxDaGVjazIiLCJfY3JlYXRlQ2xhc3MyIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4yIiwiX2dldFByb3RvdHlwZU9mMiIsIl9pbmhlcml0czIiLCJfYW5pbWF0aW9uQnVpbGRlciIsIl9hbmltYXRpb24iLCJfRmFkZSIsIl9jYWxsU3VwZXIiLCJ0IiwibyIsImUiLCJkZWZhdWx0IiwiX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsIlJlZmxlY3QiLCJjb25zdHJ1Y3QiLCJjb25zdHJ1Y3RvciIsImFwcGx5IiwiQm9vbGVhbiIsInByb3RvdHlwZSIsInZhbHVlT2YiLCJjYWxsIiwiX0Jhc2VBbmltYXRpb25CdWlsZGVyIiwiX3RoaXMiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJncyIsIkFycmF5IiwiX2tleSIsImNvbmNhdCIsImVudGVyaW5nViIsIkZhZGVJbiIsImV4aXRpbmdWIiwiRmFkZU91dCIsImJ1aWxkIiwiZGVsYXlGdW5jdGlvbiIsImdldERlbGF5RnVuY3Rpb24iLCJjYWxsYmFjayIsImNhbGxiYWNrViIsImRlbGF5IiwiZ2V0RGVsYXkiLCJlbnRlcmluZ0FuaW1hdGlvbiIsImV4aXRpbmdBbmltYXRpb24iLCJleGl0aW5nRHVyYXRpb24iLCJnZXREdXJhdGlvbiIsInZhbHVlcyIsImVudGVyaW5nVmFsdWVzIiwiZXhpdGluZ1ZhbHVlcyIsImFuaW1hdGlvbnMiLCJ0cmFuc2Zvcm0iLCJwcm9wIiwia2V5cyIsImlzQXJyYXkiLCJmb3JFYWNoIiwiaW5kZXgiLCJ0cmFuc2Zvcm1Qcm9wIiwicHVzaCIsIndpdGhTZXF1ZW5jZSIsIndpdGhUaW1pbmciLCJpbml0aWFsVmFsdWVzIiwiZHVyYXRpb24iLCJzZXF1ZW5jZSIsInVuZGVmaW5lZCIsImluY2x1ZGVzIiwibWVyZ2VkVHJhbnNmb3JtIiwibWFwIiwib2JqZWN0S2V5cyIsImNvbnNvbGUiLCJlcnJvciIsImN1cnJlbnQiLCJhc3NpZ24iLCJvcmlnaW5YIiwiY3VycmVudE9yaWdpblgiLCJvcmlnaW5ZIiwiY3VycmVudE9yaWdpblkiLCJ3aWR0aCIsImN1cnJlbnRXaWR0aCIsImhlaWdodCIsImN1cnJlbnRIZWlnaHQiLCJ0YXJnZXRPcmlnaW5YIiwidGFyZ2V0T3JpZ2luWSIsInRhcmdldFdpZHRoIiwidGFyZ2V0SGVpZ2h0Iiwia2V5IiwiZW50ZXJpbmciLCJhbmltYXRpb24iLCJleGl0aW5nIiwiY3JlYXRlSW5zdGFuY2UiLCJpbnN0YW5jZSIsIkJhc2VBbmltYXRpb25CdWlsZGVyIiwicHJlc2V0TmFtZSJdLCJzb3VyY2VzIjpbIkVudHJ5RXhpdFRyYW5zaXRpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHR5cGUge1xuICBJTGF5b3V0QW5pbWF0aW9uQnVpbGRlcixcbiAgTGF5b3V0QW5pbWF0aW9uc1ZhbHVlcyxcbiAgTGF5b3V0QW5pbWF0aW9uRnVuY3Rpb24sXG4gIFN0eWxlUHJvcHNXaXRoQXJyYXlUcmFuc2Zvcm0sXG59IGZyb20gJy4uL2FuaW1hdGlvbkJ1aWxkZXIvY29tbW9uVHlwZXMnO1xuaW1wb3J0IHsgQmFzZUFuaW1hdGlvbkJ1aWxkZXIgfSBmcm9tICcuLi9hbmltYXRpb25CdWlsZGVyJztcbmltcG9ydCB7IHdpdGhTZXF1ZW5jZSwgd2l0aFRpbWluZyB9IGZyb20gJy4uLy4uL2FuaW1hdGlvbic7XG5pbXBvcnQgeyBGYWRlSW4sIEZhZGVPdXQgfSBmcm9tICcuLi9kZWZhdWx0QW5pbWF0aW9ucy9GYWRlJztcbmltcG9ydCB0eXBlIHtcbiAgQW5pbWF0YWJsZVZhbHVlLFxuICBBbmltYXRpb25PYmplY3QsXG4gIFRyYW5zZm9ybUFycmF5SXRlbSxcbn0gZnJvbSAnLi4vLi4vY29tbW9uVHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgRW50cnlFeGl0VHJhbnNpdGlvblxuICBleHRlbmRzIEJhc2VBbmltYXRpb25CdWlsZGVyXG4gIGltcGxlbWVudHMgSUxheW91dEFuaW1hdGlvbkJ1aWxkZXJcbntcbiAgc3RhdGljIHByZXNldE5hbWUgPSAnRW50cnlFeGl0VHJhbnNpdGlvbic7XG5cbiAgZW50ZXJpbmdWOiBCYXNlQW5pbWF0aW9uQnVpbGRlciB8IHR5cGVvZiBCYXNlQW5pbWF0aW9uQnVpbGRlciA9IEZhZGVJbjtcblxuICBleGl0aW5nVjogQmFzZUFuaW1hdGlvbkJ1aWxkZXIgfCB0eXBlb2YgQmFzZUFuaW1hdGlvbkJ1aWxkZXIgPSBGYWRlT3V0O1xuXG4gIHN0YXRpYyBjcmVhdGVJbnN0YW5jZTxUIGV4dGVuZHMgdHlwZW9mIEJhc2VBbmltYXRpb25CdWlsZGVyPihcbiAgICB0aGlzOiBUXG4gICk6IEluc3RhbmNlVHlwZTxUPiB7XG4gICAgcmV0dXJuIG5ldyBFbnRyeUV4aXRUcmFuc2l0aW9uKCkgYXMgSW5zdGFuY2VUeXBlPFQ+O1xuICB9XG5cbiAgc3RhdGljIGVudGVyaW5nKFxuICAgIGFuaW1hdGlvbjogQmFzZUFuaW1hdGlvbkJ1aWxkZXIgfCB0eXBlb2YgQmFzZUFuaW1hdGlvbkJ1aWxkZXJcbiAgKTogRW50cnlFeGl0VHJhbnNpdGlvbiB7XG4gICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzLmNyZWF0ZUluc3RhbmNlKCk7XG4gICAgcmV0dXJuIGluc3RhbmNlLmVudGVyaW5nKGFuaW1hdGlvbik7XG4gIH1cblxuICBlbnRlcmluZyhcbiAgICBhbmltYXRpb246IEJhc2VBbmltYXRpb25CdWlsZGVyIHwgdHlwZW9mIEJhc2VBbmltYXRpb25CdWlsZGVyXG4gICk6IEVudHJ5RXhpdFRyYW5zaXRpb24ge1xuICAgIHRoaXMuZW50ZXJpbmdWID0gYW5pbWF0aW9uO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgc3RhdGljIGV4aXRpbmcoXG4gICAgYW5pbWF0aW9uOiBCYXNlQW5pbWF0aW9uQnVpbGRlciB8IHR5cGVvZiBCYXNlQW5pbWF0aW9uQnVpbGRlclxuICApOiBFbnRyeUV4aXRUcmFuc2l0aW9uIHtcbiAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuY3JlYXRlSW5zdGFuY2UoKTtcbiAgICByZXR1cm4gaW5zdGFuY2UuZXhpdGluZyhhbmltYXRpb24pO1xuICB9XG5cbiAgZXhpdGluZyhcbiAgICBhbmltYXRpb246IEJhc2VBbmltYXRpb25CdWlsZGVyIHwgdHlwZW9mIEJhc2VBbmltYXRpb25CdWlsZGVyXG4gICk6IEVudHJ5RXhpdFRyYW5zaXRpb24ge1xuICAgIHRoaXMuZXhpdGluZ1YgPSBhbmltYXRpb247XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBidWlsZCA9ICgpOiBMYXlvdXRBbmltYXRpb25GdW5jdGlvbiA9PiB7XG4gICAgY29uc3QgZGVsYXlGdW5jdGlvbiA9IHRoaXMuZ2V0RGVsYXlGdW5jdGlvbigpO1xuICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpcy5jYWxsYmFja1Y7XG4gICAgY29uc3QgZGVsYXkgPSB0aGlzLmdldERlbGF5KCk7XG4gICAgLy8gQHRzLWlnbm9yZSBDYWxsaW5nIGAuYnVpbGQoKWAgYm90aCBzdGF0aWMgYW5kIGluc3RhbmNlIG1ldGhvZHMgd29ya3MgZmluZSBoZXJlLCBidXQgYHRoaXNgIHR5cGVzIGFyZSBpbmNvbXBhdGlibGUuIFRoZXkgYXJlIG5vdCB1c2VkIHRob3VnaCwgc28gaXQncyBmaW5lLlxuICAgIGNvbnN0IGVudGVyaW5nQW5pbWF0aW9uID0gdGhpcy5lbnRlcmluZ1YuYnVpbGQoKTtcbiAgICAvLyBAdHMtaWdub3JlIENhbGxpbmcgYC5idWlsZCgpYCBib3RoIHN0YXRpYyBhbmQgaW5zdGFuY2UgbWV0aG9kcyB3b3JrcyBmaW5lIGhlcmUsIGJ1dCBgdGhpc2AgdHlwZXMgYXJlIGluY29tcGF0aWJsZS4gVGhleSBhcmUgbm90IHVzZWQgdGhvdWdoLCBzbyBpdCdzIGZpbmUuXG4gICAgY29uc3QgZXhpdGluZ0FuaW1hdGlvbiA9IHRoaXMuZXhpdGluZ1YuYnVpbGQoKTtcbiAgICBjb25zdCBleGl0aW5nRHVyYXRpb24gPSB0aGlzLmV4aXRpbmdWLmdldER1cmF0aW9uKCk7XG5cbiAgICByZXR1cm4gKHZhbHVlcykgPT4ge1xuICAgICAgJ3dvcmtsZXQnO1xuICAgICAgY29uc3QgZW50ZXJpbmdWYWx1ZXMgPSBlbnRlcmluZ0FuaW1hdGlvbih2YWx1ZXMpO1xuICAgICAgY29uc3QgZXhpdGluZ1ZhbHVlcyA9IGV4aXRpbmdBbmltYXRpb24odmFsdWVzKTtcbiAgICAgIGNvbnN0IGFuaW1hdGlvbnM6IFN0eWxlUHJvcHNXaXRoQXJyYXlUcmFuc2Zvcm0gPSB7XG4gICAgICAgIHRyYW5zZm9ybTogW10sXG4gICAgICB9O1xuXG4gICAgICBmb3IgKGNvbnN0IHByb3Agb2YgT2JqZWN0LmtleXMoZXhpdGluZ1ZhbHVlcy5hbmltYXRpb25zKSkge1xuICAgICAgICBpZiAocHJvcCA9PT0gJ3RyYW5zZm9ybScpIHtcbiAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZXhpdGluZ1ZhbHVlcy5hbmltYXRpb25zLnRyYW5zZm9ybSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBleGl0aW5nVmFsdWVzLmFuaW1hdGlvbnMudHJhbnNmb3JtLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmFuc2Zvcm1Qcm9wIG9mIE9iamVjdC5rZXlzKHZhbHVlKSkge1xuICAgICAgICAgICAgICBhbmltYXRpb25zLnRyYW5zZm9ybSEucHVzaCh7XG4gICAgICAgICAgICAgICAgW3RyYW5zZm9ybVByb3BdOiBkZWxheUZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgZGVsYXksXG4gICAgICAgICAgICAgICAgICB3aXRoU2VxdWVuY2UoXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlW3RyYW5zZm9ybVByb3AgYXMga2V5b2YgVHJhbnNmb3JtQXJyYXlJdGVtXSxcbiAgICAgICAgICAgICAgICAgICAgd2l0aFRpbWluZyhcbiAgICAgICAgICAgICAgICAgICAgICBleGl0aW5nVmFsdWVzLmluaXRpYWxWYWx1ZXMudHJhbnNmb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICA/IC8vIFRPRE8gVFlQRVNDUklQVFxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIFRoaXMgbGluZSBvZiBjb2RlIGZhaWxzIHRyYWdpY2FsbHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gbmV3ZXIgdmVyc2lvbnMgb2YgUmVhY3QgTmF0aXZlLCB3aGVyZSB0aGV5IGhhdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbmFycm93ZWQgZG93biB0aGUgdHlwZSBvZiBgdHJhbnNmb3JtYCBldmVuIGZ1cnRoZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgcGllY2Ugb2YgY29kZSBpbXByb3Blcmx5IHR5cGVkIGFueXdheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAoZS5nLiBpdCBhc3N1bWVzIHR5cGVzIGZyb20gUk4gQW5pbWF0ZWQgaGVyZSkgSSdkIHJhdGhlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaXggaXQgaW4gdGhlIGZ1dHVyZSB3aGVuIHR5cGVzIGZvciBhbmltYXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFyZSBwcm9wZXJseSBkZWZpbmVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0aW5nVmFsdWVzLmluaXRpYWxWYWx1ZXMudHJhbnNmb3JtW2luZGV4XVtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm1Qcm9wXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICB7IGR1cmF0aW9uOiAwIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIH0gYXMgVHJhbnNmb3JtQXJyYXlJdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBzZXF1ZW5jZSA9XG4gICAgICAgICAgICBlbnRlcmluZ1ZhbHVlcy5hbmltYXRpb25zW3Byb3BdICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyBbXG4gICAgICAgICAgICAgICAgICBleGl0aW5nVmFsdWVzLmFuaW1hdGlvbnNbcHJvcF0sXG4gICAgICAgICAgICAgICAgICB3aXRoVGltaW5nKGVudGVyaW5nVmFsdWVzLmluaXRpYWxWYWx1ZXNbcHJvcF0sIHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIGVudGVyaW5nVmFsdWVzLmFuaW1hdGlvbnNbcHJvcF0sXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICA6IFtcbiAgICAgICAgICAgICAgICAgIGV4aXRpbmdWYWx1ZXMuYW5pbWF0aW9uc1twcm9wXSxcbiAgICAgICAgICAgICAgICAgIHdpdGhUaW1pbmcoXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHZhbHVlcykuaW5jbHVkZXMocHJvcClcbiAgICAgICAgICAgICAgICAgICAgICA/IHZhbHVlc1twcm9wIGFzIGtleW9mIExheW91dEFuaW1hdGlvbnNWYWx1ZXNdXG4gICAgICAgICAgICAgICAgICAgICAgOiBleGl0aW5nVmFsdWVzLmluaXRpYWxWYWx1ZXNbcHJvcF0sXG4gICAgICAgICAgICAgICAgICAgIHsgZHVyYXRpb246IDAgfVxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBdO1xuXG4gICAgICAgICAgYW5pbWF0aW9uc1twcm9wXSA9IGRlbGF5RnVuY3Rpb24oZGVsYXksIHdpdGhTZXF1ZW5jZSguLi5zZXF1ZW5jZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IHByb3Agb2YgT2JqZWN0LmtleXMoZW50ZXJpbmdWYWx1ZXMuYW5pbWF0aW9ucykpIHtcbiAgICAgICAgaWYgKHByb3AgPT09ICd0cmFuc2Zvcm0nKSB7XG4gICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGVudGVyaW5nVmFsdWVzLmFuaW1hdGlvbnMudHJhbnNmb3JtKSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVudGVyaW5nVmFsdWVzLmFuaW1hdGlvbnMudHJhbnNmb3JtLmZvckVhY2goKHZhbHVlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0cmFuc2Zvcm1Qcm9wIG9mIE9iamVjdC5rZXlzKHZhbHVlKSkge1xuICAgICAgICAgICAgICBhbmltYXRpb25zLnRyYW5zZm9ybSEucHVzaCh7XG4gICAgICAgICAgICAgICAgW3RyYW5zZm9ybVByb3BdOiBkZWxheUZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgZGVsYXkgKyBleGl0aW5nRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICB3aXRoU2VxdWVuY2UoXG4gICAgICAgICAgICAgICAgICAgIHdpdGhUaW1pbmcoXG4gICAgICAgICAgICAgICAgICAgICAgZW50ZXJpbmdWYWx1ZXMuaW5pdGlhbFZhbHVlcy50cmFuc2Zvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgID8gKChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRlcmluZ1ZhbHVlcy5pbml0aWFsVmFsdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudHJhbnNmb3JtIGFzIFRyYW5zZm9ybUFycmF5SXRlbVtdXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClbaW5kZXhdW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybVByb3AgYXMga2V5b2YgVHJhbnNmb3JtQXJyYXlJdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF0gYXMgQW5pbWF0YWJsZVZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgIHsgZHVyYXRpb246IGV4aXRpbmdEdXJhdGlvbiB9XG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlW1xuICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybVByb3AgYXMga2V5b2YgVHJhbnNmb3JtQXJyYXlJdGVtXG4gICAgICAgICAgICAgICAgICAgIF0gYXMgQW5pbWF0YWJsZVZhbHVlXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgfSBhcyBUcmFuc2Zvcm1BcnJheUl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGFuaW1hdGlvbnNbcHJvcF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIGl0IHdhcyBhbHJlYWR5IGFkZGVkIGluIHRoZSBwcmV2aW91cyBsb29wXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYW5pbWF0aW9uc1twcm9wXSA9IGRlbGF5RnVuY3Rpb24oXG4gICAgICAgICAgICBkZWxheSxcbiAgICAgICAgICAgIHdpdGhTZXF1ZW5jZShcbiAgICAgICAgICAgICAgd2l0aFRpbWluZyhlbnRlcmluZ1ZhbHVlcy5pbml0aWFsVmFsdWVzW3Byb3BdLCB7IGR1cmF0aW9uOiAwIH0pLFxuICAgICAgICAgICAgICBlbnRlcmluZ1ZhbHVlcy5hbmltYXRpb25zW3Byb3BdXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBtZXJnZWRUcmFuc2Zvcm0gPSAoXG4gICAgICAgIEFycmF5LmlzQXJyYXkoZXhpdGluZ1ZhbHVlcy5pbml0aWFsVmFsdWVzLnRyYW5zZm9ybSlcbiAgICAgICAgICA/IGV4aXRpbmdWYWx1ZXMuaW5pdGlhbFZhbHVlcy50cmFuc2Zvcm1cbiAgICAgICAgICA6IFtdXG4gICAgICApLmNvbmNhdChcbiAgICAgICAgKEFycmF5LmlzQXJyYXkoZW50ZXJpbmdWYWx1ZXMuYW5pbWF0aW9ucy50cmFuc2Zvcm0pXG4gICAgICAgICAgPyBlbnRlcmluZ1ZhbHVlcy5hbmltYXRpb25zLnRyYW5zZm9ybVxuICAgICAgICAgIDogW11cbiAgICAgICAgKS5tYXAoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTtcbiAgICAgICAgICBpZiAob2JqZWN0S2V5cz8ubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgYFtSZWFuaW1hdGVkXTogXFwke3ZhbHVlfSBpcyBub3QgYSB2YWxpZCBUcmFuc2Zvcm0gb2JqZWN0YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1Qcm9wID0gb2JqZWN0S2V5c1swXTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50ID1cbiAgICAgICAgICAgIC8vIFRPRE8gVFlQRVNDUklQVFxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBSZWFkIHNpbWlsYXIgY29tbWVudCBhYm92ZS5cbiAgICAgICAgICAgICh2YWx1ZVt0cmFuc2Zvcm1Qcm9wXSBhcyBBbmltYXRpb25PYmplY3QpLmN1cnJlbnQ7XG4gICAgICAgICAgaWYgKHR5cGVvZiBjdXJyZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQuaW5jbHVkZXMoJ2RlZycpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgW3RyYW5zZm9ybVByb3BdOiAnMGRlZycsXG4gICAgICAgICAgICAgIH0gYXMgdW5rbm93biBhcyBUcmFuc2Zvcm1BcnJheUl0ZW07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIFt0cmFuc2Zvcm1Qcm9wXTogJzAnLFxuICAgICAgICAgICAgICB9IGFzIHVua25vd24gYXMgVHJhbnNmb3JtQXJyYXlJdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtUHJvcC5pbmNsdWRlcygndHJhbnNsYXRlJykpIHtcbiAgICAgICAgICAgIHJldHVybiB7IFt0cmFuc2Zvcm1Qcm9wXTogMCB9IGFzIHVua25vd24gYXMgVHJhbnNmb3JtQXJyYXlJdGVtO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyBbdHJhbnNmb3JtUHJvcF06IDEgfSBhcyB1bmtub3duIGFzIFRyYW5zZm9ybUFycmF5SXRlbTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbml0aWFsVmFsdWVzOiB7XG4gICAgICAgICAgLi4uZXhpdGluZ1ZhbHVlcy5pbml0aWFsVmFsdWVzLFxuICAgICAgICAgIG9yaWdpblg6IHZhbHVlcy5jdXJyZW50T3JpZ2luWCxcbiAgICAgICAgICBvcmlnaW5ZOiB2YWx1ZXMuY3VycmVudE9yaWdpblksXG4gICAgICAgICAgd2lkdGg6IHZhbHVlcy5jdXJyZW50V2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiB2YWx1ZXMuY3VycmVudEhlaWdodCxcbiAgICAgICAgICB0cmFuc2Zvcm06IG1lcmdlZFRyYW5zZm9ybSxcbiAgICAgICAgfSxcbiAgICAgICAgYW5pbWF0aW9uczoge1xuICAgICAgICAgIG9yaWdpblg6IGRlbGF5RnVuY3Rpb24oXG4gICAgICAgICAgICBkZWxheSArIGV4aXRpbmdEdXJhdGlvbixcbiAgICAgICAgICAgIHdpdGhUaW1pbmcodmFsdWVzLnRhcmdldE9yaWdpblgsIHsgZHVyYXRpb246IGV4aXRpbmdEdXJhdGlvbiB9KVxuICAgICAgICAgICksXG4gICAgICAgICAgb3JpZ2luWTogZGVsYXlGdW5jdGlvbihcbiAgICAgICAgICAgIGRlbGF5ICsgZXhpdGluZ0R1cmF0aW9uLFxuICAgICAgICAgICAgd2l0aFRpbWluZyh2YWx1ZXMudGFyZ2V0T3JpZ2luWSwgeyBkdXJhdGlvbjogZXhpdGluZ0R1cmF0aW9uIH0pXG4gICAgICAgICAgKSxcbiAgICAgICAgICB3aWR0aDogZGVsYXlGdW5jdGlvbihcbiAgICAgICAgICAgIGRlbGF5ICsgZXhpdGluZ0R1cmF0aW9uLFxuICAgICAgICAgICAgd2l0aFRpbWluZyh2YWx1ZXMudGFyZ2V0V2lkdGgsIHsgZHVyYXRpb246IGV4aXRpbmdEdXJhdGlvbiB9KVxuICAgICAgICAgICksXG4gICAgICAgICAgaGVpZ2h0OiBkZWxheUZ1bmN0aW9uKFxuICAgICAgICAgICAgZGVsYXkgKyBleGl0aW5nRHVyYXRpb24sXG4gICAgICAgICAgICB3aXRoVGltaW5nKHZhbHVlcy50YXJnZXRIZWlnaHQsIHsgZHVyYXRpb246IGV4aXRpbmdEdXJhdGlvbiB9KVxuICAgICAgICAgICksXG4gICAgICAgICAgLi4uYW5pbWF0aW9ucyxcbiAgICAgICAgfSxcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICB9O1xuICAgIH07XG4gIH07XG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgUGxlYXNlIHVzZSBgRW50cnlFeGl0VHJhbnNpdGlvbi5lbnRlcmluZyhlbnRlcmluZykuZXhpdGluZyhleGl0aW5nKWAgaW5zdGVhZC5cbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnN3bWFuc2lvbi5jb20vcmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWQvZG9jcy9sYXlvdXQtYW5pbWF0aW9ucy9sYXlvdXQtdHJhbnNpdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbWJpbmVUcmFuc2l0aW9uKFxuICBleGl0aW5nOiBCYXNlQW5pbWF0aW9uQnVpbGRlciB8IHR5cGVvZiBCYXNlQW5pbWF0aW9uQnVpbGRlcixcbiAgZW50ZXJpbmc6IEJhc2VBbmltYXRpb25CdWlsZGVyIHwgdHlwZW9mIEJhc2VBbmltYXRpb25CdWlsZGVyXG4pOiBFbnRyeUV4aXRUcmFuc2l0aW9uIHtcbiAgcmV0dXJuIEVudHJ5RXhpdFRyYW5zaXRpb24uZW50ZXJpbmcoZW50ZXJpbmcpLmV4aXRpbmcoZXhpdGluZyk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQUMsSUFBQUEsc0JBQUEsR0FBQUMsT0FBQTtBQUFBQyxNQUFBLENBQUFDLGNBQUEsQ0FBQUMsT0FBQTtFQUFBQyxLQUFBO0FBQUE7QUFBQUQsT0FBQSxDQUFBRSxtQkFBQTtBQUFBRixPQUFBLENBQUFHLGlCQUFBLEdBQUFBLGlCQUFBO0FBQUEsSUFBQUMsZ0JBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFRLGdCQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBUyxhQUFBLEdBQUFWLHNCQUFBLENBQUFDLE9BQUE7QUFBQSxJQUFBVSwyQkFBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQVcsZ0JBQUEsR0FBQVosc0JBQUEsQ0FBQUMsT0FBQTtBQUFBLElBQUFZLFVBQUEsR0FBQWIsc0JBQUEsQ0FBQUMsT0FBQTtBQU9iLElBQUFhLGlCQUFBLEdBQUFiLE9BQUE7QUFDQSxJQUFBYyxVQUFBLEdBQUFkLE9BQUE7QUFDQSxJQUFBZSxLQUFBLEdBQUFmLE9BQUE7QUFBNEQsU0FBQWdCLFdBQUFDLENBQUEsRUFBQUMsQ0FBQSxFQUFBQyxDQUFBLFdBQUFELENBQUEsT0FBQVAsZ0JBQUEsQ0FBQVMsT0FBQSxFQUFBRixDQUFBLE9BQUFSLDJCQUFBLENBQUFVLE9BQUEsRUFBQUgsQ0FBQSxFQUFBSSx5QkFBQSxLQUFBQyxPQUFBLENBQUFD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