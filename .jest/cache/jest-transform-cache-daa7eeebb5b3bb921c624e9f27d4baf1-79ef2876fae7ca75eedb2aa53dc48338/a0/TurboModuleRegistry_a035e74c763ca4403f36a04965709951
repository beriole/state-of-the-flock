5b267ba26c87cdac3803cf1e3d76e770
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.get = get;
exports.getEnforcing = getEnforcing;
var _invariant = _interopRequireDefault(require("invariant"));
var NativeModules = require('../BatchedBridge/NativeModules');
var turboModuleProxy = global.__turboModuleProxy;
var moduleLoadHistory = {
  NativeModules: [],
  TurboModules: [],
  NotFound: []
};
function isBridgeless() {
  return global.RN$Bridgeless === true;
}
function isTurboModuleInteropEnabled() {
  return global.RN$TurboInterop === true;
}
function shouldReportDebugInfo() {
  return true;
}
function requireModule(name) {
  if (!isBridgeless() || isTurboModuleInteropEnabled()) {
    var legacyModule = NativeModules[name];
    if (legacyModule != null) {
      if (shouldReportDebugInfo()) {
        moduleLoadHistory.NativeModules.push(name);
      }
      return legacyModule;
    }
  }
  if (turboModuleProxy != null) {
    var module = turboModuleProxy(name);
    if (module != null) {
      if (shouldReportDebugInfo()) {
        moduleLoadHistory.TurboModules.push(name);
      }
      return module;
    }
  }
  if (shouldReportDebugInfo() && !moduleLoadHistory.NotFound.includes(name)) {
    moduleLoadHistory.NotFound.push(name);
  }
  return null;
}
function get(name) {
  return requireModule(name);
}
function getEnforcing(name) {
  var module = requireModule(name);
  var message = `TurboModuleRegistry.getEnforcing(...): '${name}' could not be found. ` + 'Verify that a module by this name is registered in the native binary.';
  if (shouldReportDebugInfo()) {
    message += ' Bridgeless mode: ' + (isBridgeless() ? 'true' : 'false') + '. ';
    message += 'TurboModule interop: ' + (isTurboModuleInteropEnabled() ? 'true' : 'false') + '. ';
    message += 'Modules loaded: ' + JSON.stringify(moduleLoadHistory);
  }
  (0, _invariant.default)(module != null, message);
  return module;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW52YXJpYW50IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJOYXRpdmVNb2R1bGVzIiwidHVyYm9Nb2R1bGVQcm94eSIsImdsb2JhbCIsIl9fdHVyYm9Nb2R1bGVQcm94eSIsIm1vZHVsZUxvYWRIaXN0b3J5IiwiVHVyYm9Nb2R1bGVzIiwiTm90Rm91bmQiLCJpc0JyaWRnZWxlc3MiLCJSTiRCcmlkZ2VsZXNzIiwiaXNUdXJib01vZHVsZUludGVyb3BFbmFibGVkIiwiUk4kVHVyYm9JbnRlcm9wIiwic2hvdWxkUmVwb3J0RGVidWdJbmZvIiwicmVxdWlyZU1vZHVsZSIsIm5hbWUiLCJsZWdhY3lNb2R1bGUiLCJwdXNoIiwibW9kdWxlIiwiaW5jbHVkZXMiLCJnZXQiLCJnZXRFbmZvcmNpbmciLCJtZXNzYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsImludmFyaWFudCJdLCJzb3VyY2VzIjpbIlR1cmJvTW9kdWxlUmVnaXN0cnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmbG93IHN0cmljdFxuICogQGZvcm1hdFxuICovXG5cbmltcG9ydCB0eXBlIHtUdXJib01vZHVsZX0gZnJvbSAnLi9SQ1RFeHBvcnQnO1xuXG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2ludmFyaWFudCc7XG5cbmNvbnN0IE5hdGl2ZU1vZHVsZXMgPSByZXF1aXJlKCcuLi9CYXRjaGVkQnJpZGdlL05hdGl2ZU1vZHVsZXMnKTtcblxuY29uc3QgdHVyYm9Nb2R1bGVQcm94eSA9IGdsb2JhbC5fX3R1cmJvTW9kdWxlUHJveHk7XG5cbmNvbnN0IG1vZHVsZUxvYWRIaXN0b3J5ID0ge1xuICBOYXRpdmVNb2R1bGVzOiAoW106IEFycmF5PHN0cmluZz4pLFxuICBUdXJib01vZHVsZXM6IChbXTogQXJyYXk8c3RyaW5nPiksXG4gIE5vdEZvdW5kOiAoW106IEFycmF5PHN0cmluZz4pLFxufTtcblxuZnVuY3Rpb24gaXNCcmlkZ2VsZXNzKCkge1xuICByZXR1cm4gZ2xvYmFsLlJOJEJyaWRnZWxlc3MgPT09IHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzVHVyYm9Nb2R1bGVJbnRlcm9wRW5hYmxlZCgpIHtcbiAgcmV0dXJuIGdsb2JhbC5STiRUdXJib0ludGVyb3AgPT09IHRydWU7XG59XG5cbi8vIFRPRE8oMTU0MzA4NTg1KTogUmVtb3ZlIFwibW9kdWxlIG5vdCBmb3VuZFwiIGRlYnVnIGluZm8gbG9nZ2luZ1xuZnVuY3Rpb24gc2hvdWxkUmVwb3J0RGVidWdJbmZvKCkge1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gVE9ETygxNDg5NDM5NzApOiBDb25zaWRlciByZXZlcnNpbmcgdGhlIGxvb2t1cCBoZXJlOlxuLy8gTG9va3VwIG9uIF9fdHVyYm9Nb2R1bGVQcm94eSwgdGhlbiBsb29rdXAgb24gbmF0aXZlTW9kdWxlUHJveHlcbmZ1bmN0aW9uIHJlcXVpcmVNb2R1bGU8VDogVHVyYm9Nb2R1bGU+KG5hbWU6IHN0cmluZyk6ID9UIHtcbiAgaWYgKCFpc0JyaWRnZWxlc3MoKSB8fCBpc1R1cmJvTW9kdWxlSW50ZXJvcEVuYWJsZWQoKSkge1xuICAgIC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHkgbGF5ZXIgZHVyaW5nIG1pZ3JhdGlvbi5cbiAgICBjb25zdCBsZWdhY3lNb2R1bGUgPSBOYXRpdmVNb2R1bGVzW25hbWVdO1xuICAgIGlmIChsZWdhY3lNb2R1bGUgIT0gbnVsbCkge1xuICAgICAgaWYgKHNob3VsZFJlcG9ydERlYnVnSW5mbygpKSB7XG4gICAgICAgIG1vZHVsZUxvYWRIaXN0b3J5Lk5hdGl2ZU1vZHVsZXMucHVzaChuYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoKGxlZ2FjeU1vZHVsZTogJEZsb3dGaXhNZSk6IFQpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0dXJib01vZHVsZVByb3h5ICE9IG51bGwpIHtcbiAgICBjb25zdCBtb2R1bGU6ID9UID0gdHVyYm9Nb2R1bGVQcm94eShuYW1lKTtcbiAgICBpZiAobW9kdWxlICE9IG51bGwpIHtcbiAgICAgIGlmIChzaG91bGRSZXBvcnREZWJ1Z0luZm8oKSkge1xuICAgICAgICBtb2R1bGVMb2FkSGlzdG9yeS5UdXJib01vZHVsZXMucHVzaChuYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtb2R1bGU7XG4gICAgfVxuICB9XG5cbiAgaWYgKHNob3VsZFJlcG9ydERlYnVnSW5mbygpICYmICFtb2R1bGVMb2FkSGlzdG9yeS5Ob3RGb3VuZC5pbmNsdWRlcyhuYW1lKSkge1xuICAgIG1vZHVsZUxvYWRIaXN0b3J5Lk5vdEZvdW5kLnB1c2gobmFtZSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXQ8VDogVHVyYm9Nb2R1bGU+KG5hbWU6IHN0cmluZyk6ID9UIHtcbiAgcmV0dXJuIHJlcXVpcmVNb2R1bGU8VD4obmFtZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbmZvcmNpbmc8VDogVHVyYm9Nb2R1bGU+KG5hbWU6IHN0cmluZyk6IFQge1xuICBjb25zdCBtb2R1bGUgPSByZXF1aXJlTW9kdWxlPFQ+KG5hbWUpO1xuICBsZXQgbWVzc2FnZSA9XG4gICAgYFR1cmJvTW9kdWxlUmVnaXN0cnkuZ2V0RW5mb3JjaW5nKC4uLik6ICcke25hbWV9JyBjb3VsZCBub3QgYmUgZm91bmQuIGAgK1xuICAgICdWZXJpZnkgdGhhdCBhIG1vZHVsZSBieSB0aGlzIG5hbWUgaXMgcmVnaXN0ZXJlZCBpbiB0aGUgbmF0aXZlIGJpbmFyeS4nO1xuXG4gIGlmIChzaG91bGRSZXBvcnREZWJ1Z0luZm8oKSkge1xuICAgIG1lc3NhZ2UgKz1cbiAgICAgICcgQnJpZGdlbGVzcyBtb2RlOiAnICsgKGlzQnJpZGdlbGVzcygpID8gJ3RydWUnIDogJ2ZhbHNlJykgKyAnLiAnO1xuICAgIG1lc3NhZ2UgKz1cbiAgICAgICdUdXJib01vZHVsZSBpbnRlcm9wOiAnICtcbiAgICAgIChpc1R1cmJvTW9kdWxlSW50ZXJvcEVuYWJsZWQoKSA/ICd0cnVlJyA6ICdmYWxzZScpICtcbiAgICAgICcuICc7XG4gICAgbWVzc2FnZSArPSAnTW9kdWxlcyBsb2FkZWQ6ICcgKyBKU09OLnN0cmluZ2lmeShtb2R1bGVMb2FkSGlzdG9yeSk7XG4gIH1cblxuICBpbnZhcmlhbnQobW9kdWxlICE9IG51bGwsIG1lc3NhZ2UpO1xuICByZXR1cm4gbW9kdWxlO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFZQSxJQUFBQSxVQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFNQyxhQUFhLEdBQUdELE9BQU8sQ0FBQyxnQ0FBZ0MsQ0FBQztBQUUvRCxJQUFNRSxnQkFBZ0IsR0FBR0MsTUFBTSxDQUFDQyxrQkFBa0I7QUFFbEQsSUFBTUMsaUJBQWlCLEdBQUc7RUFDeEJKLGFBQWEsRUFBRyxFQUFrQjtFQUNsQ0ssWUFBWSxFQUFHLEVBQWtCO0VBQ2pDQyxRQUFRLEVBQUc7QUFDYixDQUFDO0FBRUQsU0FBU0MsWUFBWUEsQ0FBQSxFQUFHO0VBQ3RCLE9BQU9MLE1BQU0sQ0FBQ00sYUFBYSxLQUFLLElBQUk7QUFDdEM7QUFFQSxTQUFTQywyQkFBMkJBLENBQUEsRUFBRztFQUNyQyxPQUFPUCxNQUFNLENBQUNRLGVBQWUsS0FBSyxJQUFJO0FBQ3hDO0FBR0EsU0FBU0MscUJBQXFCQSxDQUFBLEVBQUc7RUFDL0IsT0FBTyxJQUFJO0FBQ2I7QUFJQSxTQUFTQyxhQUFhQSxDQUFpQkMsSUFBWSxFQUFNO0VBQ3ZELElBQUksQ0FBQ04sWUFBWSxDQUFDLENBQUMsSUFBSUUsMkJBQTJCLENBQUMsQ0FBQyxFQUFFO0lBRXBELElBQU1LLFlBQVksR0FBR2QsYUFBYSxDQUFDYSxJQUFJLENBQUM7SUFDeEMsSUFBSUMsWUFBWSxJQUFJLElBQUksRUFBRTtNQUN4QixJQUFJSCxxQkFBcUIsQ0FBQyxDQUFDLEVBQUU7UUFDM0JQLGlCQUFpQixDQUFDSixhQUFhLENBQUNlLElBQUksQ0FBQ0YsSUFBSSxDQUFDO01BQzVDO01BQ0EsT0FBU0MsWUFBWTtJQUN2QjtFQUNGO0VBRUEsSUFBSWIsZ0JBQWdCLElBQUksSUFBSSxFQUFFO0lBQzVCLElBQU1lLE1BQVUsR0FBR2YsZ0JBQWdCLENBQUNZLElBQUksQ0FBQztJQUN6QyxJQUFJRyxNQUFNLElBQUksSUFBSSxFQUFFO01BQ2xCLElBQUlMLHFCQUFxQixDQUFDLENBQUMsRUFBRTtRQUMzQlAsaUJBQWlCLENBQUNDLFlBQVksQ0FBQ1UsSUFBSSxDQUFDRixJQUFJLENBQUM7TUFDM0M7TUFDQSxPQUFPRyxNQUFNO0lBQ2Y7RUFDRjtFQUVBLElBQUlMLHFCQUFxQixDQUFDLENBQUMsSUFBSSxDQUFDUCxpQkFBaUIsQ0FBQ0UsUUFBUSxDQUFDVyxRQUFRLENBQUNKLElBQUksQ0FBQyxFQUFFO0lBQ3pFVCxpQkFBaUIsQ0FBQ0UsUUFBUSxDQUFDUyxJQUFJLENBQUNGLElBQUksQ0FBQztFQUN2QztFQUNBLE9BQU8sSUFBSTtBQUNiO0FBRU8sU0FBU0ssR0FBR0EsQ0FBaUJMLElBQVksRUFBTTtFQUNwRCxPQUFPRCxhQUFhLENBQUlDLElBQUksQ0FBQztBQUMvQjtBQUVPLFNBQVNNLFlBQVlBLENBQWlCTixJQUFZLEVBQUs7RUFDNUQsSUFBTUcsTUFBTSxHQUFHSixhQUFhLENBQUlDLElBQUksQ0FBQztFQUNyQyxJQUFJTyxPQUFPLEdBQ1QsMkNBQTJDUCxJQUFJLHdCQUF3QixHQUN2RSx1RUFBdUU7RUFFekUsSUFBSUYscUJBQXFCLENBQUMsQ0FBQyxFQUFFO0lBQzNCUyxPQUFPLElBQ0wsb0JBQW9CLElBQUliLFlBQVksQ0FBQyxDQUFDLEdBQUcsTUFBTSxHQUFHLE9BQU8sQ0FBQyxHQUFHLElBQUk7SUFDbkVhLE9BQU8sSUFDTCx1QkFBdUIsSUFDdEJYLDJCQUEyQixDQUFDLENBQUMsR0FBRyxNQUFNLEdBQUcsT0FBTyxDQUFDLEdBQ2xELElBQUk7SUFDTlcsT0FBTyxJQUFJLGtCQUFrQixHQUFHQyxJQUFJLENBQUNDLFNBQVMsQ0FBQ2xCLGlCQUFpQixDQUFDO0VBQ25FO0VBRUEsSUFBQW1CLGtCQUFTLEVBQUNQLE1BQU0sSUFBSSxJQUFJLEVBQUVJLE9BQU8sQ0FBQztFQUNsQyxPQUFPSixNQUFNO0FBQ2YiLCJpZ25vcmVMaXN0IjpbXX0=