{"version":3,"names":["_getJestObj","mock","useNavigation","navigate","jest","fn","show","_interopRequireDefault","require","_asyncToGenerator2","_react","_reactNative","_Depot","_axios","_jsxRuntime","_require","describe","it","_render","render","jsx","default","getByPlaceholderText","getByText","expect","toBeTruthy","_render2","montantInput","passwordInput","fireEvent","changeText","props","value","toBe","mockResponse","status","data","message","axios","post","mockResolvedValueOnce","_render3","press","waitFor","Toast","toHaveBeenCalledWith","objectContaining","type"],"sources":["Register.test.js"],"sourcesContent":["import React from \"react\";\r\nimport { render, fireEvent, waitFor } from \"@testing-library/react-native\";\r\nimport Depot from \"../screens/depot/Depot\"; // ton composant Dépôt\r\n\r\n// Mock navigation\r\njest.mock(\"@react-navigation/native\", () => ({\r\n  useNavigation: () => ({ navigate: jest.fn() }),\r\n}));\r\n\r\n// Mock Toast\r\njest.mock(\"react-native-toast-message\", () => ({\r\n  show: jest.fn(),\r\n}));\r\n\r\n// Mock axios\r\nimport axios from \"axios\";\r\njest.mock(\"axios\");\r\n\r\ndescribe(\"Depot Component\", () => {\r\n  it(\"rend correctement les champs et le bouton\", () => {\r\n    const { getByPlaceholderText, getByText } = render(<Depot />);\r\n\r\n    expect(getByPlaceholderText(\"Montant transaction\")).toBeTruthy();\r\n    expect(getByPlaceholderText(\"Entrer votre mot de passe\")).toBeTruthy();\r\n    expect(getByText(\"Valider dépôt\")).toBeTruthy();\r\n  });\r\n\r\n  it(\"permet de saisir le montant et le mot de passe\", () => {\r\n    const { getByPlaceholderText } = render(<Depot />);\r\n    const montantInput = getByPlaceholderText(\"Montant transaction\");\r\n    const passwordInput = getByPlaceholderText(\"Entrer votre mot de passe\");\r\n\r\n    fireEvent.changeText(montantInput, \"5000\");\r\n    fireEvent.changeText(passwordInput, \"123456\");\r\n\r\n    expect(montantInput.props.value).toBe(\"5000\");\r\n    expect(passwordInput.props.value).toBe(\"123456\");\r\n  });\r\n\r\n  it(\"appelle l'API et affiche un toast en cas de succès\", async () => {\r\n    const mockResponse = { status: 200, data: { message: \"Dépôt réussi\" } };\r\n    axios.post.mockResolvedValueOnce(mockResponse);\r\n\r\n    const { getByText, getByPlaceholderText } = render(<Depot />);\r\n    const montantInput = getByPlaceholderText(\"Montant transaction\");\r\n    const passwordInput = getByPlaceholderText(\"Entrer votre mot de passe\");\r\n\r\n    fireEvent.changeText(montantInput, \"5000\");\r\n    fireEvent.changeText(passwordInput, \"123456\");\r\n\r\n    fireEvent.press(getByText(\"Valider dépôt\"));\r\n\r\n    await waitFor(() => {\r\n      const Toast = require(\"react-native-toast-message\");\r\n      expect(Toast.show).toHaveBeenCalledWith(\r\n        expect.objectContaining({ type: \"success\" })\r\n      );\r\n    });\r\n  });\r\n});\r\n"],"mappings":"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","ignoreList":[]}