a32c0b6a0f587da5aed20493f37d9aee
_getJestObj().mock("@react-navigation/native", function () {
  return {
    useNavigation: function useNavigation() {
      return {
        navigate: jest.fn()
      };
    }
  };
});
_getJestObj().mock("react-native-toast-message", function () {
  return {
    show: jest.fn()
  };
});
_getJestObj().mock("axios");
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _Depot = _interopRequireDefault(require("../screens/depot/Depot"));
var _axios = _interopRequireDefault(require("axios"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe("Depot Component", function () {
  it("rend correctement les champs et le bouton", function () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Depot.default, {})),
      getByPlaceholderText = _render.getByPlaceholderText,
      getByText = _render.getByText;
    expect(getByPlaceholderText("Montant transaction")).toBeTruthy();
    expect(getByPlaceholderText("Entrer votre mot de passe")).toBeTruthy();
    expect(getByText("Valider dépôt")).toBeTruthy();
  });
  it("permet de saisir le montant et le mot de passe", function () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Depot.default, {})),
      getByPlaceholderText = _render2.getByPlaceholderText;
    var montantInput = getByPlaceholderText("Montant transaction");
    var passwordInput = getByPlaceholderText("Entrer votre mot de passe");
    _reactNative.fireEvent.changeText(montantInput, "5000");
    _reactNative.fireEvent.changeText(passwordInput, "123456");
    expect(montantInput.props.value).toBe("5000");
    expect(passwordInput.props.value).toBe("123456");
  });
  it("appelle l'API et affiche un toast en cas de succès", (0, _asyncToGenerator2.default)(function* () {
    var mockResponse = {
      status: 200,
      data: {
        message: "Dépôt réussi"
      }
    };
    _axios.default.post.mockResolvedValueOnce(mockResponse);
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Depot.default, {})),
      getByText = _render3.getByText,
      getByPlaceholderText = _render3.getByPlaceholderText;
    var montantInput = getByPlaceholderText("Montant transaction");
    var passwordInput = getByPlaceholderText("Entrer votre mot de passe");
    _reactNative.fireEvent.changeText(montantInput, "5000");
    _reactNative.fireEvent.changeText(passwordInput, "123456");
    _reactNative.fireEvent.press(getByText("Valider dépôt"));
    yield (0, _reactNative.waitFor)(function () {
      var Toast = require("react-native-toast-message");
      expect(Toast.show).toHaveBeenCalledWith(expect.objectContaining({
        type: "success"
      }));
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VOYXZpZ2F0aW9uIiwibmF2aWdhdGUiLCJqZXN0IiwiZm4iLCJzaG93IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfRGVwb3QiLCJfYXhpb3MiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwiZGVzY3JpYmUiLCJpdCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJqc3giLCJkZWZhdWx0IiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiLCJnZXRCeVRleHQiLCJleHBlY3QiLCJ0b0JlVHJ1dGh5IiwiX3JlbmRlcjIiLCJtb250YW50SW5wdXQiLCJwYXNzd29yZElucHV0IiwiZmlyZUV2ZW50IiwiY2hhbmdlVGV4dCIsInByb3BzIiwidmFsdWUiLCJ0b0JlIiwibW9ja1Jlc3BvbnNlIiwic3RhdHVzIiwiZGF0YSIsIm1lc3NhZ2UiLCJheGlvcyIsInBvc3QiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJfcmVuZGVyMyIsInByZXNzIiwid2FpdEZvciIsIlRvYXN0IiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJvYmplY3RDb250YWluaW5nIiwidHlwZSJdLCJzb3VyY2VzIjpbIlJlZ2lzdGVyLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyByZW5kZXIsIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gXCJAdGVzdGluZy1saWJyYXJ5L3JlYWN0LW5hdGl2ZVwiO1xyXG5pbXBvcnQgRGVwb3QgZnJvbSBcIi4uL3NjcmVlbnMvZGVwb3QvRGVwb3RcIjsgLy8gdG9uIGNvbXBvc2FudCBEw6lww7R0XHJcblxyXG4vLyBNb2NrIG5hdmlnYXRpb25cclxuamVzdC5tb2NrKFwiQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlXCIsICgpID0+ICh7XHJcbiAgdXNlTmF2aWdhdGlvbjogKCkgPT4gKHsgbmF2aWdhdGU6IGplc3QuZm4oKSB9KSxcclxufSkpO1xyXG5cclxuLy8gTW9jayBUb2FzdFxyXG5qZXN0Lm1vY2soXCJyZWFjdC1uYXRpdmUtdG9hc3QtbWVzc2FnZVwiLCAoKSA9PiAoe1xyXG4gIHNob3c6IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuLy8gTW9jayBheGlvc1xyXG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XHJcbmplc3QubW9jayhcImF4aW9zXCIpO1xyXG5cclxuZGVzY3JpYmUoXCJEZXBvdCBDb21wb25lbnRcIiwgKCkgPT4ge1xyXG4gIGl0KFwicmVuZCBjb3JyZWN0ZW1lbnQgbGVzIGNoYW1wcyBldCBsZSBib3V0b25cIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVBsYWNlaG9sZGVyVGV4dCwgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPERlcG90IC8+KTtcclxuXHJcbiAgICBleHBlY3QoZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJNb250YW50IHRyYW5zYWN0aW9uXCIpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBleHBlY3QoZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJFbnRyZXIgdm90cmUgbW90IGRlIHBhc3NlXCIpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICBleHBlY3QoZ2V0QnlUZXh0KFwiVmFsaWRlciBkw6lww7R0XCIpKS50b0JlVHJ1dGh5KCk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KFwicGVybWV0IGRlIHNhaXNpciBsZSBtb250YW50IGV0IGxlIG1vdCBkZSBwYXNzZVwiLCAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGdldEJ5UGxhY2Vob2xkZXJUZXh0IH0gPSByZW5kZXIoPERlcG90IC8+KTtcclxuICAgIGNvbnN0IG1vbnRhbnRJbnB1dCA9IGdldEJ5UGxhY2Vob2xkZXJUZXh0KFwiTW9udGFudCB0cmFuc2FjdGlvblwiKTtcclxuICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSBnZXRCeVBsYWNlaG9sZGVyVGV4dChcIkVudHJlciB2b3RyZSBtb3QgZGUgcGFzc2VcIik7XHJcblxyXG4gICAgZmlyZUV2ZW50LmNoYW5nZVRleHQobW9udGFudElucHV0LCBcIjUwMDBcIik7XHJcbiAgICBmaXJlRXZlbnQuY2hhbmdlVGV4dChwYXNzd29yZElucHV0LCBcIjEyMzQ1NlwiKTtcclxuXHJcbiAgICBleHBlY3QobW9udGFudElucHV0LnByb3BzLnZhbHVlKS50b0JlKFwiNTAwMFwiKTtcclxuICAgIGV4cGVjdChwYXNzd29yZElucHV0LnByb3BzLnZhbHVlKS50b0JlKFwiMTIzNDU2XCIpO1xyXG4gIH0pO1xyXG5cclxuICBpdChcImFwcGVsbGUgbCdBUEkgZXQgYWZmaWNoZSB1biB0b2FzdCBlbiBjYXMgZGUgc3VjY8Ooc1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBtb2NrUmVzcG9uc2UgPSB7IHN0YXR1czogMjAwLCBkYXRhOiB7IG1lc3NhZ2U6IFwiRMOpcMO0dCByw6l1c3NpXCIgfSB9O1xyXG4gICAgYXhpb3MucG9zdC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UobW9ja1Jlc3BvbnNlKTtcclxuXHJcbiAgICBjb25zdCB7IGdldEJ5VGV4dCwgZ2V0QnlQbGFjZWhvbGRlclRleHQgfSA9IHJlbmRlcig8RGVwb3QgLz4pO1xyXG4gICAgY29uc3QgbW9udGFudElucHV0ID0gZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJNb250YW50IHRyYW5zYWN0aW9uXCIpO1xyXG4gICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGdldEJ5UGxhY2Vob2xkZXJUZXh0KFwiRW50cmVyIHZvdHJlIG1vdCBkZSBwYXNzZVwiKTtcclxuXHJcbiAgICBmaXJlRXZlbnQuY2hhbmdlVGV4dChtb250YW50SW5wdXQsIFwiNTAwMFwiKTtcclxuICAgIGZpcmVFdmVudC5jaGFuZ2VUZXh0KHBhc3N3b3JkSW5wdXQsIFwiMTIzNDU2XCIpO1xyXG5cclxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoXCJWYWxpZGVyIGTDqXDDtHRcIikpO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBjb25zdCBUb2FzdCA9IHJlcXVpcmUoXCJyZWFjdC1uYXRpdmUtdG9hc3QtbWVzc2FnZVwiKTtcclxuICAgICAgZXhwZWN0KFRvYXN0LnNob3cpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHsgdHlwZTogXCJzdWNjZXNzXCIgfSlcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiQUFLQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsMEJBQTBCLEVBQUU7RUFBQSxPQUFPO0lBQzNDQyxhQUFhLEVBQUUsU0FBZkEsYUFBYUEsQ0FBQTtNQUFBLE9BQVM7UUFBRUMsUUFBUSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztNQUFFLENBQUM7SUFBQTtFQUMvQyxDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBR0hMLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDRCQUE0QixFQUFFO0VBQUEsT0FBTztJQUM3Q0ssSUFBSSxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUNoQixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBSUhMLFdBQUEsR0FBS0MsSUFBSSxDQUFDLE9BQU8sQ0FBQztBQUFDLElBQUFNLHNCQUFBLEdBQUFDLE9BQUE7QUFBQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBaEJuQixJQUFBRSxNQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxZQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxNQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFhQSxJQUFBSyxNQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFBMEIsSUFBQU0sV0FBQSxHQUFBTixPQUFBO0FBQUEsU0FBQVIsWUFBQTtFQUFBLElBQUFlLFFBQUEsR0FBQVAsT0FBQTtJQUFBSixJQUFBLEdBQUFXLFFBQUEsQ0FBQVgsSUFBQTtF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