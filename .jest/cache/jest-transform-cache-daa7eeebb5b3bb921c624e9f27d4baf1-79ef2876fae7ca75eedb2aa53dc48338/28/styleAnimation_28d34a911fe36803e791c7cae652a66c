881e422758006e03707cdcc4ca8a7b73
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.withStyleAnimation = withStyleAnimation;
var _util = require("./util");
var _timing = require("./timing");
var _Colors = require("../Colors");
function resolvePath(obj, path) {
  'worklet';

  var keys = Array.isArray(path) ? path : [path];
  return keys.reduce(function (acc, current) {
    if (Array.isArray(acc) && typeof current === 'number') {
      return acc[current];
    } else if (acc !== null && typeof acc === 'object' && current in acc) {
      return acc[current];
    }
    return undefined;
  }, obj);
}
function setPath(obj, path, value) {
  'worklet';

  var keys = Array.isArray(path) ? path : [path];
  var currObj = obj;
  for (var i = 0; i < keys.length - 1; i++) {
    currObj = currObj;
    if (!(keys[i] in currObj)) {
      if (typeof keys[i + 1] === 'number') {
        currObj[keys[i]] = [];
      } else {
        currObj[keys[i]] = {};
      }
    }
    currObj = currObj[keys[i]];
  }
  currObj[keys[keys.length - 1]] = value;
}
function withStyleAnimation(styleAnimations) {
  'worklet';

  return (0, _util.defineAnimation)({}, function () {
    'worklet';

    var onFrame = function onFrame(animation, now) {
      var stillGoing = false;
      var entriesToCheck = [{
        value: animation.styleAnimations,
        path: []
      }];
      while (entriesToCheck.length > 0) {
        var currentEntry = entriesToCheck.pop();
        if (Array.isArray(currentEntry.value)) {
          for (var index = 0; index < currentEntry.value.length; index++) {
            entriesToCheck.push({
              value: currentEntry.value[index],
              path: currentEntry.path.concat(index)
            });
          }
        } else if (typeof currentEntry.value === 'object' && currentEntry.value.onFrame === undefined) {
          for (var key of Object.keys(currentEntry.value)) {
            entriesToCheck.push({
              value: currentEntry.value[key],
              path: currentEntry.path.concat(key)
            });
          }
        } else {
          var currentStyleAnimation = currentEntry.value;
          if (currentStyleAnimation.finished) {
            continue;
          }
          var finished = currentStyleAnimation.onFrame(currentStyleAnimation, now);
          if (finished) {
            currentStyleAnimation.finished = true;
            if (currentStyleAnimation.callback) {
              currentStyleAnimation.callback(true);
            }
          } else {
            stillGoing = true;
          }
          var isAnimatingColorProp = _Colors.ColorProperties.includes(currentEntry.path[0]);
          setPath(animation.current, currentEntry.path, isAnimatingColorProp ? (0, _Colors.processColor)(currentStyleAnimation.current) : currentStyleAnimation.current);
        }
      }
      return !stillGoing;
    };
    var onStart = function onStart(animation, value, now, previousAnimation) {
      var entriesToCheck = [{
        value: styleAnimations,
        path: []
      }];
      while (entriesToCheck.length > 0) {
        var currentEntry = entriesToCheck.pop();
        if (Array.isArray(currentEntry.value)) {
          for (var index = 0; index < currentEntry.value.length; index++) {
            entriesToCheck.push({
              value: currentEntry.value[index],
              path: currentEntry.path.concat(index)
            });
          }
        } else if (typeof currentEntry.value === 'object' && currentEntry.value.onStart === undefined) {
          for (var key of Object.keys(currentEntry.value)) {
            entriesToCheck.push({
              value: currentEntry.value[key],
              path: currentEntry.path.concat(key)
            });
          }
        } else {
          var prevAnimation = resolvePath(previousAnimation === null || previousAnimation === void 0 ? void 0 : previousAnimation.styleAnimations, currentEntry.path);
          var prevVal = resolvePath(value, currentEntry.path);
          if (prevAnimation && !prevVal) {
            prevVal = prevAnimation.current;
          }
          if (prevVal === undefined) {
            console.warn(`Initial values for animation are missing for property ${currentEntry.path.join('.')}`);
          }
          setPath(animation.current, currentEntry.path, prevVal);
          var currentAnimation = void 0;
          if (typeof currentEntry.value !== 'object' || !currentEntry.value.onStart) {
            currentAnimation = (0, _timing.withTiming)(currentEntry.value, {
              duration: 0
            });
            setPath(animation.styleAnimations, currentEntry.path, currentAnimation);
          } else {
            currentAnimation = currentEntry.value;
          }
          currentAnimation.onStart(currentAnimation, prevVal, now, prevAnimation);
        }
      }
    };
    var callback = function callback(finished) {
      if (!finished) {
        var animationsToCheck = [styleAnimations];
        while (animationsToCheck.length > 0) {
          var currentAnimation = animationsToCheck.pop();
          if (Array.isArray(currentAnimation)) {
            for (var element of currentAnimation) {
              animationsToCheck.push(element);
            }
          } else if (typeof currentAnimation === 'object' && currentAnimation.onStart === undefined) {
            for (var value of Object.values(currentAnimation)) {
              animationsToCheck.push(value);
            }
          } else {
            var currentStyleAnimation = currentAnimation;
            if (!currentStyleAnimation.finished && currentStyleAnimation.callback) {
              currentStyleAnimation.callback(false);
            }
          }
        }
      }
    };
    return {
      isHigherOrder: true,
      onFrame: onFrame,
      onStart: onStart,
      current: {},
      styleAnimations: styleAnimations,
      callback: callback
    };
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIndpdGhTdHlsZUFuaW1hdGlvbiIsIl91dGlsIiwicmVxdWlyZSIsIl90aW1pbmciLCJfQ29sb3JzIiwicmVzb2x2ZVBhdGgiLCJvYmoiLCJwYXRoIiwia2V5cyIsIkFycmF5IiwiaXNBcnJheSIsInJlZHVjZSIsImFjYyIsImN1cnJlbnQiLCJ1bmRlZmluZWQiLCJzZXRQYXRoIiwiY3Vyck9iaiIsImkiLCJsZW5ndGgiLCJzdHlsZUFuaW1hdGlvbnMiLCJkZWZpbmVBbmltYXRpb24iLCJvbkZyYW1lIiwiYW5pbWF0aW9uIiwibm93Iiwic3RpbGxHb2luZyIsImVudHJpZXNUb0NoZWNrIiwiY3VycmVudEVudHJ5IiwicG9wIiwiaW5kZXgiLCJwdXNoIiwiY29uY2F0Iiwia2V5IiwiY3VycmVudFN0eWxlQW5pbWF0aW9uIiwiZmluaXNoZWQiLCJjYWxsYmFjayIsImlzQW5pbWF0aW5nQ29sb3JQcm9wIiwiQ29sb3JQcm9wZXJ0aWVzIiwiaW5jbHVkZXMiLCJwcm9jZXNzQ29sb3IiLCJvblN0YXJ0IiwicHJldmlvdXNBbmltYXRpb24iLCJwcmV2QW5pbWF0aW9uIiwicHJldlZhbCIsImNvbnNvbGUiLCJ3YXJuIiwiam9pbiIsImN1cnJlbnRBbmltYXRpb24iLCJ3aXRoVGltaW5nIiwiZHVyYXRpb24iLCJhbmltYXRpb25zVG9DaGVjayIsImVsZW1lbnQiLCJ2YWx1ZXMiLCJpc0hpZ2hlck9yZGVyIl0sInNvdXJjZXMiOlsic3R5bGVBbmltYXRpb24udHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgZGVmaW5lQW5pbWF0aW9uIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB0eXBlIHtcbiAgVGltZXN0YW1wLFxuICBBbmltYXRhYmxlVmFsdWUsXG4gIEFuaW1hdGlvbk9iamVjdCxcbiAgQW5pbWF0aW9uLFxuICBOZXN0ZWRPYmplY3QsXG4gIE5lc3RlZE9iamVjdFZhbHVlcyxcbiAgQW5pbWF0ZWRTdHlsZSxcbn0gZnJvbSAnLi4vY29tbW9uVHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBTdHlsZUxheW91dEFuaW1hdGlvbiB9IGZyb20gJy4vY29tbW9uVHlwZXMnO1xuaW1wb3J0IHsgd2l0aFRpbWluZyB9IGZyb20gJy4vdGltaW5nJztcbmltcG9ydCB7IENvbG9yUHJvcGVydGllcywgcHJvY2Vzc0NvbG9yIH0gZnJvbSAnLi4vQ29sb3JzJztcblxuLy8gcmVzb2x2ZXMgcGF0aCB0byB2YWx1ZSBmb3IgbmVzdGVkIG9iamVjdHNcbi8vIGlmIHBhdGggY2Fubm90IGJlIHJlc29sdmVkIHJldHVybnMgdW5kZWZpbmVkXG5mdW5jdGlvbiByZXNvbHZlUGF0aDxUPihcbiAgb2JqOiBOZXN0ZWRPYmplY3Q8VD4sXG4gIHBhdGg6IEFuaW1hdGFibGVWYWx1ZVtdIHwgQW5pbWF0YWJsZVZhbHVlXG4pOiBOZXN0ZWRPYmplY3RWYWx1ZXM8VD4gfCB1bmRlZmluZWQge1xuICAnd29ya2xldCc7XG4gIGNvbnN0IGtleXM6IEFuaW1hdGFibGVWYWx1ZVtdID0gQXJyYXkuaXNBcnJheShwYXRoKSA/IHBhdGggOiBbcGF0aF07XG4gIHJldHVybiBrZXlzLnJlZHVjZTxOZXN0ZWRPYmplY3RWYWx1ZXM8VD4gfCB1bmRlZmluZWQ+KChhY2MsIGN1cnJlbnQpID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhY2MpICYmIHR5cGVvZiBjdXJyZW50ID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIGFjY1tjdXJyZW50XTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgYWNjICE9PSBudWxsICYmXG4gICAgICB0eXBlb2YgYWNjID09PSAnb2JqZWN0JyAmJlxuICAgICAgKGN1cnJlbnQgYXMgbnVtYmVyIHwgc3RyaW5nKSBpbiBhY2NcbiAgICApIHtcbiAgICAgIHJldHVybiAoYWNjIGFzIHsgW2tleTogc3RyaW5nXTogTmVzdGVkT2JqZWN0VmFsdWVzPFQ+IH0pW1xuICAgICAgICBjdXJyZW50IGFzIG51bWJlciB8IHN0cmluZ1xuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSwgb2JqKTtcbn1cblxuLy8gc2V0IHZhbHVlIGF0IGdpdmVuIHBhdGhcbnR5cGUgUGF0aCA9IEFycmF5PHN0cmluZyB8IG51bWJlcj4gfCBzdHJpbmcgfCBudW1iZXI7XG5mdW5jdGlvbiBzZXRQYXRoPFQ+KFxuICBvYmo6IE5lc3RlZE9iamVjdDxUPixcbiAgcGF0aDogUGF0aCxcbiAgdmFsdWU6IE5lc3RlZE9iamVjdFZhbHVlczxUPlxuKTogdm9pZCB7XG4gICd3b3JrbGV0JztcbiAgY29uc3Qga2V5czogUGF0aCA9IEFycmF5LmlzQXJyYXkocGF0aCkgPyBwYXRoIDogW3BhdGhdO1xuICBsZXQgY3Vyck9iajogTmVzdGVkT2JqZWN0VmFsdWVzPFQ+ID0gb2JqO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgLy8gY3JlYXRlcyBlbnRyeSBpZiB0aGVyZSBpc24ndCBvbmVcbiAgICBjdXJyT2JqID0gY3Vyck9iaiBhcyB7IFtrZXk6IHN0cmluZ106IE5lc3RlZE9iamVjdFZhbHVlczxUPiB9O1xuICAgIGlmICghKGtleXNbaV0gaW4gY3Vyck9iaikpIHtcbiAgICAgIC8vIGlmIG5leHQga2V5IGlzIGEgbnVtYmVyIGNyZWF0ZSBhbiBhcnJheVxuICAgICAgaWYgKHR5cGVvZiBrZXlzW2kgKyAxXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY3Vyck9ialtrZXlzW2ldXSA9IFtdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3Vyck9ialtrZXlzW2ldXSA9IHt9O1xuICAgICAgfVxuICAgIH1cbiAgICBjdXJyT2JqID0gY3Vyck9ialtrZXlzW2ldXTtcbiAgfVxuXG4gIChjdXJyT2JqIGFzIHsgW2tleTogc3RyaW5nXTogTmVzdGVkT2JqZWN0VmFsdWVzPFQ+IH0pW2tleXNba2V5cy5sZW5ndGggLSAxXV0gPVxuICAgIHZhbHVlO1xufVxuXG5pbnRlcmZhY2UgTmVzdGVkT2JqZWN0RW50cnk8VD4ge1xuICB2YWx1ZTogTmVzdGVkT2JqZWN0VmFsdWVzPFQ+O1xuICBwYXRoOiAoc3RyaW5nIHwgbnVtYmVyKVtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2l0aFN0eWxlQW5pbWF0aW9uKFxuICBzdHlsZUFuaW1hdGlvbnM6IEFuaW1hdGVkU3R5bGU8YW55PlxuKTogU3R5bGVMYXlvdXRBbmltYXRpb24ge1xuICAnd29ya2xldCc7XG4gIHJldHVybiBkZWZpbmVBbmltYXRpb248U3R5bGVMYXlvdXRBbmltYXRpb24+KHt9LCAoKSA9PiB7XG4gICAgJ3dvcmtsZXQnO1xuXG4gICAgY29uc3Qgb25GcmFtZSA9IChcbiAgICAgIGFuaW1hdGlvbjogU3R5bGVMYXlvdXRBbmltYXRpb24sXG4gICAgICBub3c6IFRpbWVzdGFtcFxuICAgICk6IGJvb2xlYW4gPT4ge1xuICAgICAgbGV0IHN0aWxsR29pbmcgPSBmYWxzZTtcbiAgICAgIGNvbnN0IGVudHJpZXNUb0NoZWNrOiBOZXN0ZWRPYmplY3RFbnRyeTxBbmltYXRpb25PYmplY3Q+W10gPSBbXG4gICAgICAgIHsgdmFsdWU6IGFuaW1hdGlvbi5zdHlsZUFuaW1hdGlvbnMsIHBhdGg6IFtdIH0sXG4gICAgICBdO1xuICAgICAgd2hpbGUgKGVudHJpZXNUb0NoZWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgY3VycmVudEVudHJ5OiBOZXN0ZWRPYmplY3RFbnRyeTxBbmltYXRpb25PYmplY3Q+ID1cbiAgICAgICAgICBlbnRyaWVzVG9DaGVjay5wb3AoKSBhcyBOZXN0ZWRPYmplY3RFbnRyeTxBbmltYXRpb25PYmplY3Q+O1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50RW50cnkudmFsdWUpKSB7XG4gICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGN1cnJlbnRFbnRyeS52YWx1ZS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGVudHJpZXNUb0NoZWNrLnB1c2goe1xuICAgICAgICAgICAgICB2YWx1ZTogY3VycmVudEVudHJ5LnZhbHVlW2luZGV4XSxcbiAgICAgICAgICAgICAgcGF0aDogY3VycmVudEVudHJ5LnBhdGguY29uY2F0KGluZGV4KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICB0eXBlb2YgY3VycmVudEVudHJ5LnZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgIGN1cnJlbnRFbnRyeS52YWx1ZS5vbkZyYW1lID09PSB1bmRlZmluZWRcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gbmVzdGVkIG9iamVjdFxuICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGN1cnJlbnRFbnRyeS52YWx1ZSkpIHtcbiAgICAgICAgICAgIGVudHJpZXNUb0NoZWNrLnB1c2goe1xuICAgICAgICAgICAgICB2YWx1ZTogY3VycmVudEVudHJ5LnZhbHVlW2tleV0sXG4gICAgICAgICAgICAgIHBhdGg6IGN1cnJlbnRFbnRyeS5wYXRoLmNvbmNhdChrZXkpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdHlsZUFuaW1hdGlvbjogQW5pbWF0aW9uT2JqZWN0ID1cbiAgICAgICAgICAgIGN1cnJlbnRFbnRyeS52YWx1ZSBhcyBBbmltYXRpb25PYmplY3Q7XG4gICAgICAgICAgaWYgKGN1cnJlbnRTdHlsZUFuaW1hdGlvbi5maW5pc2hlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGZpbmlzaGVkID0gY3VycmVudFN0eWxlQW5pbWF0aW9uLm9uRnJhbWUoXG4gICAgICAgICAgICBjdXJyZW50U3R5bGVBbmltYXRpb24sXG4gICAgICAgICAgICBub3dcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICAgICAgY3VycmVudFN0eWxlQW5pbWF0aW9uLmZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U3R5bGVBbmltYXRpb24uY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgY3VycmVudFN0eWxlQW5pbWF0aW9uLmNhbGxiYWNrKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGlsbEdvaW5nID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBXaGVuIHdvcmtpbmcgd2l0aCBhbmltYXRpb25zIGNoYW5naW5nIGNvbG9ycywgd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhhdCBlYWNoIG9uZSBvZiB0aGVtIGJlZ2lucyB3aXRoIGEgcmdiYSwgbm90IGEgcHJvY2Vzc2VkIG51bWJlci5cbiAgICAgICAgICAvLyBUaHVzLCB3ZSBvbmx5IHNldCB0aGUgcGF0aCB0byBhIHByb2Nlc3NlZCBjb2xvciwgYnV0IGN1cnJlbnRTdHlsZUFuaW1hdGlvbi5jdXJyZW50IHN0YXlzIGFzIHJnYmEuXG4gICAgICAgICAgY29uc3QgaXNBbmltYXRpbmdDb2xvclByb3AgPSBDb2xvclByb3BlcnRpZXMuaW5jbHVkZXMoXG4gICAgICAgICAgICBjdXJyZW50RW50cnkucGF0aFswXSBhcyBzdHJpbmdcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgc2V0UGF0aChcbiAgICAgICAgICAgIGFuaW1hdGlvbi5jdXJyZW50LFxuICAgICAgICAgICAgY3VycmVudEVudHJ5LnBhdGgsXG4gICAgICAgICAgICBpc0FuaW1hdGluZ0NvbG9yUHJvcFxuICAgICAgICAgICAgICA/IHByb2Nlc3NDb2xvcihjdXJyZW50U3R5bGVBbmltYXRpb24uY3VycmVudClcbiAgICAgICAgICAgICAgOiBjdXJyZW50U3R5bGVBbmltYXRpb24uY3VycmVudFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAhc3RpbGxHb2luZztcbiAgICB9O1xuXG4gICAgY29uc3Qgb25TdGFydCA9IChcbiAgICAgIGFuaW1hdGlvbjogU3R5bGVMYXlvdXRBbmltYXRpb24sXG4gICAgICB2YWx1ZTogQW5pbWF0ZWRTdHlsZTxhbnk+LFxuICAgICAgbm93OiBUaW1lc3RhbXAsXG4gICAgICBwcmV2aW91c0FuaW1hdGlvbjogU3R5bGVMYXlvdXRBbmltYXRpb25cbiAgICApOiB2b2lkID0+IHtcbiAgICAgIGNvbnN0IGVudHJpZXNUb0NoZWNrOiBOZXN0ZWRPYmplY3RFbnRyeTxcbiAgICAgICAgQW5pbWF0aW9uT2JqZWN0IHwgQW5pbWF0YWJsZVZhbHVlXG4gICAgICA+W10gPSBbeyB2YWx1ZTogc3R5bGVBbmltYXRpb25zLCBwYXRoOiBbXSB9XTtcbiAgICAgIHdoaWxlIChlbnRyaWVzVG9DaGVjay5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRFbnRyeTogTmVzdGVkT2JqZWN0RW50cnk8XG4gICAgICAgICAgQW5pbWF0aW9uT2JqZWN0IHwgQW5pbWF0YWJsZVZhbHVlXG4gICAgICAgID4gPSBlbnRyaWVzVG9DaGVjay5wb3AoKSBhcyBOZXN0ZWRPYmplY3RFbnRyeTxcbiAgICAgICAgICBBbmltYXRpb25PYmplY3QgfCBBbmltYXRhYmxlVmFsdWVcbiAgICAgICAgPjtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudEVudHJ5LnZhbHVlKSkge1xuICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBjdXJyZW50RW50cnkudmFsdWUubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBlbnRyaWVzVG9DaGVjay5wdXNoKHtcbiAgICAgICAgICAgICAgdmFsdWU6IGN1cnJlbnRFbnRyeS52YWx1ZVtpbmRleF0sXG4gICAgICAgICAgICAgIHBhdGg6IGN1cnJlbnRFbnRyeS5wYXRoLmNvbmNhdChpbmRleCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgdHlwZW9mIGN1cnJlbnRFbnRyeS52YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICBjdXJyZW50RW50cnkudmFsdWUub25TdGFydCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICkge1xuICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGN1cnJlbnRFbnRyeS52YWx1ZSkpIHtcbiAgICAgICAgICAgIGVudHJpZXNUb0NoZWNrLnB1c2goe1xuICAgICAgICAgICAgICB2YWx1ZTogY3VycmVudEVudHJ5LnZhbHVlW2tleV0sXG4gICAgICAgICAgICAgIHBhdGg6IGN1cnJlbnRFbnRyeS5wYXRoLmNvbmNhdChrZXkpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHByZXZBbmltYXRpb24gPSByZXNvbHZlUGF0aChcbiAgICAgICAgICAgIHByZXZpb3VzQW5pbWF0aW9uPy5zdHlsZUFuaW1hdGlvbnMsXG4gICAgICAgICAgICBjdXJyZW50RW50cnkucGF0aFxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IHByZXZWYWwgPSByZXNvbHZlUGF0aCh2YWx1ZSwgY3VycmVudEVudHJ5LnBhdGgpO1xuICAgICAgICAgIGlmIChwcmV2QW5pbWF0aW9uICYmICFwcmV2VmFsKSB7XG4gICAgICAgICAgICBwcmV2VmFsID0gKHByZXZBbmltYXRpb24gYXMgYW55KS5jdXJyZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJldlZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIGBJbml0aWFsIHZhbHVlcyBmb3IgYW5pbWF0aW9uIGFyZSBtaXNzaW5nIGZvciBwcm9wZXJ0eSAke2N1cnJlbnRFbnRyeS5wYXRoLmpvaW4oXG4gICAgICAgICAgICAgICAgJy4nXG4gICAgICAgICAgICAgICl9YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0UGF0aChhbmltYXRpb24uY3VycmVudCwgY3VycmVudEVudHJ5LnBhdGgsIHByZXZWYWwpO1xuICAgICAgICAgIGxldCBjdXJyZW50QW5pbWF0aW9uOiBBbmltYXRpb25PYmplY3Q7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdHlwZW9mIGN1cnJlbnRFbnRyeS52YWx1ZSAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgICAgICFjdXJyZW50RW50cnkudmFsdWUub25TdGFydFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY3VycmVudEFuaW1hdGlvbiA9IHdpdGhUaW1pbmcoXG4gICAgICAgICAgICAgIGN1cnJlbnRFbnRyeS52YWx1ZSBhcyBBbmltYXRhYmxlVmFsdWUsXG4gICAgICAgICAgICAgIHsgZHVyYXRpb246IDAgfVxuICAgICAgICAgICAgKSBhcyBBbmltYXRpb25PYmplY3Q7IC8vIFRPRE8gVFlQRVNDUklQVCB0aGlzIHRlbXBvcmFyeSBjYXN0IGlzIHRvIGdldCByaWQgb2YgLmQudHMgZmlsZS5cbiAgICAgICAgICAgIHNldFBhdGgoXG4gICAgICAgICAgICAgIGFuaW1hdGlvbi5zdHlsZUFuaW1hdGlvbnMsXG4gICAgICAgICAgICAgIGN1cnJlbnRFbnRyeS5wYXRoLFxuICAgICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uID0gY3VycmVudEVudHJ5LnZhbHVlIGFzIEFuaW1hdGlvbjxBbmltYXRpb25PYmplY3Q+O1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uLm9uU3RhcnQoXG4gICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uLFxuICAgICAgICAgICAgcHJldlZhbCxcbiAgICAgICAgICAgIG5vdyxcbiAgICAgICAgICAgIHByZXZBbmltYXRpb25cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNhbGxiYWNrID0gKGZpbmlzaGVkOiBib29sZWFuKTogdm9pZCA9PiB7XG4gICAgICBpZiAoIWZpbmlzaGVkKSB7XG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbnNUb0NoZWNrOiBOZXN0ZWRPYmplY3RWYWx1ZXM8QW5pbWF0aW9uT2JqZWN0PltdID0gW1xuICAgICAgICAgIHN0eWxlQW5pbWF0aW9ucyxcbiAgICAgICAgXTtcbiAgICAgICAgd2hpbGUgKGFuaW1hdGlvbnNUb0NoZWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50QW5pbWF0aW9uOiBOZXN0ZWRPYmplY3RWYWx1ZXM8QW5pbWF0aW9uT2JqZWN0PiA9XG4gICAgICAgICAgICBhbmltYXRpb25zVG9DaGVjay5wb3AoKSBhcyBOZXN0ZWRPYmplY3RWYWx1ZXM8QW5pbWF0aW9uT2JqZWN0PjtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50QW5pbWF0aW9uKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGN1cnJlbnRBbmltYXRpb24pIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uc1RvQ2hlY2sucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgdHlwZW9mIGN1cnJlbnRBbmltYXRpb24gPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBjdXJyZW50QW5pbWF0aW9uLm9uU3RhcnQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBPYmplY3QudmFsdWVzKGN1cnJlbnRBbmltYXRpb24pKSB7XG4gICAgICAgICAgICAgIGFuaW1hdGlvbnNUb0NoZWNrLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50U3R5bGVBbmltYXRpb246IEFuaW1hdGlvbk9iamVjdCA9XG4gICAgICAgICAgICAgIGN1cnJlbnRBbmltYXRpb24gYXMgQW5pbWF0aW9uT2JqZWN0O1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhY3VycmVudFN0eWxlQW5pbWF0aW9uLmZpbmlzaGVkICYmXG4gICAgICAgICAgICAgIGN1cnJlbnRTdHlsZUFuaW1hdGlvbi5jYWxsYmFja1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRTdHlsZUFuaW1hdGlvbi5jYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBpc0hpZ2hlck9yZGVyOiB0cnVlLFxuICAgICAgb25GcmFtZSxcbiAgICAgIG9uU3RhcnQsXG4gICAgICBjdXJyZW50OiB7fSxcbiAgICAgIHN0eWxlQW5pbWF0aW9ucyxcbiAgICAgIGNhbGxiYWNrLFxuICAgIH0gYXMgU3R5bGVMYXlvdXRBbmltYXRpb247XG4gIH0pO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUFBQSxNQUFBLENBQUFDLGNBQUEsQ0FBQUMsT0FBQTtFQUFBQyxLQUFBO0FBQUE7QUFBQUQsT0FBQSxDQUFBRSxrQkFBQSxHQUFBQSxrQkFBQTtBQUNaLElBQUFDLEtBQUEsR0FBQUMsT0FBQTtBQVdBLElBQUFDLE9BQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLE9BQUEsR0FBQUYsT0FBQTtBQUlBLFNBQVNHLFdBQVdBLENBQ2xCQyxHQUFvQixFQUNwQkMsSUFBeUMsRUFDTjtFQUNuQyxTQUFTOztFQUNULElBQU1DLElBQXVCLEdBQUdDLEtBQUssQ0FBQ0MsT0FBTyxDQUFDSCxJQUFJLENBQUMsR0FBR0EsSUFBSSxHQUFHLENBQUNBLElBQUksQ0FBQztFQUNuRSxPQUFPQyxJ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QixLQUFtQztVQUNyRTtVQUNBK0MsZ0JBQWdCLENBQUNQLE9BQU8sQ0FDdEJPLGdCQUFnQixFQUNoQkosT0FBTyxFQUNQbkIsR0FBRyxFQUNIa0IsYUFDRixDQUFDO1FBQ0g7TUFDRjtJQUNGLENBQUM7SUFFRCxJQUFNUCxRQUFRLEdBQUksU0FBWkEsUUFBUUEsQ0FBSUQsUUFBaUIsRUFBVztNQUM1QyxJQUFJLENBQUNBLFFBQVEsRUFBRTtRQUNiLElBQU1nQixpQkFBd0QsR0FBRyxDQUMvRDlCLGVBQWUsQ0FDaEI7UUFDRCxPQUFPOEIsaUJBQWlCLENBQUMvQixNQUFNLEdBQUcsQ0FBQyxFQUFFO1VBQ25DLElBQU00QixnQkFBcUQsR0FDekRHLGlCQUFpQixDQUFDdEIsR0FBRyxDQUFDLENBQXdDO1VBQ2hFLElBQUlsQixLQUFLLENBQUNDLE9BQU8sQ0FBQ29DLGdCQUFnQixDQUFDLEVBQUU7WUFDbkMsS0FBSyxJQUFNSSxPQUFPLElBQUlKLGdCQUFnQixFQUFFO2NBQ3RDRyxpQkFBaUIsQ0FBQ3BCLElBQUksQ0FBQ3FCLE9BQU8sQ0FBQztZQUNqQztVQUNGLENBQUMsTUFBTSxJQUNMLE9BQU9KLGdCQUFnQixLQUFLLFFBQVEsSUFDcENBLGdCQUFnQixDQUFDUCxPQUFPLEtBQUt6QixTQUFTLEVBQ3RDO1lBQ0EsS0FBSyxJQUFNZixLQUFLLElBQUlILE1BQU0sQ0FBQ3VELE1BQU0sQ0FBQ0wsZ0JBQWdCLENBQUMsRUFBRTtjQUNuREcsaUJBQWlCLENBQUNwQixJQUFJLENBQUM5QixLQUFLLENBQUM7WUFDL0I7VUFDRixDQUFDLE1BQU07WUFDTCxJQUFNaUMscUJBQXNDLEdBQzFDYyxnQkFBbUM7WUFDckMsSUFDRSxDQUFDZCxxQkFBcUIsQ0FBQ0MsUUFBUSxJQUMvQkQscUJBQXFCLENBQUNFLFFBQVEsRUFDOUI7Y0FDQUYscUJBQXFCLENBQUNFLFFBQVEsQ0FBQyxLQUFLLENBQUM7WUFDdkM7VUFDRjtRQUNGO01BQ0Y7SUFDRixDQUFDO0lBRUQsT0FBTztNQUNMa0IsYUFBYSxFQUFFLElBQUk7TUFDbkIvQixPQUFPLEVBQVBBLE9BQU87TUFDUGtCLE9BQU8sRUFBUEEsT0FBTztNQUNQMUIsT0FBTyxFQUFFLENBQUMsQ0FBQztNQUNYTSxlQUFlLEVBQWZBLGVBQWU7TUFDZmUsUUFBQSxFQUFBQTtJQUNGLENBQUM7RUFDSCxDQUFDLENBQUM7QUFDSiIsImlnbm9yZUxpc3QiOltdfQ==