01a060ac19f5c685b04e031a98b66fa4
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.finishScreenTransition = finishScreenTransition;
exports.startScreenTransition = startScreenTransition;
var _ConfigHelper = require("../ConfigHelper");
var _styleUpdater = require("./styleUpdater");
var _swipeSimulator = require("./swipeSimulator");
(0, _ConfigHelper.configureProps)();
function startScreenTransition(screenTransitionConfig) {
  'worklet';

  var stackTag = screenTransitionConfig.stackTag,
    sharedEvent = screenTransitionConfig.sharedEvent;
  sharedEvent.addListener(stackTag, function () {
    (0, _styleUpdater.applyStyle)(screenTransitionConfig, sharedEvent.value);
  });
}
function getLockAxis(goBackGesture) {
  'worklet';

  if (['swipeRight', 'swipeLeft', 'horizontalSwipe'].includes(goBackGesture)) {
    return 'x';
  } else if (['swipeUp', 'swipeDown', 'verticalSwipe'].includes(goBackGesture)) {
    return 'y';
  }
  return undefined;
}
function finishScreenTransition(screenTransitionConfig) {
  'worklet';

  var stackTag = screenTransitionConfig.stackTag,
    sharedEvent = screenTransitionConfig.sharedEvent,
    goBackGesture = screenTransitionConfig.goBackGesture;
  sharedEvent.removeListener(stackTag);
  var lockAxis = getLockAxis(goBackGesture);
  var step = (0, _swipeSimulator.getSwipeSimulator)(sharedEvent.value, screenTransitionConfig, lockAxis);
  step();
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImZpbmlzaFNjcmVlblRyYW5zaXRpb24iLCJzdGFydFNjcmVlblRyYW5zaXRpb24iLCJfQ29uZmlnSGVscGVyIiwicmVxdWlyZSIsIl9zdHlsZVVwZGF0ZXIiLCJfc3dpcGVTaW11bGF0b3IiLCJjb25maWd1cmVQcm9wcyIsInNjcmVlblRyYW5zaXRpb25Db25maWciLCJzdGFja1RhZyIsInNoYXJlZEV2ZW50IiwiYWRkTGlzdGVuZXIiLCJhcHBseVN0eWxlIiwiZ2V0TG9ja0F4aXMiLCJnb0JhY2tHZXN0dXJlIiwiaW5jbHVkZXMiLCJ1bmRlZmluZWQiLCJyZW1vdmVMaXN0ZW5lciIsImxvY2tBeGlzIiwic3RlcCIsImdldFN3aXBlU2ltdWxhdG9yIl0sInNvdXJjZXMiOlsiYW5pbWF0aW9uTWFuYWdlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0eXBlIHsgTG9ja0F4aXMsIFNjcmVlblRyYW5zaXRpb25Db25maWcgfSBmcm9tICcuL2NvbW1vblR5cGVzJztcbmltcG9ydCB7IGNvbmZpZ3VyZVByb3BzIH0gZnJvbSAnLi4vQ29uZmlnSGVscGVyJztcbmltcG9ydCB7IGFwcGx5U3R5bGUgfSBmcm9tICcuL3N0eWxlVXBkYXRlcic7XG5pbXBvcnQgeyBnZXRTd2lwZVNpbXVsYXRvciB9IGZyb20gJy4vc3dpcGVTaW11bGF0b3InO1xuXG5jb25maWd1cmVQcm9wcygpO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRTY3JlZW5UcmFuc2l0aW9uKFxuICBzY3JlZW5UcmFuc2l0aW9uQ29uZmlnOiBTY3JlZW5UcmFuc2l0aW9uQ29uZmlnXG4pIHtcbiAgJ3dvcmtsZXQnO1xuICBjb25zdCB7IHN0YWNrVGFnLCBzaGFyZWRFdmVudCB9ID0gc2NyZWVuVHJhbnNpdGlvbkNvbmZpZztcbiAgc2hhcmVkRXZlbnQuYWRkTGlzdGVuZXIoc3RhY2tUYWcsICgpID0+IHtcbiAgICBhcHBseVN0eWxlKHNjcmVlblRyYW5zaXRpb25Db25maWcsIHNoYXJlZEV2ZW50LnZhbHVlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldExvY2tBeGlzKGdvQmFja0dlc3R1cmU6IHN0cmluZyk6IExvY2tBeGlzIHtcbiAgJ3dvcmtsZXQnO1xuICBpZiAoWydzd2lwZVJpZ2h0JywgJ3N3aXBlTGVmdCcsICdob3Jpem9udGFsU3dpcGUnXS5pbmNsdWRlcyhnb0JhY2tHZXN0dXJlKSkge1xuICAgIHJldHVybiAneCc7XG4gIH0gZWxzZSBpZiAoXG4gICAgWydzd2lwZVVwJywgJ3N3aXBlRG93bicsICd2ZXJ0aWNhbFN3aXBlJ10uaW5jbHVkZXMoZ29CYWNrR2VzdHVyZSlcbiAgKSB7XG4gICAgcmV0dXJuICd5JztcbiAgfVxuICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmluaXNoU2NyZWVuVHJhbnNpdGlvbihcbiAgc2NyZWVuVHJhbnNpdGlvbkNvbmZpZzogU2NyZWVuVHJhbnNpdGlvbkNvbmZpZ1xuKSB7XG4gICd3b3JrbGV0JztcbiAgY29uc3QgeyBzdGFja1RhZywgc2hhcmVkRXZlbnQsIGdvQmFja0dlc3R1cmUgfSA9IHNjcmVlblRyYW5zaXRpb25Db25maWc7XG4gIHNoYXJlZEV2ZW50LnJlbW92ZUxpc3RlbmVyKHN0YWNrVGFnKTtcbiAgY29uc3QgbG9ja0F4aXMgPSBnZXRMb2NrQXhpcyhnb0JhY2tHZXN0dXJlKTtcbiAgY29uc3Qgc3RlcCA9IGdldFN3aXBlU2ltdWxhdG9yKFxuICAgIHNoYXJlZEV2ZW50LnZhbHVlLFxuICAgIHNjcmVlblRyYW5zaXRpb25Db25maWcsXG4gICAgbG9ja0F4aXNcbiAgKTtcbiAgc3RlcCgpO1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUFBQSxNQUFBLENBQUFDLGNBQUEsQ0FBQUMsT0FBQTtFQUFBQyxLQUFBO0FBQUE7QUFBQUQsT0FBQSxDQUFBRSxzQkFBQSxHQUFBQSxzQkFBQTtBQUFBRixPQUFBLENBQUFHLHFCQUFBLEdBQUFBLHFCQUFBO0FBR1osSUFBQUMsYUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsYUFBQSxHQUFBRCxPQUFBO0FBQ0EsSUFBQUUsZUFBQSxHQUFBRixPQUFBO0FBRUEsSUFBQUcsNEJBQWMsRUFBQyxDQUFDO0FBRVQsU0FBU0wscUJBQXFCQSxDQUNuQ00sc0JBQThDLEVBQzlDO0VBQ0EsU0FBUzs7RUFDVCxJQUFRQyxRQUFRLEdBQWtCRCxzQkFBc0IsQ0FBaERDLFFBQVE7SUFBRUMsV0FBQSxHQUFnQkYsc0JBQXNCLENBQXRDRSxXQUFBO0VBQ2xCQSxXQUFXLENBQUNDLFdBQVcsQ0FBQ0YsUUFBUSxFQUFFLFlBQU07SUFDdEMsSUFBQUcsd0JBQVUsRUFBQ0osc0JBQXNCLEVBQUVFLFdBQVcsQ0FBQ1YsS0FBSyxDQUFDO0VBQ3ZELENBQUMsQ0FBQztBQUNKO0FBRUEsU0FBU2EsV0FBV0EsQ0FBQ0MsYUFBcUIsRUFBWTtFQUNwRCxTQUFTOztFQUNULElBQUksQ0FBQyxZQUFZLEVBQUUsV0FBVyxFQUFFLGlCQUFpQixDQUFDLENBQUNDLFFBQVEsQ0FBQ0QsYUFBYSxDQUFDLEVBQUU7SUFDMUUsT0FBTyxHQUFHO0VBQ1osQ0FBQyxNQUFNLElBQ0wsQ0FBQyxTQUFTLEVBQUUsV0FBVyxFQUFFLGVBQWUsQ0FBQyxDQUFDQyxRQUFRLENBQUNELGFBQWEsQ0FBQyxFQUNqRTtJQUNBLE9BQU8sR0FBRztFQUNaO0VBQ0EsT0FBT0UsU0FBUztBQUNsQjtBQUVPLFNBQVNmLHNCQUFzQkEsQ0FDcENPLHNCQUE4QyxFQUM5QztFQUNBLFNBQVM7O0VBQ1QsSUFBUUMsUUFBUSxHQUFpQ0Qsc0JBQXNCLENBQS9EQyxRQUFRO0lBQUVDLFdBQVcsR0FBb0JGLHNCQUFzQixDQUFyREUsV0FBVztJQUFFSSxhQUFBLEdBQWtCTixzQkFBc0IsQ0FBeENNLGFBQUE7RUFDL0JKLFdBQVcsQ0FBQ08sY0FBYyxDQUFDUixRQUFRLENBQUM7RUFDcEMsSUFBTVMsUUFBUSxHQUFHTCxXQUFXLENBQUNDLGFBQWEsQ0FBQztFQUMzQyxJQUFNSyxJQUFJLEdBQUcsSUFBQUMsaUNBQWlCLEVBQzVCVixXQUFXLENBQUNWLEtBQUssRUFDakJRLHNCQUFzQixFQUN0QlUsUUFDRixDQUFDO0VBQ0RDLElBQUksQ0FBQyxDQUFDO0FBQ1IiLCJpZ25vcmVMaXN0IjpbXX0=