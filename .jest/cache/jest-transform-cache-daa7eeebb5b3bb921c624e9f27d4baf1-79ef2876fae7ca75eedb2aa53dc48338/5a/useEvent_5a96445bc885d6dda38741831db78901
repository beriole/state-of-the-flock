3709131b3198a99f40517826c885b7ae
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useEvent = useEvent;
var _react = require("react");
var _WorkletEventHandler = require("../WorkletEventHandler");
function useEvent(handler) {
  var eventNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  var rebuild = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var initRef = (0, _react.useRef)(null);
  if (initRef.current === null) {
    var workletEventHandler = new _WorkletEventHandler.WorkletEventHandler(handler, eventNames);
    initRef.current = {
      workletEventHandler: workletEventHandler
    };
  } else if (rebuild) {
    var _workletEventHandler = initRef.current.workletEventHandler;
    _workletEventHandler.updateEventHandler(handler, eventNames);
    initRef.current = {
      workletEventHandler: _workletEventHandler
    };
  }
  return initRef.current;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInVzZUV2ZW50IiwiX3JlYWN0IiwicmVxdWlyZSIsIl9Xb3JrbGV0RXZlbnRIYW5kbGVyIiwiaGFuZGxlciIsImV2ZW50TmFtZXMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJyZWJ1aWxkIiwiaW5pdFJlZiIsInVzZVJlZiIsImN1cnJlbnQiLCJ3b3JrbGV0RXZlbnRIYW5kbGVyIiwiV29ya2xldEV2ZW50SGFuZGxlciIsInVwZGF0ZUV2ZW50SGFuZGxlciJdLCJzb3VyY2VzIjpbInVzZUV2ZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFdvcmtsZXRFdmVudEhhbmRsZXIgfSBmcm9tICcuLi9Xb3JrbGV0RXZlbnRIYW5kbGVyJztcbmltcG9ydCB0eXBlIHsgSVdvcmtsZXRFdmVudEhhbmRsZXIsIFJlYW5pbWF0ZWRFdmVudCB9IGZyb20gJy4vY29tbW9uVHlwZXMnO1xuXG4vKipcbiAqIFdvcmtsZXQgdG8gcHJvdmlkZSBhcyBhbiBhcmd1bWVudCB0byBgdXNlRXZlbnRgIGhvb2suXG4gKi9cbmV4cG9ydCB0eXBlIEV2ZW50SGFuZGxlcjxcbiAgRXZlbnQgZXh0ZW5kcyBvYmplY3QsXG4gIENvbnRleHQgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IG5ldmVyXG4+ID0gKGV2ZW50OiBSZWFuaW1hdGVkRXZlbnQ8RXZlbnQ+LCBjb250ZXh0PzogQ29udGV4dCkgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgRXZlbnRIYW5kbGVyUHJvY2Vzc2VkPFxuICBFdmVudCBleHRlbmRzIG9iamVjdCxcbiAgQ29udGV4dCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0gbmV2ZXJcbj4gPSAoZXZlbnQ6IEV2ZW50LCBjb250ZXh0PzogQ29udGV4dCkgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgRXZlbnRIYW5kbGVySW50ZXJuYWw8RXZlbnQgZXh0ZW5kcyBvYmplY3Q+ID0ge1xuICB3b3JrbGV0RXZlbnRIYW5kbGVyOiBJV29ya2xldEV2ZW50SGFuZGxlcjxFdmVudD47XG59O1xuXG4vKipcbiAqIExldHMgeW91IHJ1biBhIGZ1bmN0aW9uIHdoZW5ldmVyIGEgc3BlY2lmaWVkIG5hdGl2ZSBldmVudCBvY2N1cnMuXG4gKlxuICogQHBhcmFtIGhhbmRsZXIgLSBBIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgYW4gZXZlbnQgb2JqZWN0IHdpdGggZXZlbnQgZGF0YSAtIHtAbGluayBFdmVudEhhbmRsZXJ9LlxuICogQHBhcmFtIGV2ZW50TmFtZXMgLSBBbiBhcnJheSBvZiBldmVudCBuYW1lcyB0aGUgYGhhbmRsZXJgIGNhbGxiYWNrIHdpbGwgcmVhY3QgdG8uXG4gKiBAcGFyYW0gcmVidWlsZCAtIFdoZXRoZXIgdGhlIGV2ZW50IGhhbmRsZXIgc2hvdWxkIGJlIHJlYnVpbHQuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKiBAcmV0dXJucyBBIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgZXZlbnQgb2NjdXJzIC0ge0BsaW5rIEV2ZW50SGFuZGxlclByb2Nlc3NlZH0uXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5zd21hbnNpb24uY29tL3JlYWN0LW5hdGl2ZS1yZWFuaW1hdGVkL2RvY3MvYWR2YW5jZWQvdXNlRXZlbnRcbiAqL1xuLy8gQHRzLWV4cGVjdC1lcnJvciBUaGlzIG92ZXJsb2FkIGlzIHJlcXVpcmVkIGJ5IG91ciBBUEkuXG4vLyBXZSBkb24ndCBrbm93IHdoaWNoIHByb3Blcml0ZXMgb2YgYSBjb21wb25lbnQgdGhhdCBpcyBtYWRlIGludG9cbi8vIGFuIEFuaW1hdGVkQ29tcG9uZW50IGFyZSBldmVudCBoYW5kbGVycyBhbmQgd2UgZG9uJ3Qgd2FudCB0byBmb3JjZSB0aGUgdXNlciB0byBkZWZpbmUgaXQuXG4vLyBUaGVyZWZvcmUgd2UgZGlzZ3Vpc2UgYHVzZUV2ZW50YCByZXR1cm4gdHlwZSBhcyBhIHNpbXBsZSBmdW5jdGlvbiBhbmQgd2UgaGFuZGxlXG4vLyBpdCBiZWluZyBhIFJlYWN0IFJlZiBpbiBgY3JlYXRlQW5pbWF0ZWRDb21wb25lbnRgLlxuZXhwb3J0IGZ1bmN0aW9uIHVzZUV2ZW50PFxuICBFdmVudCBleHRlbmRzIG9iamVjdCxcbiAgQ29udGV4dCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0gbmV2ZXJcbj4oXG4gIGhhbmRsZXI6IEV2ZW50SGFuZGxlcjxFdmVudCwgQ29udGV4dD4sXG4gIGV2ZW50TmFtZXM/OiBzdHJpbmdbXSxcbiAgcmVidWlsZD86IGJvb2xlYW5cbik6IEV2ZW50SGFuZGxlclByb2Nlc3NlZDxFdmVudCwgQ29udGV4dD47XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VFdmVudDxFdmVudCBleHRlbmRzIG9iamVjdCwgQ29udGV4dCA9IG5ldmVyPihcbiAgaGFuZGxlcjogKGV2ZW50OiBSZWFuaW1hdGVkRXZlbnQ8RXZlbnQ+LCBjb250ZXh0PzogQ29udGV4dCkgPT4gdm9pZCxcbiAgZXZlbnROYW1lczogc3RyaW5nW10gPSBbXSxcbiAgcmVidWlsZCA9IGZhbHNlXG4pOiBFdmVudEhhbmRsZXJJbnRlcm5hbDxFdmVudD4ge1xuICBjb25zdCBpbml0UmVmID0gdXNlUmVmPEV2ZW50SGFuZGxlckludGVybmFsPEV2ZW50Pj4obnVsbCEpO1xuICBpZiAoaW5pdFJlZi5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgY29uc3Qgd29ya2xldEV2ZW50SGFuZGxlciA9IG5ldyBXb3JrbGV0RXZlbnRIYW5kbGVyPEV2ZW50PihcbiAgICAgIGhhbmRsZXIsXG4gICAgICBldmVudE5hbWVzXG4gICAgKTtcbiAgICBpbml0UmVmLmN1cnJlbnQgPSB7IHdvcmtsZXRFdmVudEhhbmRsZXIgfTtcbiAgfSBlbHNlIGlmIChyZWJ1aWxkKSB7XG4gICAgY29uc3Qgd29ya2xldEV2ZW50SGFuZGxlciA9IGluaXRSZWYuY3VycmVudC53b3JrbGV0RXZlbnRIYW5kbGVyO1xuICAgIHdvcmtsZXRFdmVudEhhbmRsZXIudXBkYXRlRXZlbnRIYW5kbGVyKGhhbmRsZXIsIGV2ZW50TmFtZXMpO1xuICAgIGluaXRSZWYuY3VycmVudCA9IHsgd29ya2xldEV2ZW50SGFuZGxlciB9O1xuICB9XG5cbiAgcmV0dXJuIGluaXRSZWYuY3VycmVudDtcbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFBQ0EsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsUUFBQSxHQUFBQSxRQUFBO0FBQ2IsSUFBQUMsTUFBQSxHQUFBQyxPQUFBO0FBQ0EsSUFBQUMsb0JBQUEsR0FBQUQsT0FBQTtBQTJDTyxTQUFTRixRQUFRQSxDQUN0QkksT0FBbUUsRUFHdEM7RUFBQSxJQUY3QkMsVUFBb0IsR0FBQUMsU0FBQSxDQUFBQyxNQUFBLFFBQUFELFNBQUEsUUFBQUUsU0FBQSxHQUFBRixTQUFBLE1BQUcsRUFBRTtFQUFBLElBQ3pCRyxPQUFPLEdBQUFILFNBQUEsQ0FBQUMsTUFBQSxRQUFBRCxTQUFBLFFBQUFFLFNBQUEsR0FBQUYsU0FBQSxNQUFHLEtBQUs7RUFFZixJQUFNSSxPQUFPLEdBQUcsSUFBQUMsYUFBTSxFQUE4QixJQUFLLENBQUM7RUFDMUQsSUFBSUQsT0FBTyxDQUFDRSxPQUFPLEtBQUssSUFBSSxFQUFFO0lBQzVCLElBQU1DLG1CQUFtQixHQUFHLElBQUlDLHdDQUFtQixDQUNqRFYsT0FBTyxFQUNQQyxVQUNGLENBQUM7SUFDREssT0FBTyxDQUFDRSxPQUFPLEdBQUc7TUFBRUMsbUJBQW1CLEVBQW5CQTtJQUFvQixDQUFDO0VBQzNDLENBQUMsTUFBTSxJQUFJSixPQUFPLEVBQUU7SUFDbEIsSUFBTUksb0JBQW1CLEdBQUdILE9BQU8sQ0FBQ0UsT0FBTyxDQUFDQyxtQkFBbUI7SUFDL0RBLG9CQUFtQixDQUFDRSxrQkFBa0IsQ0FBQ1gsT0FBTyxFQUFFQyxVQUFVLENBQUM7SUFDM0RLLE9BQU8sQ0FBQ0UsT0FBTyxHQUFHO01BQUVDLG1CQUFtQixFQUFuQkE7SUFBb0IsQ0FBQztFQUMzQztFQUVBLE9BQU9ILE9BQU8sQ0FBQ0UsT0FBTztBQUN4QiIsImlnbm9yZUxpc3QiOltdfQ==