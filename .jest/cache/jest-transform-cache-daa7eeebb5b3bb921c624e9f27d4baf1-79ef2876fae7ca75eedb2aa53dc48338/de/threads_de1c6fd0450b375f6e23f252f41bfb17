b2b55bd9cd46711ee04451e776ca8289
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.callMicrotasks = void 0;
exports.executeOnUIRuntimeSync = executeOnUIRuntimeSync;
exports.runOnJS = runOnJS;
exports.runOnUI = runOnUI;
exports.runOnUIImmediately = runOnUIImmediately;
exports.setupMicrotasks = setupMicrotasks;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _NativeReanimated = _interopRequireDefault(require("./NativeReanimated"));
var _PlatformChecker = require("./PlatformChecker");
var _shareables = require("./shareables");
var _commonTypes = require("./commonTypes");
var IS_JEST = (0, _PlatformChecker.isJest)();
var SHOULD_BE_USE_WEB = (0, _PlatformChecker.shouldBeUseWeb)();
var _runOnUIQueue = [];
function setupMicrotasks() {
  'worklet';

  var microtasksQueue = [];
  var isExecutingMicrotasksQueue = false;
  global.queueMicrotask = function (callback) {
    microtasksQueue.push(callback);
  };
  global.__callMicrotasks = function () {
    if (isExecutingMicrotasksQueue) {
      return;
    }
    try {
      isExecutingMicrotasksQueue = true;
      for (var index = 0; index < microtasksQueue.length; index += 1) {
        microtasksQueue[index]();
      }
      microtasksQueue = [];
      global._maybeFlushUIUpdatesQueue();
    } finally {
      isExecutingMicrotasksQueue = false;
    }
  };
}
function callMicrotasksOnUIThread() {
  'worklet';

  global.__callMicrotasks();
}
var callMicrotasks = exports.callMicrotasks = SHOULD_BE_USE_WEB ? function () {} : callMicrotasksOnUIThread;
function runOnUI(worklet) {
  'worklet';

  if (__DEV__ && !SHOULD_BE_USE_WEB && _WORKLET) {
    throw new Error('[Reanimated] `runOnUI` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');
  }
  if (__DEV__ && !SHOULD_BE_USE_WEB && !(0, _commonTypes.isWorkletFunction)(worklet)) {
    throw new Error('[Reanimated] `runOnUI` can only be used on worklets.');
  }
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    if (IS_JEST) {
      _NativeReanimated.default.scheduleOnUI((0, _shareables.makeShareableCloneRecursive)(function () {
        'worklet';

        worklet.apply(void 0, args);
      }));
      return;
    }
    if (__DEV__) {
      (0, _shareables.makeShareableCloneRecursive)(worklet);
      (0, _shareables.makeShareableCloneRecursive)(args);
    }
    _runOnUIQueue.push([worklet, args]);
    if (_runOnUIQueue.length === 1) {
      queueMicrotask(function () {
        var queue = _runOnUIQueue;
        _runOnUIQueue = [];
        _NativeReanimated.default.scheduleOnUI((0, _shareables.makeShareableCloneRecursive)(function () {
          'worklet';
          queue.forEach(function (_ref) {
            var _ref2 = (0, _slicedToArray2.default)(_ref, 2),
              worklet = _ref2[0],
              args = _ref2[1];
            worklet.apply(void 0, (0, _toConsumableArray2.default)(args));
          });
          callMicrotasks();
        }));
      });
    }
  };
}
function executeOnUIRuntimeSync(worklet) {
  return function () {
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    return _NativeReanimated.default.executeOnUIRuntimeSync((0, _shareables.makeShareableCloneRecursive)(function () {
      'worklet';

      var result = worklet.apply(void 0, args);
      return (0, _shareables.makeShareableCloneOnUIRecursive)(result);
    }));
  };
}
function runOnUIImmediately(worklet) {
  'worklet';

  if (__DEV__ && !SHOULD_BE_USE_WEB && _WORKLET) {
    throw new Error('[Reanimated] `runOnUIImmediately` cannot be called on the UI runtime. Please call the function synchronously or use `queueMicrotask` or `requestAnimationFrame` instead.');
  }
  if (__DEV__ && !SHOULD_BE_USE_WEB && !(0, _commonTypes.isWorkletFunction)(worklet)) {
    throw new Error('[Reanimated] `runOnUIImmediately` can only be used on worklets.');
  }
  return function () {
    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      args[_key3] = arguments[_key3];
    }
    _NativeReanimated.default.scheduleOnUI((0, _shareables.makeShareableCloneRecursive)(function () {
      'worklet';

      worklet.apply(void 0, args);
    }));
  };
}
function runWorkletOnJS(worklet) {
  for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
    args[_key4 - 1] = arguments[_key4];
  }
  worklet.apply(void 0, args);
}
function runOnJS(fun) {
  'worklet';

  if (SHOULD_BE_USE_WEB || !_WORKLET) {
    return function () {
      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
        args[_key5] = arguments[_key5];
      }
      return queueMicrotask(args.length ? function () {
        return fun.apply(void 0, args);
      } : fun);
    };
  }
  if ((0, _commonTypes.isWorkletFunction)(fun)) {
    return function () {
      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
        args[_key6] = arguments[_key6];
      }
      return runOnJS(runWorkletOnJS).apply(void 0, [fun].concat(args));
    };
  }
  if (fun.__remoteFunction) {
    fun = fun.__remoteFunction;
  }
  return function () {
    for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
      args[_key7] = arguments[_key7];
    }
    global._scheduleOnJS(fun, args.length > 0 ? (0, _shareables.makeShareableCloneOnUIRecursive)(args) : undefined);
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY2FsbE1pY3JvdGFza3MiLCJleGVjdXRlT25VSVJ1bnRpbWVTeW5jIiwicnVuT25KUyIsInJ1bk9uVUkiLCJydW5PblVJSW1tZWRpYXRlbHkiLCJzZXR1cE1pY3JvdGFza3MiLCJfdG9Db25zdW1hYmxlQXJyYXkyIiwiX3NsaWNlZFRvQXJyYXkyIiwiX05hdGl2ZVJlYW5pbWF0ZWQiLCJfUGxhdGZvcm1DaGVja2VyIiwiX3NoYXJlYWJsZXMiLCJfY29tbW9uVHlwZXMiLCJJU19KRVNUIiwiaXNKZXN0IiwiU0hPVUxEX0JFX1VTRV9XRUIiLCJzaG91bGRCZVVzZVdlYiIsIl9ydW5PblVJUXVldWUiLCJtaWNyb3Rhc2tzUXVldWUiLCJpc0V4ZWN1dGluZ01pY3JvdGFza3NRdWV1ZSIsImdsb2JhbCIsInF1ZXVlTWljcm90YXNrIiwiY2FsbGJhY2siLCJwdXNoIiwiX19jYWxsTWljcm90YXNrcyIsImluZGV4IiwibGVuZ3RoIiwiX21heWJlRmx1c2hVSVVwZGF0ZXNRdWV1ZSIsImNhbGxNaWNyb3Rhc2tzT25VSVRocmVhZCIsIndvcmtsZXQiLCJfX0RFVl9fIiwiX1dPUktMRVQiLCJFcnJvciIsImlzV29ya2xldEZ1bmN0aW9uIiwiX2xlbiIsImFyZ3VtZW50cyIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJOYXRpdmVSZWFuaW1hdGVkTW9kdWxlIiwic2NoZWR1bGVPblVJIiwibWFrZVNoYXJlYWJsZUNsb25lUmVjdXJzaXZlIiwiYXBwbHkiLCJxdWV1ZSIsImZvckVhY2giLCJfcmVmIiwiX3JlZjIiLCJkZWZhdWx0IiwiX2xlbjIiLCJfa2V5MiIsInJlc3VsdCIsIm1ha2VTaGFyZWFibGVDbG9uZU9uVUlSZWN1cnNpdmUiLCJfbGVuMyIsIl9rZXkzIiwicnVuV29ya2xldE9uSlMiLCJfbGVuNCIsIl9rZXk0IiwiZnVuIiwiX2xlbjUiLCJfa2V5NSIsIl9sZW42IiwiX2tleTYiLCJjb25jYXQiLCJfX3JlbW90ZUZ1bmN0aW9uIiwiX2xlbjciLCJfa2V5NyIsIl9zY2hlZHVsZU9uSlMiLCJ1bmRlZmluZWQiXSwic291cmNlcyI6WyJ0aHJlYWRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCBOYXRpdmVSZWFuaW1hdGVkTW9kdWxlIGZyb20gJy4vTmF0aXZlUmVhbmltYXRlZCc7XG5pbXBvcnQgeyBpc0plc3QsIHNob3VsZEJlVXNlV2ViIH0gZnJvbSAnLi9QbGF0Zm9ybUNoZWNrZXInO1xuaW1wb3J0IHR5cGUgeyBXb3JrbGV0RnVuY3Rpb24gfSBmcm9tICcuL2NvbW1vblR5cGVzJztcbmltcG9ydCB7XG4gIG1ha2VTaGFyZWFibGVDbG9uZU9uVUlSZWN1cnNpdmUsXG4gIG1ha2VTaGFyZWFibGVDbG9uZVJlY3Vyc2l2ZSxcbn0gZnJvbSAnLi9zaGFyZWFibGVzJztcbmltcG9ydCB7IGlzV29ya2xldEZ1bmN0aW9uIH0gZnJvbSAnLi9jb21tb25UeXBlcyc7XG5cbmNvbnN0IElTX0pFU1QgPSBpc0plc3QoKTtcbmNvbnN0IFNIT1VMRF9CRV9VU0VfV0VCID0gc2hvdWxkQmVVc2VXZWIoKTtcblxuLyoqXG4gKiBBbiBhcnJheSBvZiBbd29ya2xldCwgYXJnc10gcGFpcnMuXG4gKiAqL1xubGV0IF9ydW5PblVJUXVldWU6IEFycmF5PFtXb3JrbGV0RnVuY3Rpb248dW5rbm93bltdLCB1bmtub3duPiwgdW5rbm93bltdXT4gPSBbXTtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldHVwTWljcm90YXNrcygpIHtcbiAgJ3dvcmtsZXQnO1xuXG4gIGxldCBtaWNyb3Rhc2tzUXVldWU6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XG4gIGxldCBpc0V4ZWN1dGluZ01pY3JvdGFza3NRdWV1ZSA9IGZhbHNlO1xuICBnbG9iYWwucXVldWVNaWNyb3Rhc2sgPSAoY2FsbGJhY2s6ICgpID0+IHZvaWQpID0+IHtcbiAgICBtaWNyb3Rhc2tzUXVldWUucHVzaChjYWxsYmFjayk7XG4gIH07XG5cbiAgZ2xvYmFsLl9fY2FsbE1pY3JvdGFza3MgPSAoKSA9PiB7XG4gICAgaWYgKGlzRXhlY3V0aW5nTWljcm90YXNrc1F1ZXVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBpc0V4ZWN1dGluZ01pY3JvdGFza3NRdWV1ZSA9IHRydWU7XG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbWljcm90YXNrc1F1ZXVlLmxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgICAgICAvLyB3ZSB1c2UgY2xhc3NpYyAnZm9yJyBsb29wIGJlY2F1c2UgdGhlIHNpemUgb2YgdGhlIGN1cnJlbnRUYXNrcyBhcnJheSBtYXkgY2hhbmdlIHdoaWxlIGV4ZWN1dGluZyBzb21lIG9mIHRoZSBjYWxsYmFja3MgZHVlIHRvIHF1ZXVlTWljcm90YXNrIGNhbGxzXG4gICAgICAgIG1pY3JvdGFza3NRdWV1ZVtpbmRleF0oKTtcbiAgICAgIH1cbiAgICAgIG1pY3JvdGFza3NRdWV1ZSA9IFtdO1xuICAgICAgZ2xvYmFsLl9tYXliZUZsdXNoVUlVcGRhdGVzUXVldWUoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNFeGVjdXRpbmdNaWNyb3Rhc2tzUXVldWUgPSBmYWxzZTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGNhbGxNaWNyb3Rhc2tzT25VSVRocmVhZCgpIHtcbiAgJ3dvcmtsZXQnO1xuICBnbG9iYWwuX19jYWxsTWljcm90YXNrcygpO1xufVxuXG5leHBvcnQgY29uc3QgY2FsbE1pY3JvdGFza3MgPSBTSE9VTERfQkVfVVNFX1dFQlxuICA/ICgpID0+IHtcbiAgICAgIC8vIG9uIHdlYiBmbHVzaGluZyBpcyBhIG5vb3AgYXMgaW1tZWRpYXRlcyBhcmUgaGFuZGxlZCBieSB0aGUgYnJvd3NlclxuICAgIH1cbiAgOiBjYWxsTWljcm90YXNrc09uVUlUaHJlYWQ7XG5cbi8qKlxuICogTGV0cyB5b3UgYXN5bmNocm9ub3VzbHkgcnVuIFt3b3JrbGV0aXplZF0oaHR0cHM6Ly9kb2NzLnN3bWFuc2lvbi5jb20vcmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWQvZG9jcy9mdW5kYW1lbnRhbHMvZ2xvc3NhcnkjdG8td29ya2xldGl6ZSkgZnVuY3Rpb25zIG9uIHRoZSBbVUkgdGhyZWFkXShodHRwczovL2RvY3Muc3dtYW5zaW9uLmNvbS9yZWFjdC1uYXRpdmUtcmVhbmltYXRlZC9kb2NzL3RocmVhZGluZy9ydW5PblVJKS5cbiAqXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCBzY2hlZHVsZSB0aGUgd29yayBpbW1lZGlhdGVseSBidXQgaW5zdGVhZCB3YWl0cyBmb3Igb3RoZXIgd29ya2xldHNcbiAqIHRvIGJlIHNjaGVkdWxlZCB3aXRoaW4gdGhlIHNhbWUgSlMgbG9vcC4gSXQgdXNlcyBxdWV1ZU1pY3JvdGFzayB0byBzY2hlZHVsZSBhbGwgdGhlIHdvcmtsZXRzXG4gKiBhdCBvbmNlIG1ha2luZyBzdXJlIHRoZXkgd2lsbCBydW4gd2l0aGluIHRoZSBzYW1lIGZyYW1lIGJvdW5kYXJpZXMgb24gdGhlIFVJIHRocmVhZC5cbiAqXG4gKiBAcGFyYW0gZnVuIC0gQSByZWZlcmVuY2UgdG8gYSBmdW5jdGlvbiB5b3Ugd2FudCB0byBleGVjdXRlIG9uIHRoZSBbVUkgdGhyZWFkXShodHRwczovL2RvY3Muc3dtYW5zaW9uLmNvbS9yZWFjdC1uYXRpdmUtcmVhbmltYXRlZC9kb2NzL3RocmVhZGluZy9ydW5PblVJKSBmcm9tIHRoZSBbSmF2YVNjcmlwdCB0aHJlYWRdKGh0dHBzOi8vZG9jcy5zd21hbnNpb24uY29tL3JlYWN0LW5hdGl2ZS1yZWFuaW1hdGVkL2RvY3MvdGhyZWFkaW5nL3J1bk9uVUkpLlxuICogQHJldHVybnMgQSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYXJndW1lbnRzIGZvciB0aGUgZnVuY3Rpb24gcGFzc2VkIGFzIHRoZSBmaXJzdCBhcmd1bWVudC5cbiAqIEBzZWUgaHR0cHM6Ly9kb2NzLnN3bWFuc2lvbi5jb20vcmVhY3QtbmF0aXZlLXJlYW5pbWF0ZWQvZG9jcy90aHJlYWRpbmcvcnVuT25VSVxuICovXG4vLyBAdHMtZXhwZWN0LWVycm9yIFRoaXMgb3ZlcmxvYWQgaXMgY29ycmVjdCBzaW5jZSBpdCdzIHdoYXQgdXNlciBzZWVzIGluIGhpcyBjb2RlXG4vLyBiZWZvcmUgaXQncyB0cmFuc2Zvcm1lZCBieSBSZWFuaW1hdGVkIEJhYmVsIHBsdWdpbi5cbmV4cG9ydCBmdW5jdGlvbiBydW5PblVJPEFyZ3MgZXh0ZW5kcyB1bmtub3duW10sIFJldHVyblZhbHVlPihcbiAgd29ya2xldDogKC4uLmFyZ3M6IEFyZ3MpID0+IFJldHVyblZhbHVlXG4pOiAoLi4uYXJnczogQXJncykgPT4gdm9pZDtcblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bk9uVUk8QXJncyBleHRlbmRzIHVua25vd25bXSwgUmV0dXJuVmFsdWU+KFxuICB3b3JrbGV0OiBXb3JrbGV0RnVuY3Rpb248QXJncywgUmV0dXJuVmFsdWU+XG4pOiAoLi4uYXJnczogQXJncykgPT4gdm9pZCB7XG4gICd3b3JrbGV0JztcbiAgaWYgKF9fREVWX18gJiYgIVNIT1VMRF9CRV9VU0VfV0VCICYmIF9XT1JLTEVUKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ1tSZWFuaW1hdGVkXSBgcnVuT25VSWAgY2Fubm90IGJlIGNhbGxlZCBvbiB0aGUgVUkgcnVudGltZS4gUGxlYXNlIGNhbGwgdGhlIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgb3IgdXNlIGBxdWV1ZU1pY3JvdGFza2Agb3IgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgaW5zdGVhZC4nXG4gICAgKTtcbiAgfVxuICBpZiAoX19ERVZfXyAmJiAhU0hPVUxEX0JFX1VTRV9XRUIgJiYgIWlzV29ya2xldEZ1bmN0aW9uKHdvcmtsZXQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdbUmVhbmltYXRlZF0gYHJ1bk9uVUlgIGNhbiBvbmx5IGJlIHVzZWQgb24gd29ya2xldHMuJyk7XG4gIH1cbiAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKElTX0pFU1QpIHtcbiAgICAgIC8vIE1vY2tpbmcgdGltZSBpbiBKZXN0IGlzIHRyaWNreSBhcyBib3RoIHJlcXVlc3RBbmltYXRpb25GcmFtZSBhbmQgcXVldWVNaWNyb3Rhc2tcbiAgICAgIC8vIGNhbGxiYWNrcyBydW4gb24gdGhlIHNhbWUgcXVldWUgYW5kIGNhbiBiZSBpbnRlcmxlYXZlZC4gVGhlcmUgaXMgbm8gd2F5XG4gICAgICAvLyB0byBmbHVzaCBwYXJ0aWN1bGFyIHF1ZXVlIGluIEplc3QgYW5kIHRoZSBvbmx5IGNvbnRyb2wgb3ZlciBtb2NrZWQgdGltZXJzXG4gICAgICAvLyBpcyBieSB1c2luZyBqZXN0LmFkdmFuY2VUaW1lcnNCeVRpbWUoKSBtZXRob2Qgd2hpY2ggYWR2YW5jZXMgYWxsIHR5cGVzXG4gICAgICAvLyBvZiB0aW1lcnMgaW5jbHVkaW5nIGltbWVkaWF0ZSBhbmQgYW5pbWF0aW9uIGNhbGxiYWNrcy4gSWRlYWxseSB3ZSdkIGxpa2VcbiAgICAgIC8vIHRvIGhhdmUgc29tZSB3YXkgaGVyZSB0byBzY2hlZHVsZSB3b3JrIGFsb25nIHdpdGggUmVhY3QgdXBkYXRlcywgYnV0XG4gICAgICAvLyB0aGF0J3Mgbm90IHBvc3NpYmxlLCBhbmQgaGVuY2UgaW4gSmVzdCBlbnZpcm9ubWVudCBpbnN0ZWFkIG9mIHVzaW5nIHNjaGVkdWxpbmdcbiAgICAgIC8vIG1lY2hhbmlzbSB3ZSBqdXN0IHNjaGVkdWxlIHRoZSB3b3JrIG9tbWl0aW5nIHRoZSBxdWV1ZS4gVGhpcyBpcyBvayBmb3IgdGhlXG4gICAgICAvLyB1c2VzIHRoYXQgd2UgY3VycmVudGx5IGhhdmUgYnV0IG1heSBub3QgYmUgb2sgZm9yIGZ1dHVyZSB0ZXN0cyB0aGF0IHdlIHdyaXRlLlxuICAgICAgTmF0aXZlUmVhbmltYXRlZE1vZHVsZS5zY2hlZHVsZU9uVUkoXG4gICAgICAgIG1ha2VTaGFyZWFibGVDbG9uZVJlY3Vyc2l2ZSgoKSA9PiB7XG4gICAgICAgICAgJ3dvcmtsZXQnO1xuICAgICAgICAgIHdvcmtsZXQoLi4uYXJncyk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgLy8gaW4gREVWIG1vZGUgd2UgY2FsbCBzaGFyZWFibGUgY29udmVyc2lvbiBoZXJlIGJlY2F1c2UgaW4gY2FzZSB0aGUgb2JqZWN0XG4gICAgICAvLyBjYW4ndCBiZSBjb252ZXJ0ZWQsIHdlIHdpbGwgZ2V0IGEgbWVhbmluZ2Z1bCBzdGFjay10cmFjZSBhcyBvcHBvc2VkIHRvIHRoZVxuICAgICAgLy8gc2l0dWF0aW9uIHdoZW4gY29udmVyc2lvbiBpcyBvbmx5IGRvbmUgdmlhIG1pY3JvdGFzayBxdWV1ZS4gVGhpcyBkb2VzIG5vdFxuICAgICAgLy8gbWFrZSB0aGUgYXBwIHBhcnRpY3VsYXJpbHkgbGVzcyBlZmZpY2llbnQgYXMgY29udmVydGVkIG9iamVjdHMgYXJlIGNhY2hlZFxuICAgICAgLy8gYW5kIGZvciBhIGdpdmVuIHdvcmtsZXQgdGhlIGNvbnZlcnNpb24gb25seSBoYXBwZW5zIG9uY2UuXG4gICAgICBtYWtlU2hhcmVhYmxlQ2xvbmVSZWN1cnNpdmUod29ya2xldCk7XG4gICAgICBtYWtlU2hhcmVhYmxlQ2xvbmVSZWN1cnNpdmUoYXJncyk7XG4gICAgfVxuICAgIF9ydW5PblVJUXVldWUucHVzaChbd29ya2xldCBhcyBXb3JrbGV0RnVuY3Rpb24sIGFyZ3NdKTtcbiAgICBpZiAoX3J1bk9uVUlRdWV1ZS5sZW5ndGggPT09IDEpIHtcbiAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgcXVldWUgPSBfcnVuT25VSVF1ZXVlO1xuICAgICAgICBfcnVuT25VSVF1ZXVlID0gW107XG4gICAgICAgIE5hdGl2ZVJlYW5pbWF0ZWRNb2R1bGUuc2NoZWR1bGVPblVJKFxuICAgICAgICAgIG1ha2VTaGFyZWFibGVDbG9uZVJlY3Vyc2l2ZSgoKSA9PiB7XG4gICAgICAgICAgICAnd29ya2xldCc7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICAgICAgICAgICAgcXVldWUuZm9yRWFjaCgoW3dvcmtsZXQsIGFyZ3NdKSA9PiB7XG4gICAgICAgICAgICAgIHdvcmtsZXQoLi4uYXJncyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhbGxNaWNyb3Rhc2tzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gQHRzLWV4cGVjdC1lcnJvciBDaGVjayBgZXhlY3V0ZU9uVUlSdW50aW1lU3luY2Agb3ZlcmxvYWQgYWJvdmUuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZU9uVUlSdW50aW1lU3luYzxBcmdzIGV4dGVuZHMgdW5rbm93bltdLCBSZXR1cm5WYWx1ZT4oXG4gIHdvcmtsZXQ6ICguLi5hcmdzOiBBcmdzKSA9PiBSZXR1cm5WYWx1ZVxuKTogKC4uLmFyZ3M6IEFyZ3MpID0+IFJldHVyblZhbHVlO1xuXG5leHBvcnQgZnVuY3Rpb24gZXhlY3V0ZU9uVUlSdW50aW1lU3luYzxBcmdzIGV4dGVuZHMgdW5rbm93bltdLCBSZXR1cm5WYWx1ZT4oXG4gIHdvcmtsZXQ6IFdvcmtsZXRGdW5jdGlvbjxBcmdzLCBSZXR1cm5WYWx1ZT5cbik6ICguLi5hcmdzOiBBcmdzKSA9PiBSZXR1cm5WYWx1ZSB7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIHJldHVybiBOYXRpdmVSZWFuaW1hdGVkTW9kdWxlLmV4ZWN1dGVPblVJUnVudGltZVN5bmMoXG4gICAgICBtYWtlU2hhcmVhYmxlQ2xvbmVSZWN1cnNpdmUoKCkgPT4ge1xuICAgICAgICAnd29ya2xldCc7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHdvcmtsZXQoLi4uYXJncyk7XG4gICAgICAgIHJldHVybiBtYWtlU2hhcmVhYmxlQ2xvbmVPblVJUmVjdXJzaXZlKHJlc3VsdCk7XG4gICAgICB9KVxuICAgICk7XG4gIH07XG59XG5cbi8vIEB0cy1leHBlY3QtZXJyb3IgQ2hlY2sgYHJ1bk9uVUlgIG92ZXJsb2FkIGFib3ZlLlxuZXhwb3J0IGZ1bmN0aW9uIHJ1bk9uVUlJbW1lZGlhdGVseTxBcmdzIGV4dGVuZHMgdW5rbm93bltdLCBSZXR1cm5WYWx1ZT4oXG4gIHdvcmtsZXQ6ICguLi5hcmdzOiBBcmdzKSA9PiBSZXR1cm5WYWx1ZVxuKTogV29ya2xldEZ1bmN0aW9uPEFyZ3MsIFJldHVyblZhbHVlPjtcbi8qKlxuICogU2NoZWR1bGUgYSB3b3JrbGV0IHRvIGV4ZWN1dGUgb24gdGhlIFVJIHJ1bnRpbWUgc2tpcHBpbmcgYmF0Y2hpbmcgbWVjaGFuaXNtLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuT25VSUltbWVkaWF0ZWx5PEFyZ3MgZXh0ZW5kcyB1bmtub3duW10sIFJldHVyblZhbHVlPihcbiAgd29ya2xldDogV29ya2xldEZ1bmN0aW9uPEFyZ3MsIFJldHVyblZhbHVlPlxuKTogKC4uLmFyZ3M6IEFyZ3MpID0+IHZvaWQge1xuICAnd29ya2xldCc7XG4gIGlmIChfX0RFVl9fICYmICFTSE9VTERfQkVfVVNFX1dFQiAmJiBfV09SS0xFVCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICdbUmVhbmltYXRlZF0gYHJ1bk9uVUlJbW1lZGlhdGVseWAgY2Fubm90IGJlIGNhbGxlZCBvbiB0aGUgVUkgcnVudGltZS4gUGxlYXNlIGNhbGwgdGhlIGZ1bmN0aW9uIHN5bmNocm9ub3VzbHkgb3IgdXNlIGBxdWV1ZU1pY3JvdGFza2Agb3IgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgaW5zdGVhZC4nXG4gICAgKTtcbiAgfVxuICBpZiAoX19ERVZfXyAmJiAhU0hPVUxEX0JFX1VTRV9XRUIgJiYgIWlzV29ya2xldEZ1bmN0aW9uKHdvcmtsZXQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ1tSZWFuaW1hdGVkXSBgcnVuT25VSUltbWVkaWF0ZWx5YCBjYW4gb25seSBiZSB1c2VkIG9uIHdvcmtsZXRzLidcbiAgICApO1xuICB9XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIE5hdGl2ZVJlYW5pbWF0ZWRNb2R1bGUuc2NoZWR1bGVPblVJKFxuICAgICAgbWFrZVNoYXJlYWJsZUNsb25lUmVjdXJzaXZlKCgpID0+IHtcbiAgICAgICAgJ3dvcmtsZXQnO1xuICAgICAgICB3b3JrbGV0KC4uLmFyZ3MpO1xuICAgICAgfSlcbiAgICApO1xuICB9O1xufVxuXG50eXBlIFJlbGVhc2VSZW1vdGVGdW5jdGlvbjxBcmdzIGV4dGVuZHMgdW5rbm93bltdLCBSZXR1cm5WYWx1ZT4gPSB7XG4gICguLi5hcmdzOiBBcmdzKTogUmV0dXJuVmFsdWU7XG59O1xuXG50eXBlIERldlJlbW90ZUZ1bmN0aW9uPEFyZ3MgZXh0ZW5kcyB1bmtub3duW10sIFJldHVyblZhbHVlPiA9IHtcbiAgX19yZW1vdGVGdW5jdGlvbjogKC4uLmFyZ3M6IEFyZ3MpID0+IFJldHVyblZhbHVlO1xufTtcblxudHlwZSBSZW1vdGVGdW5jdGlvbjxBcmdzIGV4dGVuZHMgdW5rbm93bltdLCBSZXR1cm5WYWx1ZT4gPVxuICB8IFJlbGVhc2VSZW1vdGVGdW5jdGlvbjxBcmdzLCBSZXR1cm5WYWx1ZT5cbiAgfCBEZXZSZW1vdGVGdW5jdGlvbjxBcmdzLCBSZXR1cm5WYWx1ZT47XG5cbmZ1bmN0aW9uIHJ1bldvcmtsZXRPbkpTPEFyZ3MgZXh0ZW5kcyB1bmtub3duW10sIFJldHVyblZhbHVlPihcbiAgd29ya2xldDogV29ya2xldEZ1bmN0aW9uPEFyZ3MsIFJldHVyblZhbHVlPixcbiAgLi4uYXJnczogQXJnc1xuKTogdm9pZCB7XG4gIC8vIHJlbW90ZSBmdW5jdGlvbiB0aGF0IGNhbGxzIGEgd29ya2xldCBzeW5jaHJvbm91c2x5IG9uIHRoZSBKUyBydW50aW1lXG4gIHdvcmtsZXQoLi4uYXJncyk7XG59XG5cbi8qKlxuICogTGV0cyB5b3UgYXN5bmNocm9ub3VzbHkgcnVuIG5vbi1bd29ya2xldGl6ZWRdKGh0dHBzOi8vZG9jcy5zd21hbnNpb24uY29tL3JlYWN0LW5hdGl2ZS1yZWFuaW1hdGVkL2RvY3MvZnVuZGFtZW50YWxzL2dsb3NzYXJ5I3RvLXdvcmtsZXRpemUpIGZ1bmN0aW9ucyB0aGF0IGNvdWxkbid0IG90aGVyd2lzZSBydW4gb24gdGhlIFtVSSB0aHJlYWRdKGh0dHBzOi8vZG9jcy5zd21hbnNpb24uY29tL3JlYWN0LW5hdGl2ZS1yZWFuaW1hdGVkL2RvY3MvZnVuZGFtZW50YWxzL2dsb3NzYXJ5I3VpLXRocmVhZCkuXG4gKiBUaGlzIGFwcGxpZXMgdG8gbW9zdCBleHRlcm5hbCBsaWJyYXJpZXMgYXMgdGhleSBkb24ndCBoYXZlIHRoZWlyIGZ1bmN0aW9ucyBtYXJrZWQgd2l0aCBcIndvcmtsZXRcIjsgZGlyZWN0aXZlLlxuICpcbiAqIEBwYXJhbSBmdW4gLSBBIHJlZmVyZW5jZSB0byBhIGZ1bmN0aW9uIHlvdSB3YW50IHRvIGV4ZWN1dGUgb24gdGhlIEphdmFTY3JpcHQgdGhyZWFkIGZyb20gdGhlIFVJIHRocmVhZC5cbiAqIEByZXR1cm5zIEEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFyZ3VtZW50cyBmb3IgdGhlIGZ1bmN0aW9uIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXG4gKiBAc2VlIGh0dHBzOi8vZG9jcy5zd21hbnNpb24uY29tL3JlYWN0LW5hdGl2ZS1yZWFuaW1hdGVkL2RvY3MvdGhyZWFkaW5nL3J1bk9uSlNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJ1bk9uSlM8QXJncyBleHRlbmRzIHVua25vd25bXSwgUmV0dXJuVmFsdWU+KFxuICBmdW46XG4gICAgfCAoKC4uLmFyZ3M6IEFyZ3MpID0+IFJldHVyblZhbHVlKVxuICAgIHwgUmVtb3RlRnVuY3Rpb248QXJncywgUmV0dXJuVmFsdWU+XG4gICAgfCBXb3JrbGV0RnVuY3Rpb248QXJncywgUmV0dXJuVmFsdWU+XG4pOiAoLi4uYXJnczogQXJncykgPT4gdm9pZCB7XG4gICd3b3JrbGV0JztcbiAgdHlwZSBGdW5EZXZSZW1vdGUgPSBFeHRyYWN0PHR5cGVvZiBmdW4sIERldlJlbW90ZUZ1bmN0aW9uPEFyZ3MsIFJldHVyblZhbHVlPj47XG4gIGlmIChTSE9VTERfQkVfVVNFX1dFQiB8fCAhX1dPUktMRVQpIHtcbiAgICAvLyBpZiB3ZSBhcmUgYWxyZWFkeSBvbiB0aGUgSlMgdGhyZWFkLCB3ZSBqdXN0IHNjaGVkdWxlIHRoZSB3b3JrbGV0IG9uIHRoZSBKUyBxdWV1ZVxuICAgIHJldHVybiAoLi4uYXJncykgPT5cbiAgICAgIHF1ZXVlTWljcm90YXNrKFxuICAgICAgICBhcmdzLmxlbmd0aFxuICAgICAgICAgID8gKCkgPT4gKGZ1biBhcyAoLi4uYXJnczogQXJncykgPT4gUmV0dXJuVmFsdWUpKC4uLmFyZ3MpXG4gICAgICAgICAgOiAoZnVuIGFzICgpID0+IFJldHVyblZhbHVlKVxuICAgICAgKTtcbiAgfVxuICBpZiAoaXNXb3JrbGV0RnVuY3Rpb248QXJncywgUmV0dXJuVmFsdWU+KGZ1bikpIHtcbiAgICAvLyBJZiBgZnVuYCBpcyBhIHdvcmtsZXQsIHdlIHNjaGVkdWxlIGEgY2FsbCBvZiBhIHJlbW90ZSBmdW5jdGlvbiBgcnVuV29ya2xldE9uSlNgXG4gICAgLy8gYW5kIHBhc3MgdGhlIHdvcmtsZXQgYXMgYSBmaXJzdCBhcmd1bWVudCBmb2xsb3dlZCBieSBvcmlnaW5hbCBhcmd1bWVudHMuXG5cbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+XG4gICAgICBydW5PbkpTKHJ1bldvcmtsZXRPbkpTPEFyZ3MsIFJldHVyblZhbHVlPikoXG4gICAgICAgIGZ1biBhcyBXb3JrbGV0RnVuY3Rpb248QXJncywgUmV0dXJuVmFsdWU+LFxuICAgICAgICAuLi5hcmdzXG4gICAgICApO1xuICB9XG4gIGlmICgoZnVuIGFzIEZ1bkRldlJlbW90ZSkuX19yZW1vdGVGdW5jdGlvbikge1xuICAgIC8vIEluIGRldmVsb3BtZW50IG1vZGUgdGhlIGZ1bmN0aW9uIHByb3ZpZGVkIGFzIGBmdW5gIHRocm93cyBhbiBlcnJvciBtZXNzYWdlXG4gICAgLy8gc3VjaCB0aGF0IHdoZW4gc29tZW9uZSBhY2NpZGVudGFsbHkgY2FsbHMgaXQgZGlyZWN0bHkgb24gdGhlIFVJIHJ1bnRpbWUsIHRoZXlcbiAgICAvLyBzZWUgdGhhdCB0aGV5IHNob3VsZCB1c2UgYHJ1bk9uSlNgIGluc3RlYWQuIFRvIGZhY2lsaXRhdGUgdGhhdCB3ZSBwdXQgdGhlXG4gICAgLy8gcmVmZXJlbmNlIHRvIHRoZSBvcmlnaW5hbCByZW1vdGUgZnVuY3Rpb24gaW4gdGhlIGBfX3JlbW90ZUZ1bmN0aW9uYCBwcm9wZXJ0eS5cbiAgICBmdW4gPSAoZnVuIGFzIEZ1bkRldlJlbW90ZSkuX19yZW1vdGVGdW5jdGlvbjtcbiAgfVxuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICBnbG9iYWwuX3NjaGVkdWxlT25KUyhcbiAgICAgIGZ1biBhc1xuICAgICAgICB8ICgoLi4uYXJnczogQXJncykgPT4gUmV0dXJuVmFsdWUpXG4gICAgICAgIHwgV29ya2xldEZ1bmN0aW9uPEFyZ3MsIFJldHVyblZhbHVlPixcbiAgICAgIGFyZ3MubGVuZ3RoID4gMFxuICAgICAgICA/IC8vIFRPRE8gVFlQRVNDUklQVCB0aGlzIGNhc3QgaXMgdGVycmlibGUgYnV0IHdpbGwgYmUgZml4ZWRcbiAgICAgICAgICAobWFrZVNoYXJlYWJsZUNsb25lT25VSVJlY3Vyc2l2ZShhcmdzKSBhcyB1bmtub3duIGFzIHVua25vd25bXSlcbiAgICAgICAgOiB1bmRlZmluZWRcbiAgICApO1xuICB9O1xufVxuIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUFDLElBQUFBLHNCQUFBLEdBQUFDLE9BQUE7QUFBQUMsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsY0FBQTtBQUFBRixPQUFBLENBQUFHLHNCQUFBLEdBQUFBLHNCQUFBO0FBQUFILE9BQUEsQ0FBQUksT0FBQSxHQUFBQSxPQUFBO0FBQUFKLE9BQUEsQ0FBQUssT0FBQSxHQUFBQSxPQUFBO0FBQUFMLE9BQUEsQ0FBQU0sa0JBQUEsR0FBQUEsa0JBQUE7QUFBQU4sT0FBQSxDQUFBTyxlQUFBLEdBQUFBLGVBQUE7QUFBQSxJQUFBQyxtQkFBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBQUEsSUFBQVksZUFBQSxHQUFBYixzQkFBQSxDQUFBQyxPQUFBO0FBQ2IsSUFBQWEsaUJBQUEsR0FBQWQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFjLGdCQUFBLEdBQUFkLE9BQUE7QUFFQSxJQUFBZSxXQUFBLEdBQUFmLE9BQUE7QUFJQSxJQUFBZ0IsWUFBQSxHQUFBaEIsT0FBQTtBQUVBLElBQU1pQixPQUFPLEdBQUcsSUFBQUMsdUJBQU0sRUFBQyxDQUFDO0FBQ3hCLElBQU1DLGlCQUFpQixHQUFHLElBQUFDLCtCQUFjLEVBQUMsQ0FBQztBQUsxQyxJQUFJQyxhQUFzRSxHQUFHLEVBQUU7QUFFeEUsU0FBU1gsZUFBZUEsQ0FBQSxFQUFHO0VBQ2hDLFNBQVM7O0VBRVQsSUFBSVksZUFBa0MsR0FBRyxFQUFFO0VBQzNDLElBQUlDLDBCQUEwQixHQUFHLEtBQUs7RUFDdENDLE1BQU0sQ0FBQ0MsY0FBYyxHQUFHLFVBQUNDLFFBQW9CLEVBQUs7SUFDaERKLGVBQWUsQ0FBQ0ssSUFBSSxDQUFDRCxRQUFRLENBQUM7RUFDaEMsQ0FBQztFQUVERixNQUFNLENBQUNJLGdCQUFnQixHQUFHLFlBQU07SUFDOUIsSUFBSUwsMEJBQTBCLEVBQUU7TUFDOUI7SUFDRjtJQUNBLElBQUk7TUFDRkEsMEJBQTBCLEdBQUcsSUFBSTtNQUNqQyxLQUFLLElBQUlNLEtBQUssR0FBRyxDQUFDLEVBQUVBLEtBQUssR0FBR1AsZUFBZSxDQUFDUSxNQUFNLEVBQUVELEtBQUssSUFBSSxDQUFDLEVBQUU7UUFFOURQLGVBQWUsQ0FBQ08sS0FBSyxDQUFDLENBQUMsQ0FBQztNQUMxQjtNQUNBUCxlQUFlLEdBQUcsRUFBRTtNQUNwQkUsTUFBTSxDQUFDTyx5QkFBeUIsQ0FBQyxDQUFDO0lBQ3BDLENBQUMsU0FBUztNQUNSUiwwQkFBMEIsR0FBRyxLQUFLO0lBQ3BDO0VBQ0YsQ0FBQztBQUNIO0FBRUEsU0FBU1Msd0JBQXdCQSxDQUFBLEVBQUc7RUFDbEMsU0FBUzs7RUFDVFIsTUFBTSxDQUFDSSxnQkFBZ0IsQ0FBQyxDQUFDO0FBQzNCO0FBRU8sSUFBTXZCLGNBQWMsR0FBQUYsT0FBQSxDQUFBRSxjQUFBLEdBQUdjLGlCQUFpQixHQUMzQyxZQUFNLENBRU4sQ0FBQyxHQUNEYSx3QkFBd0I7QUFtQnJCLFNBQVN4QixPQUFPQSxDQUNyQnlCLE9BQTJDLEVBQ2xCO0VBQ3pCLFNBQVM7O0VBQ1QsSUFBSUMsT0FBTyxJQUFJLENBQUNmLGlCQUFpQixJQUFJZ0IsUUFBUSxFQUFFO0lBQzdDLE1BQU0sSUFBSUMsS0FBSyxDQUNiLCtKQUNGLENBQUM7RUFDSDtFQUNBLElBQUlGLE9BQU8sSUFBSSxDQUFDZixpQkFBaUIsSUFBSSxDQUFDLElBQUFrQiw4QkFBaUIsRUFBQ0osT0FBTyxDQUFDLEVBQUU7SUFDaEUsTUFBTSxJQUFJRyxLQUFLLENBQUMsc0RBQXNELENBQUM7RUFDekU7RUFDQSxPQUFPLFlBQWE7SUFBQSxTQUFBRSxJQUFBLEdBQUFDLFNBQUEsQ0FBQVQsTUFBQSxFQUFUVSxJQUFJLE9BQUFDLEtBQUEsQ0FBQUgsSUFBQSxHQUFBSSxJQUFBLE1BQUFBLElBQUEsR0FBQUosSUFBQSxFQUFBSSxJQUFBO01BQUpGLElBQUksQ0FBQUUsSUFBQSxJQUFBSCxTQUFBLENBQUFHLElBQUE7SUFBQTtJQUNiLElBQUl6QixPQUFPLEVBQUU7TUFVWDBCLHlCQUFzQixDQUFDQyxZQUFZLENBQ2pDLElBQUFDLHVDQUEyQixFQUFDLFlBQU07UUFDaEMsU0FBUzs7UUFDVFosT0FBTyxDQUFBYSxLQUFBLFNBQUlOLElBQUksQ0FBQztNQUNsQixDQUFDLENBQ0gsQ0FBQztNQUNEO0lBQ0Y7SUFDQSxJQUFJTixPQUFPLEVBQUU7TUFNWCxJQUFBVyx1Q0FBMkIsRUFBQ1osT0FBTyxDQUFDO01BQ3BDLElBQUFZLHVDQUEyQixFQUFDTCxJQUFJLENBQUM7SUFDbkM7SUFDQW5CLGFBQWEsQ0FBQ00sSUFBSSxDQUFDLENBQUNNLE9BQU8sRUFBcUJPLElBQUksQ0FBQyxDQUFDO0lBQ3RELElBQUluQixhQUFhLENBQUNTLE1BQU0sS0FBSyxDQUFDLEVBQUU7TUFDOUJMLGNBQWMsQ0FBQyxZQUFNO1FBQ25CLElBQU1zQixLQUFLLEdBQUcxQixhQUFhO1FBQzNCQSxhQUFhLEdBQUcsRUFBRTtRQUNsQnNCLHlCQUFzQixDQUFDQyxZQUFZLENBQ2pDLElBQUFDLHVDQUEyQixFQUFDLFlBQU07VUFDaEMsU0FBUztVQUVURSxLQUFLLENBQUNDLE9BQU8sQ0FBQyxVQUFBQyxJQUFBLEVBQXFCO1lBQUEsSUFBQUMsS0FBQSxPQUFBdEMsZUFBQSxDQUFBdUMsT0FBQSxFQUFBRixJQUFBO2NBQW5CaEIsT0FBTyxHQUFBaUIsS0FBQTtjQUFFVixJQUFJLEdBQUFVLEtBQUE7WUFDM0JqQixPQUFPLENBQUFhLEtBQUEsYUFBQW5DLG1CQUFBLENBQUF3QyxPQUFBLEVBQUlYLElBQUksRUFBQztVQUNsQixDQUFDLENBQUM7VUFDRm5DLGNBQWMsQ0FBQyxDQUFDO1FBQ2xCLENBQUMsQ0FDSCxDQUFDO01BQ0gsQ0FBQyxDQUFDO0lBQ0o7RUFDRixDQUFDO0FBQ0g7QUFPTyxTQUFTQyxzQkFBc0JBLENBQ3BDMkIsT0FBMkMsRUFDWDtFQUNoQyxPQUFPLFlBQWE7SUFBQSxTQUFBbUIsS0FBQSxHQUFBYixTQUFBLENBQUFULE1BQUEsRUFBVFUsSUFBSSxPQUFBQyxLQUFBLENBQUFXLEtBQUEsR0FBQUMsS0FBQSxNQUFBQSxLQUFBLEdBQUFELEtBQUEsRUFBQUMsS0FBQTtNQUFKYixJQUFJLENBQUFhLEtBQUEsSUFBQWQsU0FBQSxDQUFBYyxLQUFBO0lBQUE7SUFDYixPQUFPVix5QkFBc0IsQ0FBQ3JDLHNCQUFzQixDQUNsRCxJQUFBdUMsdUNBQTJCLEVBQUMsWUFBTTtNQUNoQyxTQUFTOztNQUNULElBQU1TLE1BQU0sR0FBR3JCLE9BQU8sQ0FBQWEsS0FBQSxTQUFJTixJQUFJLENBQUM7TUFDL0IsT0FBTyxJQUFBZSwyQ0FBK0IsRUFBQ0QsTUFBTSxDQUFDO0lBQ2hELENBQUMsQ0FDSCxDQUFDO0VBQ0gsQ0FBQztBQUNIO0FBU08sU0FBUzdDLGtCQUFrQkEsQ0FDaEN3QixPQUEyQyxFQUNsQjtFQUN6QixTQUFTOztFQUNULElBQUlDLE9BQU8sSUFBSSxDQUFDZixpQkFBaUIsSUFBSWdCLFFBQVEsRUFBRTtJQUM3QyxNQUFNLElBQUlDLEtBQUssQ0FDYiwwS0FDRixDQUFDO0VBQ0g7RUFDQSxJQUFJRixPQUFPLElBQUksQ0FBQ2YsaUJBQWlCLElBQUksQ0FBQyxJQUFBa0IsOEJBQWlCLEVBQUNKLE9BQU8sQ0FBQyxFQUFFO0lBQ2hFLE1BQU0sSUFBSUcsS0FBSyxDQUNiLGlFQUNGLENBQUM7RUFDSDtFQUNBLE9BQU8sWUFBYTtJQUFBLFNBQUFvQixLQUFBLEdBQUFqQixTQUFBLENBQUFULE1BQUEsRUFBVFUsSUFBSSxPQUFBQyxLQUFBLENBQUFlLEtBQUEsR0FBQUMsS0FBQSxNQUFBQSxLQUFBLEdBQUFELEtBQUEsRUFBQUMsS0FBQTtNQUFKakIsSUFBSSxDQUFBaUIsS0FBQSxJQUFBbEIsU0FBQSxDQUFBa0IsS0FBQTtJQUFBO0lBQ2JkLHlCQUFzQixDQUFDQyxZQUFZLENBQ2pDLElBQUFDLHVDQUEyQixFQUFDLFlBQU07TUFDaEMsU0FBUzs7TUFDVFosT0FBTyxDQUFBYSxLQUFBLFNBQUlOLElBQUksQ0FBQztJQUNsQixDQUFDLENBQ0gsQ0FBQztFQUNILENBQUM7QUFDSDtBQWNBLFNBQVNrQixjQUFjQSxDQUNyQnpCLE9BQTJDLEVBRXJDO0VBQUEsU0FBQTBCLEtBQUEsR0FBQXBCLFNBQUEsQ0FBQVQsTUFBQSxFQURIVSxJQUFJLE9BQUFDLEtBQUEsQ0FBQWtCLEtBQUEsT0FBQUEsS0FBQSxXQUFBQyxLQUFBLE1BQUFBLEtBQUEsR0FBQUQsS0FBQSxFQUFBQyxLQUFBO0lBQUpwQixJQUFJLENBQUFvQixLQUFBLFFBQUFyQixTQUFBLENBQUFxQixLQUFBO0VBQUE7RUFHUDNCLE9BQU8sQ0FBQWEsS0FBQSxTQUFJTixJQUFJLENBQUM7QUFDbEI7QUFVTyxTQUFTakMsT0FBT0EsQ0FDckJzRCxHQUdzQyxFQUNiO0VBQ3pCLFNBQVM7O0VBRVQsSUFBSTFDLGlCQUFpQixJQUFJLENBQUNnQixRQUFRLEVBQUU7SUFFbEMsT0FBTztNQUFBLFNBQUEyQixLQUFBLEdBQUF2QixTQUFBLENBQUFULE1BQUEsRUFBSVUsSUFBSSxPQUFBQyxLQUFBLENBQUFxQixLQUFBLEdBQUFDLEtBQUEsTUFBQUEsS0FBQSxHQUFBRCxLQUFBLEVBQUFDLEtBQUE7UUFBSnZCLElBQUksQ0FBQXVCLEtBQUEsSUFBQXhCLFNBQUEsQ0FBQXdCLEtBQUE7TUFBQTtNQUFBLE9BQ2J0QyxjQUFjLENBQ1plLElBQUksQ0FBQ1YsTUFBTSxHQUNQO1FBQUEsT0FBTytCLEdBQUcsQ0FBQWYsS0FBQSxTQUF1Q04sSUFBSSxDQUFDO01BQUEsSUFDckRxQixHQUNQLENBQUM7SUFBQTtFQUNMO0VBQ0EsSUFBSSxJQUFBeEIsOEJBQWlCLEVBQW9Cd0IsR0FBRyxDQUFDLEVBQUU7SUFJN0MsT0FBTztNQUFBLFNBQUFHLEtBQUEsR0FBQXpCLFNBQUEsQ0FBQVQsTUFBQSxFQUFJVSxJQUFJLE9BQUFDLEtBQUEsQ0FBQXVCLEtBQUEsR0FBQUMsS0FBQSxNQUFBQSxLQUFBLEdBQUFELEtBQUEsRUFBQUMsS0FBQTtRQUFKekIsSUFBSSxDQUFBeUIsS0FBQSxJQUFBMUIsU0FBQSxDQUFBMEIsS0FBQTtNQUFBO01BQUEsT0FDYjFELE9BQU8sQ0FBQ21ELGNBQWlDLENBQUMsQ0FBQVosS0FBQSxVQUN4Q2UsR0FBRyxFQUFBSyxNQUFBLENBQ0ExQixJQUFJLENBQ1QsQ0FBQztJQUFBO0VBQ0w7RUFDQSxJQUFLcUIsR0FBRyxDQUFrQk0sZ0JBQWdCLEVBQUU7SUFLMUNOLEdBQUcsR0FBSUEsR0FBRyxDQUFrQk0sZ0JBQWdCO0VBQzlDO0VBQ0EsT0FBTyxZQUFhO0lBQUEsU0FBQUMsS0FBQSxHQUFBN0IsU0FBQSxDQUFBVCxNQUFBLEVBQVRVLElBQUksT0FBQUMsS0FBQSxDQUFBMkIsS0FBQSxHQUFBQyxLQUFBLE1BQUFBLEtBQUEsR0FBQUQsS0FBQSxFQUFBQyxLQUFBO01BQUo3QixJQUFJLENBQUE2QixLQUFBLElBQUE5QixTQUFBLENBQUE4QixLQUFBO0lBQUE7SUFDYjdDLE1BQU0sQ0FBQzhDLGFBQWEsQ0FDbEJULEdBQUcsRUFHSHJCLElBQUksQ0FBQ1YsTUFBTSxHQUFHLENBQUMsR0FFVixJQUFBeUIsMkNBQStCLEVBQUNmLElBQUksQ0FBQyxHQUN0QytCLFNBQ04sQ0FBQztFQUNILENBQUM7QUFDSCIsImlnbm9yZUxpc3QiOltdfQ==