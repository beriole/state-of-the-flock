3f870bf24ec9fbbd99abc721a3b37c09
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.maybeBuild = maybeBuild;
var mockTargetValues = {
  targetOriginX: 0,
  targetOriginY: 0,
  targetWidth: 0,
  targetHeight: 0,
  targetGlobalOriginX: 0,
  targetGlobalOriginY: 0,
  targetBorderRadius: 0,
  windowWidth: 0,
  windowHeight: 0,
  currentOriginX: 0,
  currentOriginY: 0,
  currentWidth: 0,
  currentHeight: 0,
  currentGlobalOriginX: 0,
  currentGlobalOriginY: 0,
  currentBorderRadius: 0
};
function getCommonProperties(layoutStyle, componentStyle) {
  var componentStyleFlat = Array.isArray(componentStyle) ? componentStyle.flat() : [componentStyle];
  componentStyleFlat = componentStyleFlat.filter(Boolean);
  componentStyleFlat = componentStyleFlat.map(function (style) {
    return 'initial' in style ? style.initial.value : style;
  });
  var componentStylesKeys = componentStyleFlat.flatMap(function (style) {
    return Object.keys(style);
  });
  var commonKeys = Object.keys(layoutStyle).filter(function (key) {
    return componentStylesKeys.includes(key);
  });
  return commonKeys;
}
function maybeReportOverwrittenProperties(layoutAnimationStyle, style, displayName) {
  var commonProperties = getCommonProperties(layoutAnimationStyle, style);
  if (commonProperties.length > 0) {
    console.warn(`[Reanimated] ${commonProperties.length === 1 ? 'Property' : 'Properties'} "${commonProperties.join(', ')}" of ${displayName} may be overwritten by a layout animation. Please wrap your component with an animated view and apply the layout animation on the wrapper.`);
  }
}
function maybeBuild(layoutAnimationOrBuilder, style, displayName) {
  var isAnimationBuilder = function isAnimationBuilder(value) {
    return 'build' in layoutAnimationOrBuilder && typeof layoutAnimationOrBuilder.build === 'function';
  };
  if (isAnimationBuilder(layoutAnimationOrBuilder)) {
    var animationFactory = layoutAnimationOrBuilder.build();
    if (__DEV__ && style) {
      var layoutAnimation = animationFactory(mockTargetValues);
      maybeReportOverwrittenProperties(layoutAnimation.animations, style, displayName);
    }
    return animationFactory;
  } else {
    return layoutAnimationOrBuilder;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIm1heWJlQnVpbGQiLCJtb2NrVGFyZ2V0VmFsdWVzIiwidGFyZ2V0T3JpZ2luWCIsInRhcmdldE9yaWdpblkiLCJ0YXJnZXRXaWR0aCIsInRhcmdldEhlaWdodCIsInRhcmdldEdsb2JhbE9yaWdpblgiLCJ0YXJnZXRHbG9iYWxPcmlnaW5ZIiwidGFyZ2V0Qm9yZGVyUmFkaXVzIiwid2luZG93V2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJjdXJyZW50T3JpZ2luWCIsImN1cnJlbnRPcmlnaW5ZIiwiY3VycmVudFdpZHRoIiwiY3VycmVudEhlaWdodCIsImN1cnJlbnRHbG9iYWxPcmlnaW5YIiwiY3VycmVudEdsb2JhbE9yaWdpblkiLCJjdXJyZW50Qm9yZGVyUmFkaXVzIiwiZ2V0Q29tbW9uUHJvcGVydGllcyIsImxheW91dFN0eWxlIiwiY29tcG9uZW50U3R5bGUiLCJjb21wb25lbnRTdHlsZUZsYXQiLCJBcnJheSIsImlzQXJyYXkiLCJmbGF0IiwiZmlsdGVyIiwiQm9vbGVhbiIsIm1hcCIsInN0eWxlIiwiaW5pdGlhbCIsImNvbXBvbmVudFN0eWxlc0tleXMiLCJmbGF0TWFwIiwia2V5cyIsImNvbW1vbktleXMiLCJrZXkiLCJpbmNsdWRlcyIsIm1heWJlUmVwb3J0T3ZlcndyaXR0ZW5Qcm9wZXJ0aWVzIiwibGF5b3V0QW5pbWF0aW9uU3R5bGUiLCJkaXNwbGF5TmFtZSIsImNvbW1vblByb3BlcnRpZXMiLCJsZW5ndGgiLCJjb25zb2xlIiwid2FybiIsImpvaW4iLCJsYXlvdXRBbmltYXRpb25PckJ1aWxkZXIiLCJpc0FuaW1hdGlvbkJ1aWxkZXIiLCJidWlsZCIsImFuaW1hdGlvbkZhY3RvcnkiLCJfX0RFVl9fIiwibGF5b3V0QW5pbWF0aW9uIiwiYW5pbWF0aW9ucyJdLCJzb3VyY2VzIjpbImFuaW1hdGlvbkJ1aWxkZXIudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCB0eXBlIHtcbiAgSUxheW91dEFuaW1hdGlvbkJ1aWxkZXIsXG4gIExheW91dEFuaW1hdGlvbkZ1bmN0aW9uLFxuICBMYXlvdXRBbmltYXRpb25zVmFsdWVzLFxufSBmcm9tICcuL2xheW91dFJlYW5pbWF0aW9uJztcbmltcG9ydCB0eXBlIHsgU3R5bGVQcm9wcyB9IGZyb20gJy4vY29tbW9uVHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBOZXN0ZWRBcnJheSB9IGZyb20gJy4vY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQvY29tbW9uVHlwZXMnO1xuXG5jb25zdCBtb2NrVGFyZ2V0VmFsdWVzOiBMYXlvdXRBbmltYXRpb25zVmFsdWVzID0ge1xuICB0YXJnZXRPcmlnaW5YOiAwLFxuICB0YXJnZXRPcmlnaW5ZOiAwLFxuICB0YXJnZXRXaWR0aDogMCxcbiAgdGFyZ2V0SGVpZ2h0OiAwLFxuICB0YXJnZXRHbG9iYWxPcmlnaW5YOiAwLFxuICB0YXJnZXRHbG9iYWxPcmlnaW5ZOiAwLFxuICB0YXJnZXRCb3JkZXJSYWRpdXM6IDAsXG4gIHdpbmRvd1dpZHRoOiAwLFxuICB3aW5kb3dIZWlnaHQ6IDAsXG4gIGN1cnJlbnRPcmlnaW5YOiAwLFxuICBjdXJyZW50T3JpZ2luWTogMCxcbiAgY3VycmVudFdpZHRoOiAwLFxuICBjdXJyZW50SGVpZ2h0OiAwLFxuICBjdXJyZW50R2xvYmFsT3JpZ2luWDogMCxcbiAgY3VycmVudEdsb2JhbE9yaWdpblk6IDAsXG4gIGN1cnJlbnRCb3JkZXJSYWRpdXM6IDAsXG59O1xuXG5mdW5jdGlvbiBnZXRDb21tb25Qcm9wZXJ0aWVzKFxuICBsYXlvdXRTdHlsZTogU3R5bGVQcm9wcyxcbiAgY29tcG9uZW50U3R5bGU6IFN0eWxlUHJvcHMgfCBBcnJheTxTdHlsZVByb3BzPlxuKSB7XG4gIGxldCBjb21wb25lbnRTdHlsZUZsYXQgPSBBcnJheS5pc0FycmF5KGNvbXBvbmVudFN0eWxlKVxuICAgID8gY29tcG9uZW50U3R5bGUuZmxhdCgpXG4gICAgOiBbY29tcG9uZW50U3R5bGVdO1xuXG4gIGNvbXBvbmVudFN0eWxlRmxhdCA9IGNvbXBvbmVudFN0eWxlRmxhdC5maWx0ZXIoQm9vbGVhbik7XG5cbiAgY29tcG9uZW50U3R5bGVGbGF0ID0gY29tcG9uZW50U3R5bGVGbGF0Lm1hcCgoc3R5bGUpID0+XG4gICAgJ2luaXRpYWwnIGluIHN0eWxlXG4gICAgICA/IHN0eWxlLmluaXRpYWwudmFsdWUgLy8gSW5jbHVkZSBwcm9wZXJ0aWVzIG9mIGFuaW1hdGVkIHN0eWxlXG4gICAgICA6IHN0eWxlXG4gICk7XG5cbiAgY29uc3QgY29tcG9uZW50U3R5bGVzS2V5cyA9IGNvbXBvbmVudFN0eWxlRmxhdC5mbGF0TWFwKChzdHlsZSkgPT5cbiAgICBPYmplY3Qua2V5cyhzdHlsZSlcbiAgKTtcblxuICBjb25zdCBjb21tb25LZXlzID0gT2JqZWN0LmtleXMobGF5b3V0U3R5bGUpLmZpbHRlcigoa2V5KSA9PlxuICAgIGNvbXBvbmVudFN0eWxlc0tleXMuaW5jbHVkZXMoa2V5KVxuICApO1xuXG4gIHJldHVybiBjb21tb25LZXlzO1xufVxuXG5mdW5jdGlvbiBtYXliZVJlcG9ydE92ZXJ3cml0dGVuUHJvcGVydGllcyhcbiAgbGF5b3V0QW5pbWF0aW9uU3R5bGU6IFN0eWxlUHJvcHMsXG4gIHN0eWxlOiBOZXN0ZWRBcnJheTxTdHlsZVByb3BzPixcbiAgZGlzcGxheU5hbWU6IHN0cmluZ1xuKSB7XG4gIGNvbnN0IGNvbW1vblByb3BlcnRpZXMgPSBnZXRDb21tb25Qcm9wZXJ0aWVzKGxheW91dEFuaW1hdGlvblN0eWxlLCBzdHlsZSk7XG5cbiAgaWYgKGNvbW1vblByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIGBbUmVhbmltYXRlZF0gJHtcbiAgICAgICAgY29tbW9uUHJvcGVydGllcy5sZW5ndGggPT09IDEgPyAnUHJvcGVydHknIDogJ1Byb3BlcnRpZXMnXG4gICAgICB9IFwiJHtjb21tb25Qcm9wZXJ0aWVzLmpvaW4oXG4gICAgICAgICcsICdcbiAgICAgICl9XCIgb2YgJHtkaXNwbGF5TmFtZX0gbWF5IGJlIG92ZXJ3cml0dGVuIGJ5IGEgbGF5b3V0IGFuaW1hdGlvbi4gUGxlYXNlIHdyYXAgeW91ciBjb21wb25lbnQgd2l0aCBhbiBhbmltYXRlZCB2aWV3IGFuZCBhcHBseSB0aGUgbGF5b3V0IGFuaW1hdGlvbiBvbiB0aGUgd3JhcHBlci5gXG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbWF5YmVCdWlsZChcbiAgbGF5b3V0QW5pbWF0aW9uT3JCdWlsZGVyOlxuICAgIHwgSUxheW91dEFuaW1hdGlvbkJ1aWxkZXJcbiAgICB8IExheW91dEFuaW1hdGlvbkZ1bmN0aW9uXG4gICAgfCBLZXlmcmFtZSxcbiAgc3R5bGU6IE5lc3RlZEFycmF5PFN0eWxlUHJvcHM+IHwgdW5kZWZpbmVkLFxuICBkaXNwbGF5TmFtZTogc3RyaW5nXG4pOiBMYXlvdXRBbmltYXRpb25GdW5jdGlvbiB8IEtleWZyYW1lIHtcbiAgY29uc3QgaXNBbmltYXRpb25CdWlsZGVyID0gKFxuICAgIHZhbHVlOiBJTGF5b3V0QW5pbWF0aW9uQnVpbGRlciB8IExheW91dEFuaW1hdGlvbkZ1bmN0aW9uIHwgS2V5ZnJhbWVcbiAgKTogdmFsdWUgaXMgSUxheW91dEFuaW1hdGlvbkJ1aWxkZXIgPT5cbiAgICAnYnVpbGQnIGluIGxheW91dEFuaW1hdGlvbk9yQnVpbGRlciAmJlxuICAgIHR5cGVvZiBsYXlvdXRBbmltYXRpb25PckJ1aWxkZXIuYnVpbGQgPT09ICdmdW5jdGlvbic7XG5cbiAgaWYgKGlzQW5pbWF0aW9uQnVpbGRlcihsYXlvdXRBbmltYXRpb25PckJ1aWxkZXIpKSB7XG4gICAgY29uc3QgYW5pbWF0aW9uRmFjdG9yeSA9IGxheW91dEFuaW1hdGlvbk9yQnVpbGRlci5idWlsZCgpO1xuXG4gICAgaWYgKF9fREVWX18gJiYgc3R5bGUpIHtcbiAgICAgIGNvbnN0IGxheW91dEFuaW1hdGlvbiA9IGFuaW1hdGlvbkZhY3RvcnkobW9ja1RhcmdldFZhbHVlcyk7XG4gICAgICBtYXliZVJlcG9ydE92ZXJ3cml0dGVuUHJvcGVydGllcyhcbiAgICAgICAgbGF5b3V0QW5pbWF0aW9uLmFuaW1hdGlvbnMsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICBkaXNwbGF5TmFtZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYW5pbWF0aW9uRmFjdG9yeTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGF5b3V0QW5pbWF0aW9uT3JCdWlsZGVyO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQUNBLE1BQUEsQ0FBQUMsY0FBQSxDQUFBQyxPQUFBO0VBQUFDLEtBQUE7QUFBQTtBQUFBRCxPQUFBLENBQUFFLFVBQUEsR0FBQUEsVUFBQTtBQVNiLElBQU1DLGdCQUF3QyxHQUFHO0VBQy9DQyxhQUFhLEVBQUUsQ0FBQztFQUNoQkMsYUFBYSxFQUFFLENBQUM7RUFDaEJDLFdBQVcsRUFBRSxDQUFDO0VBQ2RDLFlBQVksRUFBRSxDQUFDO0VBQ2ZDLG1CQUFtQixFQUFFLENBQUM7RUFDdEJDLG1CQUFtQixFQUFFLENBQUM7RUFDdEJDLGtCQUFrQixFQUFFLENBQUM7RUFDckJDLFdBQVcsRUFBRSxDQUFDO0VBQ2RDLFlBQVksRUFBRSxDQUFDO0VBQ2ZDLGNBQWMsRUFBRSxDQUFDO0VBQ2pCQyxjQUFjLEVBQUUsQ0FBQztFQUNqQkMsWUFBWSxFQUFFLENBQUM7RUFDZkMsYUFBYSxFQUFFLENBQUM7RUFDaEJDLG9CQUFvQixFQUFFLENBQUM7RUFDdkJDLG9CQUFvQixFQUFFLENBQUM7RUFDdkJDLG1CQUFtQixFQUFFO0FBQ3ZCLENBQUM7QUFFRCxTQUFTQyxtQkFBbUJBLENBQzFCQyxXQUF1QixFQUN2QkMsY0FBOEMsRUFDOUM7RUFDQSxJQUFJQyxrQkFBa0IsR0FBR0MsS0FBSyxDQUFDQyxPQUFPLENBQUNILGNBQWMsQ0FBQyxHQUNsREEsY0FBYyxDQUFDSSxJQUFJLENBQUMsQ0FBQyxHQUNyQixDQUFDSixjQUFjLENBQUM7RUFFcEJDLGtCQUFrQixHQUFHQSxrQkFBa0IsQ0FBQ0ksTUFBTSxDQUFDQyxPQUFPLENBQUM7RUFFdkRMLGtCQUFrQixHQUFHQSxrQkFBa0IsQ0FBQ00sR0FBRyxDQUFDLFVBQUNDLEtBQUs7SUFBQSxPQUNoRCxTQUFTLElBQUlBLEtBQUssR0FDZEEsS0FBSyxDQUFDQyxPQUFPLENBQUM5QixLQUFLLEdBQ25CNkIsS0FBSztFQUFBLENBQ1gsQ0FBQztFQUVELElBQU1FLG1CQUFtQixHQUFHVCxrQkFBa0IsQ0FBQ1UsT0FBTyxDQUFDLFVBQUNILEtBQUs7SUFBQSxPQUMzRGhDLE1BQU0sQ0FBQ29DLElBQUksQ0FBQ0osS0FBSyxDQUFDO0VBQUEsQ0FDcEIsQ0FBQztFQUVELElBQU1LLFVBQVUsR0FBR3JDLE1BQU0sQ0FBQ29DLElBQUksQ0FBQ2IsV0FBVyxDQUFDLENBQUNNLE1BQU0sQ0FBQyxVQUFDUyxHQUFHO0lBQUEsT0FDckRKLG1CQUFtQixDQUFDSyxRQUFRLENBQUNELEdBQUcsQ0FBQztFQUFBLENBQ25DLENBQUM7RUFFRCxPQUFPRCxVQUFVO0FBQ25CO0FBRUEsU0FBU0csZ0NBQWdDQSxDQUN2Q0Msb0JBQWdDLEVBQ2hDVCxLQUE4QixFQUM5QlUsV0FBbUIsRUFDbkI7RUFDQSxJQUFNQyxnQkFBZ0IsR0FBR3JCLG1CQUFtQixDQUFDbUIsb0JBQW9CLEVBQUVULEtBQUssQ0FBQztFQUV6RSxJQUFJVyxnQkFBZ0IsQ0FBQ0MsTUFBTSxHQUFHLENBQUMsRUFBRTtJQUMvQkMsT0FBTyxDQUFDQyxJQUFJLENBQ1YsZ0JBQ0VILGdCQUFnQixDQUFDQyxNQUFNLEtBQUssQ0FBQyxHQUFHLFVBQVUsR0FBRyxZQUFZLEtBQ3RERCxnQkFBZ0IsQ0FBQ0ksSUFBSSxDQUN4QixJQUNGLENBQUMsUUFBUUwsV0FBVyw0SUFDdEIsQ0FBQztFQUNIO0FBQ0Y7QUFFTyxTQUFTdEMsVUFBVUEsQ0FDeEI0Qyx3QkFHWSxFQUNaaEIsS0FBMEMsRUFDMUNVLFdBQW1CLEVBQ2lCO0VBQ3BDLElBQU1PLGtCQUFrQixHQUFHLFNBQXJCQSxrQkFBa0JBLENBQ3RCOUMsS0FBbUU7SUFBQSxPQUVuRSxPQUFPLElBQUk2Qyx3QkFBd0IsSUFDbkMsT0FBT0Esd0JBQXdCLENBQUNFLEtBQUssS0FBSyxVQUFVO0VBQUE7RUFFdEQsSUFBSUQsa0JBQWtCLENBQUNELHdCQUF3QixDQUFDLEVBQUU7SUFDaEQsSUFBTUcsZ0JBQWdCLEdBQUdILHdCQUF3QixDQUFDRSxLQUFLLENBQUMsQ0FBQztJQUV6RCxJQUFJRSxPQUFPLElBQUlwQixLQUFLLEVBQUU7TUFDcEIsSUFBTXFCLGVBQWUsR0FBR0YsZ0JBQWdCLENBQUM5QyxnQkFBZ0IsQ0FBQztNQUMxRG1DLGdDQUFnQyxDQUM5QmEsZUFBZSxDQUFDQyxVQUFVLEVBQzFCdEIsS0FBSyxFQUNMVSxXQUNGLENBQUM7SUFDSDtJQUVBLE9BQU9TLGdCQUFnQjtFQUN6QixDQUFDLE1BQU07SUFDTCxPQUFPSCx3QkFBd0I7RUFDakM7QUFDRiIsImlnbm9yZUxpc3QiOltdfQ==