557dbcfe1409c0be8d5918c94ef206a4
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));
var _RootTag = require("../ReactNative/RootTag");
var _flattenStyle = _interopRequireDefault(require("../StyleSheet/flattenStyle"));
var _StyleSheet = _interopRequireDefault(require("../StyleSheet/StyleSheet"));
var _ImageAnalyticsTagContext = _interopRequireDefault(require("./ImageAnalyticsTagContext"));
var _ImageInjection = require("./ImageInjection");
var _ImageSourceUtils = require("./ImageSourceUtils");
var _ImageUtils = require("./ImageUtils");
var _ImageViewNativeComponent = _interopRequireDefault(require("./ImageViewNativeComponent"));
var _NativeImageLoaderIOS = _interopRequireDefault(require("./NativeImageLoaderIOS"));
var _resolveAssetSource = _interopRequireDefault(require("./resolveAssetSource"));
var React = _interopRequireWildcard(require("react"));
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["aria-busy", "aria-checked", "aria-disabled", "aria-expanded", "aria-selected", "height", "src", "width"];
function _interopRequireWildcard(e, t) { if ("function" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || "object" != typeof e && "function" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) "default" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }
function getSize(uri, success, failure) {
  var promise = _NativeImageLoaderIOS.default.getSize(uri).then(function (_ref) {
    var _ref2 = (0, _slicedToArray2.default)(_ref, 2),
      width = _ref2[0],
      height = _ref2[1];
    return {
      width: width,
      height: height
    };
  });
  if (typeof success !== 'function') {
    return promise;
  }
  promise.then(function (sizes) {
    return success(sizes.width, sizes.height);
  }).catch(failure || function () {
    console.warn('Failed to get size for image: ' + uri);
  });
}
function getSizeWithHeaders(uri, headers, success, failure) {
  var promise = _NativeImageLoaderIOS.default.getSizeWithHeaders(uri, headers);
  if (typeof success !== 'function') {
    return promise;
  }
  promise.then(function (sizes) {
    return success(sizes.width, sizes.height);
  }).catch(failure || function () {
    console.warn('Failed to get size for image: ' + uri);
  });
}
function prefetchWithMetadata(url, queryRootName, rootTag) {
  if (_NativeImageLoaderIOS.default.prefetchImageWithMetadata) {
    return _NativeImageLoaderIOS.default.prefetchImageWithMetadata(url, queryRootName, rootTag != null ? rootTag : (0, _RootTag.createRootTag)(0));
  } else {
    return _NativeImageLoaderIOS.default.prefetchImage(url);
  }
}
function prefetch(url) {
  return _NativeImageLoaderIOS.default.prefetchImage(url);
}
function queryCache(_x) {
  return _queryCache.apply(this, arguments);
}
function _queryCache() {
  _queryCache = (0, _asyncToGenerator2.default)(function* (urls) {
    return _NativeImageLoaderIOS.default.queryCache(urls);
  });
  return _queryCache.apply(this, arguments);
}
var BaseImage = React.forwardRef(function (props, forwardedRef) {
  var _props$tintColor, _props$accessibilityS, _props$accessibilityS2, _props$accessibilityS3, _props$accessibilityS4, _props$accessibilityS5, _props$ariaLabel;
  var source = (0, _ImageSourceUtils.getImageSourcesFromImageProps)(props) || {
    uri: undefined,
    width: undefined,
    height: undefined
  };
  var sources;
  var style;
  if (Array.isArray(source)) {
    style = (0, _flattenStyle.default)([styles.base, props.style]) || {};
    sources = source;
  } else {
    var _source$width, _source$height;
    var uri = source.uri;
    var _width = (_source$width = source.width) != null ? _source$width : props.width;
    var _height = (_source$height = source.height) != null ? _source$height : props.height;
    style = (0, _flattenStyle.default)([{
      width: _width,
      height: _height
    }, styles.base, props.style]) || {};
    sources = [source];
    if (uri === '') {
      console.warn('source.uri should not be an empty string');
    }
  }
  var objectFit = style.objectFit != null ? (0, _ImageUtils.convertObjectFitToResizeMode)(style.objectFit) : null;
  var resizeMode = objectFit || props.resizeMode || style.resizeMode || 'cover';
  var tintColor = (_props$tintColor = props.tintColor) != null ? _props$tintColor : style.tintColor;
  if (props.children != null) {
    throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');
  }
  var ariaBusy = props['aria-busy'],
    ariaChecked = props['aria-checked'],
    ariaDisabled = props['aria-disabled'],
    ariaExpanded = props['aria-expanded'],
    ariaSelected = props['aria-selected'],
    height = props.height,
    src = props.src,
    width = props.width,
    restProps = (0, _objectWithoutProperties2.default)(props, _excluded);
  var _accessibilityState = {
    busy: ariaBusy != null ? ariaBusy : (_props$accessibilityS = props.accessibilityState) == null ? void 0 : _props$accessibilityS.busy,
    checked: ariaChecked != null ? ariaChecked : (_props$accessibilityS2 = props.accessibilityState) == null ? void 0 : _props$accessibilityS2.checked,
    disabled: ariaDisabled != null ? ariaDisabled : (_props$accessibilityS3 = props.accessibilityState) == null ? void 0 : _props$accessibilityS3.disabled,
    expanded: ariaExpanded != null ? ariaExpanded : (_props$accessibilityS4 = props.accessibilityState) == null ? void 0 : _props$accessibilityS4.expanded,
    selected: ariaSelected != null ? ariaSelected : (_props$accessibilityS5 = props.accessibilityState) == null ? void 0 : _props$accessibilityS5.selected
  };
  var accessibilityLabel = (_props$ariaLabel = props['aria-label']) != null ? _props$ariaLabel : props.accessibilityLabel;
  var actualRef = (0, _ImageInjection.useWrapRefWithImageAttachedCallbacks)(forwardedRef);
  return (0, _jsxRuntime.jsx)(_ImageAnalyticsTagContext.default.Consumer, {
    children: function children(analyticTag) {
      return (0, _jsxRuntime.jsx)(_ImageViewNativeComponent.default, Object.assign({
        accessibilityState: _accessibilityState
      }, restProps, {
        accessible: props.alt !== undefined ? true : props.accessible,
        accessibilityLabel: accessibilityLabel != null ? accessibilityLabel : props.alt,
        ref: actualRef,
        style: style,
        resizeMode: resizeMode,
        tintColor: tintColor,
        source: sources,
        internal_analyticTag: analyticTag
      }));
    }
  });
});
var imageComponentDecorator = (0, _ImageInjection.unstable_getImageComponentDecorator)();
if (imageComponentDecorator != null) {
  BaseImage = imageComponentDecorator(BaseImage);
}
var Image = BaseImage;
Image.displayName = 'Image';
Image.getSize = getSize;
Image.getSizeWithHeaders = getSizeWithHeaders;
Image.prefetch = prefetch;
Image.prefetchWithMetadata = prefetchWithMetadata;
Image.queryCache = queryCache;
Image.resolveAssetSource = _resolveAssetSource.default;
var styles = _StyleSheet.default.create({
  base: {
    overflow: 'hidden'
  }
});
module.exports = Image;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfUm9vdFRhZyIsInJlcXVpcmUiLCJfZmxhdHRlblN0eWxlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9TdHlsZVNoZWV0IiwiX0ltYWdlQW5hbHl0aWNzVGFnQ29udGV4dCIsIl9JbWFnZUluamVjdGlvbiIsIl9JbWFnZVNvdXJjZVV0aWxzIiwiX0ltYWdlVXRpbHMiLCJfSW1hZ2VWaWV3TmF0aXZlQ29tcG9uZW50IiwiX05hdGl2ZUltYWdlTG9hZGVySU9TIiwiX3Jlc29sdmVBc3NldFNvdXJjZSIsIlJlYWN0IiwiX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQiLCJfanN4UnVudGltZSIsIl9leGNsdWRlZCIsImUiLCJ0IiwiV2Vha01hcCIsInIiLCJuIiwiX19lc01vZHVsZSIsIm8iLCJpIiwiZiIsIl9fcHJvdG9fXyIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJzZXQiLCJfdCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0U2l6ZSIsInVyaSIsInN1Y2Nlc3MiLCJmYWlsdXJlIiwicHJvbWlzZSIsIk5hdGl2ZUltYWdlTG9hZGVySU9TIiwidGhlbiIsIl9yZWYiLCJfcmVmMiIsIl9zbGljZWRUb0FycmF5MiIsIndpZHRoIiwiaGVpZ2h0Iiwic2l6ZXMiLCJjYXRjaCIsImNvbnNvbGUiLCJ3YXJuIiwiZ2V0U2l6ZVdpdGhIZWFkZXJzIiwiaGVhZGVycyIsInByZWZldGNoV2l0aE1ldGFkYXRhIiwidXJsIiwicXVlcnlSb290TmFtZSIsInJvb3RUYWciLCJwcmVmZXRjaEltYWdlV2l0aE1ldGFkYXRhIiwiY3JlYXRlUm9vdFRhZyIsInByZWZldGNoSW1hZ2UiLCJwcmVmZXRjaCIsInF1ZXJ5Q2FjaGUiLCJfeCIsIl9xdWVyeUNhY2hlIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJ1cmxzIiwiQmFzZUltYWdlIiwiZm9yd2FyZFJlZiIsInByb3BzIiwiZm9yd2FyZGVkUmVmIiwiX3Byb3BzJHRpbnRDb2xvciIsIl9wcm9wcyRhY2Nlc3NpYmlsaXR5UyIsIl9wcm9wcyRhY2Nlc3NpYmlsaXR5UzIiLCJfcHJvcHMkYWNjZXNzaWJpbGl0eVMzIiwiX3Byb3BzJGFjY2Vzc2liaWxpdHlTNCIsIl9wcm9wcyRhY2Nlc3NpYmlsaXR5UzUiLCJfcHJvcHMkYXJpYUxhYmVsIiwic291cmNlIiwiZ2V0SW1hZ2VTb3VyY2VzRnJvbUltYWdlUHJvcHMiLCJ1bmRlZmluZWQiLCJzb3VyY2VzIiwic3R5bGUiLCJBcnJheSIsImlzQXJyYXkiLCJmbGF0dGVuU3R5bGUiLCJzdHlsZXMiLCJiYXNlIiwiX3NvdXJjZSR3aWR0aCIsIl9zb3VyY2UkaGVpZ2h0Iiwib2JqZWN0Rml0IiwiY29udmVydE9iamVjdEZpdFRvUmVzaXplTW9kZSIsInJlc2l6ZU1vZGUiLCJ0aW50Q29sb3IiLCJjaGlsZHJlbiIsIkVycm9yIiwiYXJpYUJ1c3kiLCJhcmlhQ2hlY2tlZCIsImFyaWFEaXNhYmxlZCIsImFyaWFFeHBhbmRlZCIsImFyaWFTZWxlY3RlZCIsInNyYyIsInJlc3RQcm9wcyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllczIiLCJfYWNjZXNzaWJpbGl0eVN0YXRlIiwiYnVzeSIsImFjY2Vzc2liaWxpdHlTdGF0ZSIsImNoZWNrZWQiLCJkaXNhYmxlZCIsImV4cGFuZGVkIiwic2VsZWN0ZWQiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJhY3R1YWxSZWYiLCJ1c2VXcmFwUmVmV2l0aEltYWdlQXR0YWNoZWRDYWxsYmFja3MiLCJqc3giLCJDb25zdW1lciIsImFuYWx5dGljVGFnIiwiYXNzaWduIiwiYWNjZXNzaWJsZSIsImFsdCIsInJlZiIsImludGVybmFsX2FuYWx5dGljVGFnIiwiaW1hZ2VDb21wb25lbnREZWNvcmF0b3IiLCJ1bnN0YWJsZV9nZXRJbWFnZUNvbXBvbmVudERlY29yYXRvciIsIkltYWdlIiwiZGlzcGxheU5hbWUiLCJyZXNvbHZlQXNzZXRTb3VyY2UiLCJTdHlsZVNoZWV0IiwiY3JlYXRlIiwib3ZlcmZsb3ciLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiSW1hZ2UuaW9zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZmxvdyBzdHJpY3QtbG9jYWxcbiAqIEBmb3JtYXRcbiAqL1xuXG5pbXBvcnQgdHlwZSB7SW1hZ2VTdHlsZSwgSW1hZ2VTdHlsZVByb3B9IGZyb20gJy4uL1N0eWxlU2hlZXQvU3R5bGVTaGVldCc7XG5pbXBvcnQgdHlwZSB7Um9vdFRhZ30gZnJvbSAnLi4vVHlwZXMvUm9vdFRhZ1R5cGVzJztcbmltcG9ydCB0eXBlIHtBYnN0cmFjdEltYWdlSU9TLCBJbWFnZUlPU30gZnJvbSAnLi9JbWFnZVR5cGVzLmZsb3cnO1xuaW1wb3J0IHR5cGUge0ltYWdlU2l6ZX0gZnJvbSAnLi9OYXRpdmVJbWFnZUxvYWRlckFuZHJvaWQnO1xuXG5pbXBvcnQge2NyZWF0ZVJvb3RUYWd9IGZyb20gJy4uL1JlYWN0TmF0aXZlL1Jvb3RUYWcnO1xuaW1wb3J0IGZsYXR0ZW5TdHlsZSBmcm9tICcuLi9TdHlsZVNoZWV0L2ZsYXR0ZW5TdHlsZSc7XG5pbXBvcnQgU3R5bGVTaGVldCBmcm9tICcuLi9TdHlsZVNoZWV0L1N0eWxlU2hlZXQnO1xuaW1wb3J0IEltYWdlQW5hbHl0aWNzVGFnQ29udGV4dCBmcm9tICcuL0ltYWdlQW5hbHl0aWNzVGFnQ29udGV4dCc7XG5pbXBvcnQge1xuICB1bnN0YWJsZV9nZXRJbWFnZUNvbXBvbmVudERlY29yYXRvcixcbiAgdXNlV3JhcFJlZldpdGhJbWFnZUF0dGFjaGVkQ2FsbGJhY2tzLFxufSBmcm9tICcuL0ltYWdlSW5qZWN0aW9uJztcbmltcG9ydCB7Z2V0SW1hZ2VTb3VyY2VzRnJvbUltYWdlUHJvcHN9IGZyb20gJy4vSW1hZ2VTb3VyY2VVdGlscyc7XG5pbXBvcnQge2NvbnZlcnRPYmplY3RGaXRUb1Jlc2l6ZU1vZGV9IGZyb20gJy4vSW1hZ2VVdGlscyc7XG5pbXBvcnQgSW1hZ2VWaWV3TmF0aXZlQ29tcG9uZW50IGZyb20gJy4vSW1hZ2VWaWV3TmF0aXZlQ29tcG9uZW50JztcbmltcG9ydCBOYXRpdmVJbWFnZUxvYWRlcklPUyBmcm9tICcuL05hdGl2ZUltYWdlTG9hZGVySU9TJztcbmltcG9ydCByZXNvbHZlQXNzZXRTb3VyY2UgZnJvbSAnLi9yZXNvbHZlQXNzZXRTb3VyY2UnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBnZXRTaXplKFxuICB1cmk6IHN0cmluZyxcbiAgc3VjY2Vzcz86ICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4gdm9pZCxcbiAgZmFpbHVyZT86IChlcnJvcjogbWl4ZWQpID0+IHZvaWQsXG4pOiB2b2lkIHwgUHJvbWlzZTxJbWFnZVNpemU+IHtcbiAgY29uc3QgcHJvbWlzZSA9IE5hdGl2ZUltYWdlTG9hZGVySU9TLmdldFNpemUodXJpKS50aGVuKChbd2lkdGgsIGhlaWdodF0pID0+ICh7XG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICB9KSk7XG4gIGlmICh0eXBlb2Ygc3VjY2VzcyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG4gIHByb21pc2VcbiAgICAudGhlbihzaXplcyA9PiBzdWNjZXNzKHNpemVzLndpZHRoLCBzaXplcy5oZWlnaHQpKVxuICAgIC5jYXRjaChcbiAgICAgIGZhaWx1cmUgfHxcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGdldCBzaXplIGZvciBpbWFnZTogJyArIHVyaSk7XG4gICAgICAgIH0sXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0U2l6ZVdpdGhIZWFkZXJzKFxuICB1cmk6IHN0cmluZyxcbiAgaGVhZGVyczoge1tzdHJpbmddOiBzdHJpbmcsIC4uLn0sXG4gIHN1Y2Nlc3M/OiAod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHZvaWQsXG4gIGZhaWx1cmU/OiAoZXJyb3I6IG1peGVkKSA9PiB2b2lkLFxuKTogdm9pZCB8IFByb21pc2U8SW1hZ2VTaXplPiB7XG4gIGNvbnN0IHByb21pc2UgPSBOYXRpdmVJbWFnZUxvYWRlcklPUy5nZXRTaXplV2l0aEhlYWRlcnModXJpLCBoZWFkZXJzKTtcbiAgaWYgKHR5cGVvZiBzdWNjZXNzICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbiAgcHJvbWlzZVxuICAgIC50aGVuKHNpemVzID0+IHN1Y2Nlc3Moc2l6ZXMud2lkdGgsIHNpemVzLmhlaWdodCkpXG4gICAgLmNhdGNoKFxuICAgICAgZmFpbHVyZSB8fFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gZ2V0IHNpemUgZm9yIGltYWdlOiAnICsgdXJpKTtcbiAgICAgICAgfSxcbiAgICApO1xufVxuXG5mdW5jdGlvbiBwcmVmZXRjaFdpdGhNZXRhZGF0YShcbiAgdXJsOiBzdHJpbmcsXG4gIHF1ZXJ5Um9vdE5hbWU6IHN0cmluZyxcbiAgcm9vdFRhZz86ID9Sb290VGFnLFxuKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGlmIChOYXRpdmVJbWFnZUxvYWRlcklPUy5wcmVmZXRjaEltYWdlV2l0aE1ldGFkYXRhKSB7XG4gICAgLy8gbnVtYmVyIHBhcmFtcyBsaWtlIHJvb3RUYWcgY2Fubm90IGJlIG51bGxhYmxlIGJlZm9yZSBUdXJib01vZHVsZXMgaXMgYXZhaWxhYmxlXG4gICAgcmV0dXJuIE5hdGl2ZUltYWdlTG9hZGVySU9TLnByZWZldGNoSW1hZ2VXaXRoTWV0YWRhdGEoXG4gICAgICB1cmwsXG4gICAgICBxdWVyeVJvb3ROYW1lLFxuICAgICAgLy8gTk9URTogUm9vdFRhZyB0eXBlXG4gICAgICByb290VGFnICE9IG51bGwgPyByb290VGFnIDogY3JlYXRlUm9vdFRhZygwKSxcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBOYXRpdmVJbWFnZUxvYWRlcklPUy5wcmVmZXRjaEltYWdlKHVybCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlZmV0Y2godXJsOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIE5hdGl2ZUltYWdlTG9hZGVySU9TLnByZWZldGNoSW1hZ2UodXJsKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcXVlcnlDYWNoZShcbiAgdXJsczogQXJyYXk8c3RyaW5nPixcbik6IFByb21pc2U8e1tzdHJpbmddOiAnbWVtb3J5JyB8ICdkaXNrJyB8ICdkaXNrL21lbW9yeScsIC4uLn0+IHtcbiAgcmV0dXJuIE5hdGl2ZUltYWdlTG9hZGVySU9TLnF1ZXJ5Q2FjaGUodXJscyk7XG59XG5cbi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgZm9yIGRpc3BsYXlpbmcgZGlmZmVyZW50IHR5cGVzIG9mIGltYWdlcyxcbiAqIGluY2x1ZGluZyBuZXR3b3JrIGltYWdlcywgc3RhdGljIHJlc291cmNlcywgdGVtcG9yYXJ5IGxvY2FsIGltYWdlcywgYW5kXG4gKiBpbWFnZXMgZnJvbSBsb2NhbCBkaXNrLCBzdWNoIGFzIHRoZSBjYW1lcmEgcm9sbC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9pbWFnZVxuICovXG5sZXQgQmFzZUltYWdlOiBBYnN0cmFjdEltYWdlSU9TID0gUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCBzb3VyY2UgPSBnZXRJbWFnZVNvdXJjZXNGcm9tSW1hZ2VQcm9wcyhwcm9wcykgfHwge1xuICAgIHVyaTogdW5kZWZpbmVkLFxuICAgIHdpZHRoOiB1bmRlZmluZWQsXG4gICAgaGVpZ2h0OiB1bmRlZmluZWQsXG4gIH07XG5cbiAgbGV0IHNvdXJjZXM7XG4gIGxldCBzdHlsZTogSW1hZ2VTdHlsZTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgc3R5bGUgPVxuICAgICAgZmxhdHRlblN0eWxlPEltYWdlU3R5bGVQcm9wPihbc3R5bGVzLmJhc2UsIHByb3BzLnN0eWxlXSkgfHxcbiAgICAgICh7fTogSW1hZ2VTdHlsZSk7XG4gICAgc291cmNlcyA9IHNvdXJjZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCB7dXJpfSA9IHNvdXJjZTtcbiAgICBjb25zdCB3aWR0aCA9IHNvdXJjZS53aWR0aCA/PyBwcm9wcy53aWR0aDtcbiAgICBjb25zdCBoZWlnaHQgPSBzb3VyY2UuaGVpZ2h0ID8/IHByb3BzLmhlaWdodDtcbiAgICBzdHlsZSA9XG4gICAgICBmbGF0dGVuU3R5bGU8SW1hZ2VTdHlsZVByb3A+KFtcbiAgICAgICAge3dpZHRoLCBoZWlnaHR9LFxuICAgICAgICBzdHlsZXMuYmFzZSxcbiAgICAgICAgcHJvcHMuc3R5bGUsXG4gICAgICBdKSB8fCAoe306IEltYWdlU3R5bGUpO1xuICAgIHNvdXJjZXMgPSBbc291cmNlXTtcblxuICAgIGlmICh1cmkgPT09ICcnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ3NvdXJjZS51cmkgc2hvdWxkIG5vdCBiZSBhbiBlbXB0eSBzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBvYmplY3RGaXQgPVxuICAgIHN0eWxlLm9iamVjdEZpdCAhPSBudWxsXG4gICAgICA/IGNvbnZlcnRPYmplY3RGaXRUb1Jlc2l6ZU1vZGUoc3R5bGUub2JqZWN0Rml0KVxuICAgICAgOiBudWxsO1xuICBjb25zdCByZXNpemVNb2RlID1cbiAgICBvYmplY3RGaXQgfHwgcHJvcHMucmVzaXplTW9kZSB8fCBzdHlsZS5yZXNpemVNb2RlIHx8ICdjb3Zlcic7XG4gIGNvbnN0IHRpbnRDb2xvciA9IHByb3BzLnRpbnRDb2xvciA/PyBzdHlsZS50aW50Q29sb3I7XG5cbiAgaWYgKHByb3BzLmNoaWxkcmVuICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnVGhlIDxJbWFnZT4gY29tcG9uZW50IGNhbm5vdCBjb250YWluIGNoaWxkcmVuLiBJZiB5b3Ugd2FudCB0byByZW5kZXIgY29udGVudCBvbiB0b3Agb2YgdGhlIGltYWdlLCBjb25zaWRlciB1c2luZyB0aGUgPEltYWdlQmFja2dyb3VuZD4gY29tcG9uZW50IG9yIGFic29sdXRlIHBvc2l0aW9uaW5nLicsXG4gICAgKTtcbiAgfVxuICBjb25zdCB7XG4gICAgJ2FyaWEtYnVzeSc6IGFyaWFCdXN5LFxuICAgICdhcmlhLWNoZWNrZWQnOiBhcmlhQ2hlY2tlZCxcbiAgICAnYXJpYS1kaXNhYmxlZCc6IGFyaWFEaXNhYmxlZCxcbiAgICAnYXJpYS1leHBhbmRlZCc6IGFyaWFFeHBhbmRlZCxcbiAgICAnYXJpYS1zZWxlY3RlZCc6IGFyaWFTZWxlY3RlZCxcbiAgICBoZWlnaHQsXG4gICAgc3JjLFxuICAgIHdpZHRoLFxuICAgIC4uLnJlc3RQcm9wc1xuICB9ID0gcHJvcHM7XG5cbiAgY29uc3QgX2FjY2Vzc2liaWxpdHlTdGF0ZSA9IHtcbiAgICBidXN5OiBhcmlhQnVzeSA/PyBwcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGU/LmJ1c3ksXG4gICAgY2hlY2tlZDogYXJpYUNoZWNrZWQgPz8gcHJvcHMuYWNjZXNzaWJpbGl0eVN0YXRlPy5jaGVja2VkLFxuICAgIGRpc2FibGVkOiBhcmlhRGlzYWJsZWQgPz8gcHJvcHMuYWNjZXNzaWJpbGl0eVN0YXRlPy5kaXNhYmxlZCxcbiAgICBleHBhbmRlZDogYXJpYUV4cGFuZGVkID8/IHByb3BzLmFjY2Vzc2liaWxpdHlTdGF0ZT8uZXhwYW5kZWQsXG4gICAgc2VsZWN0ZWQ6IGFyaWFTZWxlY3RlZCA/PyBwcm9wcy5hY2Nlc3NpYmlsaXR5U3RhdGU/LnNlbGVjdGVkLFxuICB9O1xuICBjb25zdCBhY2Nlc3NpYmlsaXR5TGFiZWwgPSBwcm9wc1snYXJpYS1sYWJlbCddID8/IHByb3BzLmFjY2Vzc2liaWxpdHlMYWJlbDtcblxuICBjb25zdCBhY3R1YWxSZWYgPSB1c2VXcmFwUmVmV2l0aEltYWdlQXR0YWNoZWRDYWxsYmFja3MoZm9yd2FyZGVkUmVmKTtcblxuICByZXR1cm4gKFxuICAgIDxJbWFnZUFuYWx5dGljc1RhZ0NvbnRleHQuQ29uc3VtZXI+XG4gICAgICB7YW5hbHl0aWNUYWcgPT4ge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxJbWFnZVZpZXdOYXRpdmVDb21wb25lbnRcbiAgICAgICAgICAgIGFjY2Vzc2liaWxpdHlTdGF0ZT17X2FjY2Vzc2liaWxpdHlTdGF0ZX1cbiAgICAgICAgICAgIHsuLi5yZXN0UHJvcHN9XG4gICAgICAgICAgICBhY2Nlc3NpYmxlPXtwcm9wcy5hbHQgIT09IHVuZGVmaW5lZCA/IHRydWUgOiBwcm9wcy5hY2Nlc3NpYmxlfVxuICAgICAgICAgICAgYWNjZXNzaWJpbGl0eUxhYmVsPXthY2Nlc3NpYmlsaXR5TGFiZWwgPz8gcHJvcHMuYWx0fVxuICAgICAgICAgICAgcmVmPXthY3R1YWxSZWZ9XG4gICAgICAgICAgICBzdHlsZT17c3R5bGV9XG4gICAgICAgICAgICByZXNpemVNb2RlPXtyZXNpemVNb2RlfVxuICAgICAgICAgICAgdGludENvbG9yPXt0aW50Q29sb3J9XG4gICAgICAgICAgICBzb3VyY2U9e3NvdXJjZXN9XG4gICAgICAgICAgICBpbnRlcm5hbF9hbmFseXRpY1RhZz17YW5hbHl0aWNUYWd9XG4gICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICAgIH19XG4gICAgPC9JbWFnZUFuYWx5dGljc1RhZ0NvbnRleHQuQ29uc3VtZXI+XG4gICk7XG59KTtcblxuY29uc3QgaW1hZ2VDb21wb25lbnREZWNvcmF0b3IgPSB1bnN0YWJsZV9nZXRJbWFnZUNvbXBvbmVudERlY29yYXRvcigpO1xuaWYgKGltYWdlQ29tcG9uZW50RGVjb3JhdG9yICE9IG51bGwpIHtcbiAgQmFzZUltYWdlID0gaW1hZ2VDb21wb25lbnREZWNvcmF0b3IoQmFzZUltYWdlKTtcbn1cblxuLy8gJEZsb3dFeHBlY3RlZEVycm9yW2luY29tcGF0aWJsZS10eXBlXSBFdmVudHVhbGx5IHdlIG5lZWQgdG8gbW92ZSB0aGVzZSBmdW5jdGlvbnMgZnJvbSBzdGF0aWNzIG9mIHRoZSBjb21wb25lbnQgdG8gZXhwb3J0cyBpbiB0aGUgbW9kdWxlLlxuY29uc3QgSW1hZ2U6IEltYWdlSU9TID0gQmFzZUltYWdlO1xuXG5JbWFnZS5kaXNwbGF5TmFtZSA9ICdJbWFnZSc7XG5cbi8qKlxuICogUmV0cmlldmUgdGhlIHdpZHRoIGFuZCBoZWlnaHQgKGluIHBpeGVscykgb2YgYW4gaW1hZ2UgcHJpb3IgdG8gZGlzcGxheWluZyBpdC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9pbWFnZSNnZXRzaXplXG4gKi9cbi8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXVzZV0gVGhpcyBwcm9wZXJ0eSBpc24ndCB3cml0YWJsZSBidXQgd2UncmUgYWN0dWFsbHkgZGVmaW5pbmcgaXQgaGVyZSBmb3IgdGhlIGZpcnN0IHRpbWUuXG5JbWFnZS5nZXRTaXplID0gZ2V0U2l6ZTtcblxuLyoqXG4gKiBSZXRyaWV2ZSB0aGUgd2lkdGggYW5kIGhlaWdodCAoaW4gcGl4ZWxzKSBvZiBhbiBpbWFnZSBwcmlvciB0byBkaXNwbGF5aW5nIGl0XG4gKiB3aXRoIHRoZSBhYmlsaXR5IHRvIHByb3ZpZGUgdGhlIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0LlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ltYWdlI2dldHNpemV3aXRoaGVhZGVyc1xuICovXG4vLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdIFRoaXMgcHJvcGVydHkgaXNuJ3Qgd3JpdGFibGUgYnV0IHdlJ3JlIGFjdHVhbGx5IGRlZmluaW5nIGl0IGhlcmUgZm9yIHRoZSBmaXJzdCB0aW1lLlxuSW1hZ2UuZ2V0U2l6ZVdpdGhIZWFkZXJzID0gZ2V0U2l6ZVdpdGhIZWFkZXJzO1xuXG4vKipcbiAqIFByZWZldGNoZXMgYSByZW1vdGUgaW1hZ2UgZm9yIGxhdGVyIHVzZSBieSBkb3dubG9hZGluZyBpdCB0byB0aGUgZGlza1xuICogY2FjaGUuXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvaW1hZ2UjcHJlZmV0Y2hcbiAqL1xuLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdXNlXSBUaGlzIHByb3BlcnR5IGlzbid0IHdyaXRhYmxlIGJ1dCB3ZSdyZSBhY3R1YWxseSBkZWZpbmluZyBpdCBoZXJlIGZvciB0aGUgZmlyc3QgdGltZS5cbkltYWdlLnByZWZldGNoID0gcHJlZmV0Y2g7XG5cbi8qKlxuICogUHJlZmV0Y2hlcyBhIHJlbW90ZSBpbWFnZSBmb3IgbGF0ZXIgdXNlIGJ5IGRvd25sb2FkaW5nIGl0IHRvIHRoZSBkaXNrXG4gKiBjYWNoZSwgYW5kIGFkZHMgbWV0YWRhdGEgZm9yIHF1ZXJ5Um9vdE5hbWUgYW5kIHJvb3RUYWcuXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvaW1hZ2UjcHJlZmV0Y2hcbiAqL1xuLy8gJEZsb3dGaXhNZVtpbmNvbXBhdGlibGUtdXNlXSBUaGlzIHByb3BlcnR5IGlzbid0IHdyaXRhYmxlIGJ1dCB3ZSdyZSBhY3R1YWxseSBkZWZpbmluZyBpdCBoZXJlIGZvciB0aGUgZmlyc3QgdGltZS5cbkltYWdlLnByZWZldGNoV2l0aE1ldGFkYXRhID0gcHJlZmV0Y2hXaXRoTWV0YWRhdGE7XG5cbi8qKlxuICogUGVyZm9ybXMgY2FjaGUgaW50ZXJyb2dhdGlvbi5cbiAqXG4gKiAgU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvaW1hZ2UjcXVlcnljYWNoZVxuICovXG4vLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdIFRoaXMgcHJvcGVydHkgaXNuJ3Qgd3JpdGFibGUgYnV0IHdlJ3JlIGFjdHVhbGx5IGRlZmluaW5nIGl0IGhlcmUgZm9yIHRoZSBmaXJzdCB0aW1lLlxuSW1hZ2UucXVlcnlDYWNoZSA9IHF1ZXJ5Q2FjaGU7XG5cbi8qKlxuICogUmVzb2x2ZXMgYW4gYXNzZXQgcmVmZXJlbmNlIGludG8gYW4gb2JqZWN0LlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2ltYWdlI3Jlc29sdmVhc3NldHNvdXJjZVxuICovXG4vLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS11c2VdIFRoaXMgcHJvcGVydHkgaXNuJ3Qgd3JpdGFibGUgYnV0IHdlJ3JlIGFjdHVhbGx5IGRlZmluaW5nIGl0IGhlcmUgZm9yIHRoZSBmaXJzdCB0aW1lLlxuSW1hZ2UucmVzb2x2ZUFzc2V0U291cmNlID0gcmVzb2x2ZUFzc2V0U291cmNlO1xuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIGJhc2U6IHtcbiAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIH0sXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbWFnZTtcbiJdLCJtYXBwaW5ncyI6Ijs7OztBQWVBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFHLFdBQUEsR0FBQUQsc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFJLHlCQUFBLEdBQUFGLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBSyxlQUFBLEdBQUFMLE9BQUE7QUFJQSxJQUFBTSxpQkFBQSxHQUFBTixPQUFBO0FBQ0EsSUFBQU8sV0FBQSxHQUFBUCxPQUFBO0FBQ0EsSUFBQVEseUJBQUEsR0FBQU4sc0JBQUEsQ0FBQUYsT0FBQTtBQUNBLElBQUFTLHFCQUFBLEdBQUFQLHNCQUFBLENBQUFGLE9BQUE7QUFDQSxJQUFBVSxtQkFBQSxHQUFBUixzQkFBQSxDQUFBRixPQUFBO0FBQ0EsSUFBQVcsS0FBQSxH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