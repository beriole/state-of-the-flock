{"version":3,"names":["_reactNative","require","_react","_interopRequireWildcard","_native","_reactNativeGestureHandler","_reactNativeToastMessage","_interopRequireDefault","_config","_axios","_jsxRuntime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","Login","Navigation","useNavigation","_useState","useState","_useState2","_slicedToArray2","Email","setEmail","_useState3","_useState4","Password","setPassword","_useState5","_useState6","message","setMessage","_useState7","_useState8","loading","setLoading","handlerLog","_ref","_asyncToGenerator2","res","axios","post","API_BASE_URL","email","motDePasse","console","log","data","status","Toast","show","type","text1","text2","position","visibilityTime","onHide","navigate","error","apply","arguments","jsx","SafeAreaView","style","flex","children","ScrollView","contentContainerStyle","flexGrow","showsVerticalScrollIndicator","jsxs","ImageBackground","source","justifyContent","alignItems","width","height","resizeMode","View","top","bottom","left","right","backgroundColor","opacity","flexDirection","gap","Image","Text","fontSize","fontWeight","color","textAlign","TextInput","placeholder","borderRadius","marginTop","paddingLeft","placeholderTextColor","keyboardType","value","onChangeText","secureTextEntry","onPress","marginLeft","TouchableOpacity","padding","textDecorationStyle","textDecorationLine"],"sources":["Login.js"],"sourcesContent":["import { View, Text, SafeAreaView, Image, ImageBackground, Button, TouchableOpacity, TextInput } from 'react-native'\r\nimport React, { useState } from 'react'\r\nimport { useNavigation } from '@react-navigation/native'\r\nimport { ScrollView } from 'react-native-gesture-handler';\r\nimport Toast from \"react-native-toast-message\";\r\nimport API_BASE_URL from '../../utils/config';\r\nimport axios from 'axios';\r\nexport default function Login() {\r\n  const Navigation=useNavigation();\r\n  const [Email,setEmail]=useState(\"\");\r\n  const [Password,setPassword]=useState(\"\");\r\n  const [message,setMessage]=useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const handlerLog= async ()=>{\r\n     if (loading) return;\r\n       setLoading(true);\r\n        try {\r\n          const res= await axios.post(`${API_BASE_URL}/auth/login`,{\r\n              email: Email,\r\n              motDePasse: Password\r\n          });\r\n         console.log(\"R√©ponse du serveur :\", res.data); \r\n          if(res.status===200){\r\n             setMessage(res.data.message);\r\n               Toast.show({\r\n                type: \"success\",\r\n                text1: \"Succ√®s üéâ\",\r\n                text2: \"Inscription r√©ussie\",\r\n                position: \"bottom\",\r\n                visibilityTime: 2000 ,\r\n                onHide:()=>{ Navigation.navigate(\"Menu\")}\r\n              });\r\n            \r\n          }else{\r\n               setMessage(res.data.message);\r\n               Toast.show({\r\n                type: \"error\",\r\n                text1: \"echecs\",\r\n                text2: \"mot de passe ou nom d'utilisateur erron√©\",\r\n                position: \"bottom\",\r\n                visibilityTime: 2000 \r\n              });\r\n          }\r\n        } catch (error) {\r\n               \r\n                Toast.show({\r\n                type: \"error\",\r\n                text1: \"echecs\",\r\n                text2: \"erreur serveur\",\r\n                 position: \"bottom\",\r\n                visibilityTime: 2000 \r\n              });\r\n        }finally{\r\n          setLoading(false);\r\n        }\r\n  }\r\n  return (\r\n    <SafeAreaView style={{flex:1}}>\r\n        <ScrollView contentContainerStyle={{flexGrow:1}} showsVerticalScrollIndicator={false}>\r\n              <ImageBackground source={require('../../assets/images/Bgs.png')} style={{flex:1,justifyContent:'center',alignItems:'center', width:\"100%\",height:\"100%\"} }resizeMode='cover'>\r\n                <View style={{position:'absolute',top:0,bottom:0,left:0,right:0,width:'100%',backgroundColor:'black',opacity:0.8}}></View>\r\n                  \r\n              <View style={{flexDirection:'column',justifyContent:'center',alignItems:'center',gap:20}}>\r\n                  <Image source={require('../../assets/logo/icon-512.png')} style={{width:100,height:100}} />\r\n                  <Text style={{fontSize:30,fontWeight:'bold',color:'white'}} > Connexion</Text>\r\n                  <Text style={{color:'#CCC',textAlign:'center',width:300}}>Rassurer vous d'entrer les bonnes informations de connexion car un email ou mot de passe rater de trop peu entrainer le blocage de votre compte</Text>\r\n\r\n                  <View>\r\n                      <Text style={{color:'white',fontWeight:'bold'}}>Email</Text>\r\n                      <TextInput placeholder='Entrer votre email' style={{width:300,backgroundColor:'#ccc',borderRadius:20,marginTop:10, paddingLeft:20,color:'black'}} placeholderTextColor='black' keyboardType='email-address' value={Email} onChangeText={setEmail}/>\r\n                  </View>\r\n                  <View>\r\n                      <Text  style={{color:'white',fontWeight:'bold'}}>Mot de passe</Text>\r\n                      <TextInput placeholder='Entrer votre mot de passe' style={{width:300,backgroundColor:'#ccc',borderRadius:20,marginTop:10,paddingLeft:20, color:'black'}} placeholderTextColor='black' secureTextEntry={true} value={Password} onChangeText={setPassword} />\r\n                  </View>\r\n                  \r\n              </View>\r\n              <View style={{ flexDirection:'row',alignItems:'center',justifyContent:'space-between', marginTop:12}}>\r\n\r\n                <Text onPress={()=>Navigation.navigate('Forgot')} style={{color:'#1fd641b8',textAlign:'right', marginLeft:19,fontWeight:'bold',marginLeft:115}}> mot de passe oublie?</Text>\r\n              </View>\r\n              <View style={{justifyContent:'center',alignItems:'center'}}>\r\n                      <TouchableOpacity onPress={handlerLog}  style={{backgroundColor:'#2B4794',padding:15,borderRadius:15,width:300,justifyContent:'center',alignItems:'center',marginTop:25}}>\r\n                        <Text style={{color:'white',fontSize:20}}> Se connecter</Text>\r\n                      </TouchableOpacity>\r\n                 <Text style={{marginTop:12,color:'white',fontWeight:'bold'}}>\r\n                  pas de compte? <Text onPress={()=>Navigation.navigate('Register')} style={{color:'green',fontWeight:'bold', textDecorationStyle:'solid',textDecorationLine:'underline'}}>Inscrivez-vous </Text>\r\n                </Text>\r\n              </View>\r\n              \r\n              </ImageBackground>\r\n        </ScrollView>\r\n    </SafeAreaView>\r\n  )\r\n}"],"mappings":";;;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAC,uBAAA,CAAAF,OAAA;AACA,IAAAG,OAAA,GAAAH,OAAA;AACA,IAAAI,0BAAA,GAAAJ,OAAA;AACA,IAAAK,wBAAA,GAAAC,sBAAA,CAAAN,OAAA;AACA,IAAAO,OAAA,GAAAD,sBAAA,CAAAN,OAAA;AACA,IAAAQ,MAAA,GAAAF,sBAAA,CAAAN,OAAA;AAA0B,IAAAS,WAAA,GAAAT,OAAA;AAAA,SAAAE,wBAAAQ,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAV,uBAAA,YAAAA,wBAAAQ,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,QAAAC,OAAA,EAAAV,CAAA,iBAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,cAAAM,EAAA,IAAAd,CAAA,gBAAAc,EAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,EAAA,OAAAP,CAAA,IAAAD,CAAA,GAAAW,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAnB,CAAA,EAAAc,EAAA,OAAAP,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAM,EAAA,EAAAP,CAAA,IAAAC,CAAA,CAAAM,EAAA,IAAAd,CAAA,CAAAc,EAAA,WAAAN,CAAA,KAAAR,CAAA,EAAAC,CAAA;AACX,SAASmB,KAAKA,CAAA,EAAG;EAC9B,IAAMC,UAAU,GAAC,IAAAC,qBAAa,EAAC,CAAC;EAChC,IAAAC,SAAA,GAAuB,IAAAC,eAAQ,EAAC,EAAE,CAAC;IAAAC,UAAA,OAAAC,eAAA,CAAAhB,OAAA,EAAAa,SAAA;IAA5BI,KAAK,GAAAF,UAAA;IAACG,QAAQ,GAAAH,UAAA;EACrB,IAAAI,UAAA,GAA6B,IAAAL,eAAQ,EAAC,EAAE,CAAC;IAAAM,UAAA,OAAAJ,eAAA,CAAAhB,OAAA,EAAAmB,UAAA;IAAlCE,QAAQ,GAAAD,UAAA;IAACE,WAAW,GAAAF,UAAA;EAC3B,IAAAG,UAAA,GAA2B,IAAAT,eAAQ,EAAC,EAAE,CAAC;IAAAU,UAAA,OAAAR,eAAA,CAAAhB,OAAA,EAAAuB,UAAA;IAAhCE,OAAO,GAAAD,UAAA;IAACE,UAAU,GAAAF,UAAA;EACzB,IAAAG,UAAA,GAA8B,IAAAb,eAAQ,EAAC,KAAK,CAAC;IAAAc,UAAA,OAAAZ,eAAA,CAAAhB,OAAA,EAAA2B,UAAA;IAAtCE,OAAO,GAAAD,UAAA;IAAEE,UAAU,GAAAF,UAAA;EAC1B,IAAMG,UAAU;IAAA,IAAAC,IAAA,OAAAC,kBAAA,CAAAjC,OAAA,EAAE,aAAU;MACzB,IAAI6B,OAAO,EAAE;MACXC,UAAU,CAAC,IAAI,CAAC;MACf,IAAI;QACF,IAAMI,GAAG,SAAQC,cAAK,CAACC,IAAI,CAAC,GAAGC,eAAY,aAAa,EAAC;UACrDC,KAAK,EAAErB,KAAK;UACZsB,UAAU,EAAElB;QAChB,CAAC,CAAC;QACHmB,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEP,GAAG,CAACQ,IAAI,CAAC;QAC5C,IAAGR,GAAG,CAACS,MAAM,KAAG,GAAG,EAAC;UACjBjB,UAAU,CAACQ,GAAG,CAACQ,IAAI,CAACjB,OAAO,CAAC;UAC1BmB,gCAAK,CAACC,IAAI,CAAC;YACVC,IAAI,EAAE,SAAS;YACfC,KAAK,EAAE,WAAW;YAClBC,KAAK,EAAE,qBAAqB;YAC5BC,QAAQ,EAAE,QAAQ;YAClBC,cAAc,EAAE,IAAI;YACpBC,MAAM,EAAC,SAAPA,MAAMA,CAAA,EAAK;cAAExC,UAAU,CAACyC,QAAQ,CAAC,MAAM,CAAC;YAAA;UAC1C,CAAC,CAAC;QAEN,CAAC,MAAI;UACA1B,UAAU,CAACQ,GAAG,CAACQ,IAAI,CAACjB,OAAO,CAAC;UAC5BmB,gCAAK,CAACC,IAAI,CAAC;YACVC,IAAI,EAAE,OAAO;YACbC,KAAK,EAAE,QAAQ;YACfC,KAAK,EAAE,0CAA0C;YACjDC,QAAQ,EAAE,QAAQ;YAClBC,cAAc,EAAE;UAClB,CAAC,CAAC;QACN;MACF,CAAC,CAAC,OAAOG,KAAK,EAAE;QAERT,gCAAK,CAACC,IAAI,CAAC;UACXC,IAAI,EAAE,OAAO;UACbC,KAAK,EAAE,QAAQ;UACfC,KAAK,EAAE,gBAAgB;UACtBC,QAAQ,EAAE,QAAQ;UACnBC,cAAc,EAAE;QAClB,CAAC,CAAC;MACR,CAAC,SAAO;QACNpB,UAAU,CAAC,KAAK,CAAC;MACnB;IACN,CAAC;IAAA,gBA1CKC,UAAUA,CAAA;MAAA,OAAAC,IAAA,CAAAsB,KAAA,OAAAC,SAAA;IAAA;EAAA,GA0Cf;EACD,OACE,IAAAlE,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAA8E,YAAY;IAACC,KAAK,EAAE;MAACC,IAAI,EAAC;IAAC,CAAE;IAAAC,QAAA,EAC1B,IAAAvE,WAAA,CAAAmE,GAAA,EAACxE,0BAAA,CAAA6E,UAAU;MAACC,qBAAqB,EAAE;QAACC,QAAQ,EAAC;MAAC,CAAE;MAACC,4BAA4B,EAAE,KAAM;MAAAJ,QAAA,EAC/E,IAAAvE,WAAA,CAAA4E,IAAA,EAACtF,YAAA,CAAAuF,eAAe;QAACC,MAAM,EAAEvF,OAAO,CAAC,6BAA6B,CAAE;QAAC8E,KAAK,EAAE;UAACC,IAAI,EAAC,CAAC;UAACS,cAAc,EAAC,QAAQ;UAACC,UAAU,EAAC,QAAQ;UAAEC,KAAK,EAAC,MAAM;UAACC,MAAM,EAAC;QAAM,CAAG;QAAAC,UAAU,EAAC,OAAO;QAAAZ,QAAA,GAC1K,IAAAvE,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAA8F,IAAI;UAACf,KAAK,EAAE;YAACT,QAAQ,EAAC,UAAU;YAACyB,GAAG,EAAC,CAAC;YAACC,MAAM,EAAC,CAAC;YAACC,IAAI,EAAC,CAAC;YAACC,KAAK,EAAC,CAAC;YAACP,KAAK,EAAC,MAAM;YAACQ,eAAe,EAAC,OAAO;YAACC,OAAO,EAAC;UAAG;QAAE,CAAO,CAAC,EAE5H,IAAA1F,WAAA,CAAA4E,IAAA,EAACtF,YAAA,CAAA8F,IAAI;UAACf,KAAK,EAAE;YAACsB,aAAa,EAAC,QAAQ;YAACZ,cAAc,EAAC,QAAQ;YAACC,UAAU,EAAC,QAAQ;YAACY,GAAG,EAAC;UAAE,CAAE;UAAArB,QAAA,GACrF,IAAAvE,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAAuG,KAAK;YAACf,MAAM,EAAEvF,OAAO,CAAC,gCAAgC,CAAE;YAAC8E,KAAK,EAAE;cAACY,KAAK,EAAC,GAAG;cAACC,MAAM,EAAC;YAAG;UAAE,CAAE,CAAC,EAC3F,IAAAlF,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAAwG,IAAI;YAACzB,KAAK,EAAE;cAAC0B,QAAQ,EAAC,EAAE;cAACC,UAAU,EAAC,MAAM;cAACC,KAAK,EAAC;YAAO,CAAE;YAAA1B,QAAA,EAAE;UAAU,CAAM,CAAC,EAC9E,IAAAvE,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAAwG,IAAI;YAACzB,KAAK,EAAE;cAAC4B,KAAK,EAAC,MAAM;cAACC,SAAS,EAAC,QAAQ;cAACjB,KAAK,EAAC;YAAG,CAAE;YAAAV,QAAA,EAAC;UAA+I,CAAM,CAAC,EAEhN,IAAAvE,WAAA,CAAA4E,IAAA,EAACtF,YAAA,CAAA8F,IAAI;YAAAb,QAAA,GACD,IAAAvE,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAAwG,IAAI;cAACzB,KAAK,EAAE;gBAAC4B,KAAK,EAAC,OAAO;gBAACD,UAAU,EAAC;cAAM,CAAE;cAAAzB,QAAA,EAAC;YAAK,CAAM,CAAC,EAC5D,IAAAvE,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAA6G,SAAS;cAACC,WAAW,EAAC,oBAAoB;cAAC/B,KAAK,EAAE;gBAACY,KAAK,EAAC,GAAG;gBAACQ,eAAe,EAAC,MAAM;gBAACY,YAAY,EAAC,EAAE;gBAACC,SAAS,EAAC,EAAE;gBAAEC,WAAW,EAAC,EAAE;gBAACN,KAAK,EAAC;cAAO,CAAE;cAACO,oBAAoB,EAAC,OAAO;cAACC,YAAY,EAAC,eAAe;cAACC,KAAK,EAAE9E,KAAM;cAAC+E,YAAY,EAAE9E;YAAS,CAAC,CAAC;UAAA,CACjP,CAAC,EACP,IAAA7B,WAAA,CAAA4E,IAAA,EAACtF,YAAA,CAAA8F,IAAI;YAAAb,QAAA,GACD,IAAAvE,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAAwG,IAAI;cAAEzB,KAAK,EAAE;gBAAC4B,KAAK,EAAC,OAAO;gBAACD,UAAU,EAAC;cAAM,CAAE;cAAAzB,QAAA,EAAC;YAAY,CAAM,CAAC,EACpE,IAAAvE,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAA6G,SAAS;cAACC,WAAW,EAAC,2BAA2B;cAAC/B,KAAK,EAAE;gBAACY,KAAK,EAAC,GAAG;gBAACQ,eAAe,EAAC,MAAM;gBAACY,YAAY,EAAC,EAAE;gBAACC,SAAS,EAAC,EAAE;gBAACC,WAAW,EAAC,EAAE;gBAAEN,KAAK,EAAC;cAAO,CAAE;cAACO,oBAAoB,EAAC,OAAO;cAACI,eAAe,EAAE,IAAK;cAACF,KAAK,EAAE1E,QAAS;cAAC2E,YAAY,EAAE1E;YAAY,CAAE,CAAC;UAAA,CACzP,CAAC;QAAA,CAEL,CAAC,EACP,IAAAjC,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAA8F,IAAI;UAACf,KAAK,EAAE;YAAEsB,aAAa,EAAC,KAAK;YAACX,UAAU,EAAC,QAAQ;YAACD,cAAc,EAAC,eAAe;YAAEuB,SAAS,EAAC;UAAE,CAAE;UAAA/B,QAAA,EAEnG,IAAAvE,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAAwG,IAAI;YAACe,OAAO,EAAE,SAATA,OAAOA,CAAA;cAAA,OAAMvF,UAAU,CAACyC,QAAQ,CAAC,QAAQ,CAAC;YAAA,CAAC;YAACM,KAAK,EAAE;cAAC4B,KAAK,EAAC,WAAW;cAACC,SAAS,EAAC,OAAO;cAAEY,UAAU,EAAC,EAAE;cAACd,UAAU,EAAC,MAAM;cAACc,UAAU,EAAC;YAAG,CAAE;YAAAvC,QAAA,EAAC;UAAqB,CAAM;QAAC,CACxK,CAAC,EACP,IAAAvE,WAAA,CAAA4E,IAAA,EAACtF,YAAA,CAAA8F,IAAI;UAACf,KAAK,EAAE;YAACU,cAAc,EAAC,QAAQ;YAACC,UAAU,EAAC;UAAQ,CAAE;UAAAT,QAAA,GACnD,IAAAvE,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAAyH,gBAAgB;YAACF,OAAO,EAAEnE,UAAW;YAAE2B,KAAK,EAAE;cAACoB,eAAe,EAAC,SAAS;cAACuB,OAAO,EAAC,EAAE;cAACX,YAAY,EAAC,EAAE;cAACpB,KAAK,EAAC,GAAG;cAACF,cAAc,EAAC,QAAQ;cAACC,UAAU,EAAC,QAAQ;cAACsB,SAAS,EAAC;YAAE,CAAE;YAAA/B,QAAA,EACvK,IAAAvE,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAAwG,IAAI;cAACzB,KAAK,EAAE;gBAAC4B,KAAK,EAAC,OAAO;gBAACF,QAAQ,EAAC;cAAE,CAAE;cAAAxB,QAAA,EAAC;YAAa,CAAM;UAAC,CAC9C,CAAC,EACxB,IAAAvE,WAAA,CAAA4E,IAAA,EAACtF,YAAA,CAAAwG,IAAI;YAACzB,KAAK,EAAE;cAACiC,SAAS,EAAC,EAAE;cAACL,KAAK,EAAC,OAAO;cAACD,UAAU,EAAC;YAAM,CAAE;YAAAzB,QAAA,GAAC,iBAC7C,MAAAvE,WAAA,CAAAmE,GAAA,EAAC7E,YAAA,CAAAwG,IAAI;cAACe,OAAO,EAAE,SAATA,OAAOA,CAAA;gBAAA,OAAMvF,UAAU,CAACyC,QAAQ,CAAC,UAAU,CAAC;cAAA,CAAC;cAACM,KAAK,EAAE;gBAAC4B,KAAK,EAAC,OAAO;gBAACD,UAAU,EAAC,MAAM;gBAAEiB,mBAAmB,EAAC,OAAO;gBAACC,kBAAkB,EAAC;cAAW,CAAE;cAAA3C,QAAA,EAAC;YAAe,CAAM,CAAC;UAAA,CAC3L,CAAC;QAAA,CACH,CAAC;MAAA,CAEU;IAAC,CACZ;EAAC,CACH,CAAC;AAEnB","ignoreList":[]}