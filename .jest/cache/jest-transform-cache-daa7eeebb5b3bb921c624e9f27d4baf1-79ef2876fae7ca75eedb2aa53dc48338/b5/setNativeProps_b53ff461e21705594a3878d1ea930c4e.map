{"version":3,"names":["Object","defineProperty","exports","value","setNativeProps","_PlatformChecker","require","_Colors","setNativePropsFabric","animatedRef","updates","_WORKLET","console","warn","shadowNodeWrapper","processColorsInProps","global","_updatePropsFabric","setNativePropsPaper","tag","name","viewName","_updatePropsPaper","setNativePropsJest","setNativePropsChromeDebugger","setNativePropsDefault","shouldBeUseWeb","isFabric","isJest","isChromeDebugger"],"sources":["setNativeProps.ts"],"sourcesContent":["'use strict';\nimport type { ShadowNodeWrapper, StyleProps } from '../commonTypes';\nimport {\n  isChromeDebugger,\n  isFabric,\n  isJest,\n  shouldBeUseWeb,\n} from '../PlatformChecker';\nimport type {\n  AnimatedRef,\n  AnimatedRefOnJS,\n  AnimatedRefOnUI,\n} from '../hook/commonTypes';\nimport type { Component } from 'react';\nimport { processColorsInProps } from '../Colors';\n\ntype SetNativeProps = <T extends Component>(\n  animatedRef: AnimatedRef<T>,\n  updates: StyleProps\n) => void;\n/**\n * Lets you imperatively update component properties. You should always reach for [useAnimatedStyle](https://docs.swmansion.com/react-native-reanimated/docs/core/useAnimatedStyle) and [useAnimatedProps](https://docs.swmansion.com/react-native-reanimated/docs/core/useAnimatedProps) first when animating styles or properties.\n *\n * @param animatedRef - An [animated ref](https://docs.swmansion.com/react-native-reanimated/docs/core/useAnimatedRef#returns) connected to the component you'd want to update.\n * @param updates - An object with properties you want to update.\n * @see https://docs.swmansion.com/react-native-reanimated/docs/advanced/setNativeProps\n */\nexport let setNativeProps: SetNativeProps;\n\nfunction setNativePropsFabric(\n  animatedRef: AnimatedRefOnJS | AnimatedRefOnUI,\n  updates: StyleProps\n) {\n  'worklet';\n  if (!_WORKLET) {\n    console.warn(\n      '[Reanimated] setNativeProps() can only be used on the UI runtime.'\n    );\n    return;\n  }\n  const shadowNodeWrapper = animatedRef() as ShadowNodeWrapper;\n  processColorsInProps(updates);\n  global._updatePropsFabric!([{ shadowNodeWrapper, updates }]);\n}\n\nfunction setNativePropsPaper(\n  animatedRef: AnimatedRefOnJS | AnimatedRefOnUI,\n  updates: StyleProps\n) {\n  'worklet';\n  if (!_WORKLET) {\n    console.warn(\n      '[Reanimated] setNativeProps() can only be used on the UI runtime.'\n    );\n    return;\n  }\n  const tag = animatedRef() as number;\n  const name = (animatedRef as AnimatedRefOnUI).viewName.value;\n  processColorsInProps(updates);\n  global._updatePropsPaper!([{ tag, name, updates }]);\n}\n\nfunction setNativePropsJest() {\n  console.warn('[Reanimated] setNativeProps() is not supported with Jest.');\n}\n\nfunction setNativePropsChromeDebugger() {\n  console.warn(\n    '[Reanimated] setNativeProps() is not supported with Chrome Debugger.'\n  );\n}\n\nfunction setNativePropsDefault() {\n  console.warn(\n    '[Reanimated] setNativeProps() is not supported on this configuration.'\n  );\n}\n\nif (!shouldBeUseWeb()) {\n  // Those assertions are actually correct since on Native platforms `AnimatedRef` is\n  // mapped as a different function in `shareableMappingCache` and\n  // TypeScript is not able to infer that.\n  if (isFabric()) {\n    setNativeProps = setNativePropsFabric as unknown as SetNativeProps;\n  } else {\n    setNativeProps = setNativePropsPaper as unknown as SetNativeProps;\n  }\n} else if (isJest()) {\n  setNativeProps = setNativePropsJest;\n} else if (isChromeDebugger()) {\n  setNativeProps = setNativePropsChromeDebugger;\n} else {\n  setNativeProps = setNativePropsDefault;\n}\n"],"mappings":"AAAA,YAAY;;AAACA,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,KAAA;AAAA;AAAAD,OAAA,CAAAE,cAAA;AAEb,IAAAC,gBAAA,GAAAC,OAAA;AAYA,IAAAC,OAAA,GAAAD,OAAA;AAaO,IAAIF,cAA8B;AAEzC,SAASI,oBAAoBA,CAC3BC,WAA8C,EAC9CC,OAAmB,EACnB;EACA,SAAS;;EACT,IAAI,CAACC,QAAQ,EAAE;IACbC,OAAO,CAACC,IAAI,CACV,mEACF,CAAC;IACD;EACF;EACA,IAAMC,iBAAiB,GAAGL,WAAW,CAAC,CAAsB;EAC5D,IAAAM,4BAAoB,EAACL,OAAO,CAAC;EAC7BM,MAAM,CAACC,kBAAkB,CAAE,CAAC;IAAEH,iBAAiB,EAAjBA,iBAAiB;IAAEJ,OAAO,EAAPA;EAAQ,CAAC,CAAC,CAAC;AAC9D;AAEA,SAASQ,mBAAmBA,CAC1BT,WAA8C,EAC9CC,OAAmB,EACnB;EACA,SAAS;;EACT,IAAI,CAACC,QAAQ,EAAE;IACbC,OAAO,CAACC,IAAI,CACV,mEACF,CAAC;IACD;EACF;EACA,IAAMM,GAAG,GAAGV,WAAW,CAAC,CAAW;EACnC,IAAMW,IAAI,GAAIX,WAAW,CAAqBY,QAAQ,CAAClB,KAAK;EAC5D,IAAAY,4BAAoB,EAACL,OAAO,CAAC;EAC7BM,MAAM,CAACM,iBAAiB,CAAE,CAAC;IAAEH,GAAG,EAAHA,GAAG;IAAEC,IAAI,EAAJA,IAAI;IAAEV,OAAO,EAAPA;EAAQ,CAAC,CAAC,CAAC;AACrD;AAEA,SAASa,kBAAkBA,CAAA,EAAG;EAC5BX,OAAO,CAACC,IAAI,CAAC,2DAA2D,CAAC;AAC3E;AAEA,SAASW,4BAA4BA,CAAA,EAAG;EACtCZ,OAAO,CAACC,IAAI,CACV,sEACF,CAAC;AACH;AAEA,SAASY,qBAAqBA,CAAA,EAAG;EAC/Bb,OAAO,CAACC,IAAI,CACV,uEACF,CAAC;AACH;AAEA,IAAI,CAAC,IAAAa,+BAAc,EAAC,CAAC,EAAE;EAIrB,IAAI,IAAAC,yBAAQ,EAAC,CAAC,EAAE;IACdzB,OAAA,CAAAE,cAAA,GAAAA,cAAc,GAAGI,oBAAiD;EACpE,CAAC,MAAM;IACLN,OAAA,CAAAE,cAAA,GAAAA,cAAc,GAAGc,mBAAgD;EACnE;AACF,CAAC,MAAM,IAAI,IAAAU,uBAAM,EAAC,CAAC,EAAE;EACnB1B,OAAA,CAAAE,cAAA,GAAAA,cAAc,GAAGmB,kBAAkB;AACrC,CAAC,MAAM,IAAI,IAAAM,iCAAgB,EAAC,CAAC,EAAE;EAC7B3B,OAAA,CAAAE,cAAA,GAAAA,cAAc,GAAGoB,4BAA4B;AAC/C,CAAC,MAAM;EACLtB,OAAA,CAAAE,cAAA,GAAAA,cAAc,GAAGqB,qBAAqB;AACxC","ignoreList":[]}