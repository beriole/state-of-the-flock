3b0a166fde7e2a4805243479704c136b
_getJestObj().mock("@react-navigation/native", function () {
  return {
    useNavigation: function useNavigation() {
      return {
        navigate: jest.fn()
      };
    }
  };
});
_getJestObj().mock("react-native-toast-message", function () {
  return {
    show: jest.fn()
  };
});
_getJestObj().mock("axios");
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _Login = _interopRequireDefault(require("../screens/inscription/Login"));
var _axios = _interopRequireDefault(require("axios"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe("Login Component", function () {
  it("rend correctement les champs et le bouton", function () {
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Login.default, {})),
      getByPlaceholderText = _render.getByPlaceholderText,
      getByText = _render.getByText;
    expect(getByPlaceholderText("Entrer votre email")).toBeTruthy();
    expect(getByPlaceholderText("Entrer votre mot de passe")).toBeTruthy();
    expect(getByText("Se connecter")).toBeTruthy();
  });
  it("permet de saisir l'email et le mot de passe", function () {
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Login.default, {})),
      getByPlaceholderText = _render2.getByPlaceholderText;
    var emailInput = getByPlaceholderText("Entrer votre email");
    var passwordInput = getByPlaceholderText("Entrer votre mot de passe");
    _reactNative.fireEvent.changeText(emailInput, "test@example.com");
    _reactNative.fireEvent.changeText(passwordInput, "123456");
    expect(emailInput.props.value).toBe("test@example.com");
    expect(passwordInput.props.value).toBe("123456");
  });
  it("appelle l'API et affiche un toast en cas de succès", (0, _asyncToGenerator2.default)(function* () {
    var mockResponse = {
      status: 200,
      data: {
        message: "Connexion réussie"
      }
    };
    _axios.default.post.mockResolvedValueOnce(mockResponse);
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_Login.default, {})),
      getByText = _render3.getByText,
      getByPlaceholderText = _render3.getByPlaceholderText;
    var emailInput = getByPlaceholderText("Entrer votre email");
    var passwordInput = getByPlaceholderText("Entrer votre mot de passe");
    _reactNative.fireEvent.changeText(emailInput, "test@example.com");
    _reactNative.fireEvent.changeText(passwordInput, "123456");
    _reactNative.fireEvent.press(getByText("Se connecter"));
    yield (0, _reactNative.waitFor)(function () {
      var Toast = require("react-native-toast-message");
      expect(Toast.show).toHaveBeenCalledWith(expect.objectContaining({
        type: "success"
      }));
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VOYXZpZ2F0aW9uIiwibmF2aWdhdGUiLCJqZXN0IiwiZm4iLCJzaG93IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfTG9naW4iLCJfYXhpb3MiLCJfanN4UnVudGltZSIsIl9yZXF1aXJlIiwiZGVzY3JpYmUiLCJpdCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJqc3giLCJkZWZhdWx0IiwiZ2V0QnlQbGFjZWhvbGRlclRleHQiLCJnZXRCeVRleHQiLCJleHBlY3QiLCJ0b0JlVHJ1dGh5IiwiX3JlbmRlcjIiLCJlbWFpbElucHV0IiwicGFzc3dvcmRJbnB1dCIsImZpcmVFdmVudCIsImNoYW5nZVRleHQiLCJwcm9wcyIsInZhbHVlIiwidG9CZSIsIm1vY2tSZXNwb25zZSIsInN0YXR1cyIsImRhdGEiLCJtZXNzYWdlIiwiYXhpb3MiLCJwb3N0IiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwiX3JlbmRlcjMiLCJwcmVzcyIsIndhaXRGb3IiLCJUb2FzdCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwib2JqZWN0Q29udGFpbmluZyIsInR5cGUiXSwic291cmNlcyI6WyJSZWdpc3Rlci50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgcmVuZGVyLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tIFwiQHRlc3RpbmctbGlicmFyeS9yZWFjdC1uYXRpdmVcIjtcclxuaW1wb3J0IExvZ2luIGZyb20gXCIuLi9zY3JlZW5zL2luc2NyaXB0aW9uL0xvZ2luXCI7XHJcblxyXG4vLyBNb2NrIG5hdmlnYXRpb25cclxuamVzdC5tb2NrKFwiQHJlYWN0LW5hdmlnYXRpb24vbmF0aXZlXCIsICgpID0+ICh7XHJcbiAgdXNlTmF2aWdhdGlvbjogKCkgPT4gKHsgbmF2aWdhdGU6IGplc3QuZm4oKSB9KSxcclxufSkpO1xyXG5cclxuLy8gTW9jayBUb2FzdFxyXG5qZXN0Lm1vY2soXCJyZWFjdC1uYXRpdmUtdG9hc3QtbWVzc2FnZVwiLCAoKSA9PiAoe1xyXG4gIHNob3c6IGplc3QuZm4oKSxcclxufSkpO1xyXG5cclxuLy8gTW9jayBheGlvc1xyXG5pbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XHJcbmplc3QubW9jayhcImF4aW9zXCIpO1xyXG5cclxuZGVzY3JpYmUoXCJMb2dpbiBDb21wb25lbnRcIiwgKCkgPT4ge1xyXG4gIGl0KFwicmVuZCBjb3JyZWN0ZW1lbnQgbGVzIGNoYW1wcyBldCBsZSBib3V0b25cIiwgKCkgPT4ge1xyXG4gICAgY29uc3QgeyBnZXRCeVBsYWNlaG9sZGVyVGV4dCwgZ2V0QnlUZXh0IH0gPSByZW5kZXIoPExvZ2luIC8+KTtcclxuXHJcbiAgICBleHBlY3QoZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJFbnRyZXIgdm90cmUgZW1haWxcIikpLnRvQmVUcnV0aHkoKTtcclxuICAgIGV4cGVjdChnZXRCeVBsYWNlaG9sZGVyVGV4dChcIkVudHJlciB2b3RyZSBtb3QgZGUgcGFzc2VcIikpLnRvQmVUcnV0aHkoKTtcclxuICAgIGV4cGVjdChnZXRCeVRleHQoXCJTZSBjb25uZWN0ZXJcIikpLnRvQmVUcnV0aHkoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoXCJwZXJtZXQgZGUgc2Fpc2lyIGwnZW1haWwgZXQgbGUgbW90IGRlIHBhc3NlXCIsICgpID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0QnlQbGFjZWhvbGRlclRleHQgfSA9IHJlbmRlcig8TG9naW4gLz4pO1xyXG4gICAgY29uc3QgZW1haWxJbnB1dCA9IGdldEJ5UGxhY2Vob2xkZXJUZXh0KFwiRW50cmVyIHZvdHJlIGVtYWlsXCIpO1xyXG4gICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IGdldEJ5UGxhY2Vob2xkZXJUZXh0KFwiRW50cmVyIHZvdHJlIG1vdCBkZSBwYXNzZVwiKTtcclxuXHJcbiAgICBmaXJlRXZlbnQuY2hhbmdlVGV4dChlbWFpbElucHV0LCBcInRlc3RAZXhhbXBsZS5jb21cIik7XHJcbiAgICBmaXJlRXZlbnQuY2hhbmdlVGV4dChwYXNzd29yZElucHV0LCBcIjEyMzQ1NlwiKTtcclxuXHJcbiAgICBleHBlY3QoZW1haWxJbnB1dC5wcm9wcy52YWx1ZSkudG9CZShcInRlc3RAZXhhbXBsZS5jb21cIik7XHJcbiAgICBleHBlY3QocGFzc3dvcmRJbnB1dC5wcm9wcy52YWx1ZSkudG9CZShcIjEyMzQ1NlwiKTtcclxuICB9KTtcclxuXHJcbiAgaXQoXCJhcHBlbGxlIGwnQVBJIGV0IGFmZmljaGUgdW4gdG9hc3QgZW4gY2FzIGRlIHN1Y2PDqHNcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgbW9ja1Jlc3BvbnNlID0geyBzdGF0dXM6IDIwMCwgZGF0YTogeyBtZXNzYWdlOiBcIkNvbm5leGlvbiByw6l1c3NpZVwiIH0gfTtcclxuICAgYXhpb3MucG9zdC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UobW9ja1Jlc3BvbnNlKTtcclxuICAgIGNvbnN0IHsgZ2V0QnlUZXh0LCBnZXRCeVBsYWNlaG9sZGVyVGV4dCB9ID0gcmVuZGVyKDxMb2dpbiAvPik7XHJcbiAgICBjb25zdCBlbWFpbElucHV0ID0gZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJFbnRyZXIgdm90cmUgZW1haWxcIik7XHJcbiAgICBjb25zdCBwYXNzd29yZElucHV0ID0gZ2V0QnlQbGFjZWhvbGRlclRleHQoXCJFbnRyZXIgdm90cmUgbW90IGRlIHBhc3NlXCIpO1xyXG5cclxuICAgIGZpcmVFdmVudC5jaGFuZ2VUZXh0KGVtYWlsSW5wdXQsIFwidGVzdEBleGFtcGxlLmNvbVwiKTtcclxuICAgIGZpcmVFdmVudC5jaGFuZ2VUZXh0KHBhc3N3b3JkSW5wdXQsIFwiMTIzNDU2XCIpO1xyXG5cclxuICAgIGZpcmVFdmVudC5wcmVzcyhnZXRCeVRleHQoXCJTZSBjb25uZWN0ZXJcIikpO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBjb25zdCBUb2FzdCA9IHJlcXVpcmUoXCJyZWFjdC1uYXRpdmUtdG9hc3QtbWVzc2FnZVwiKTtcclxuICAgICAgZXhwZWN0KFRvYXN0LnNob3cpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxyXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHsgdHlwZTogXCJzdWNjZXNzXCIgfSlcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuIl0sIm1hcHBpbmdzIjoiQUFLQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsMEJBQTBCLEVBQUU7RUFBQSxPQUFPO0lBQzNDQyxhQUFhLEVBQUUsU0FBZkEsYUFBYUEsQ0FBQTtNQUFBLE9BQVM7UUFBRUMsUUFBUSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztNQUFFLENBQUM7SUFBQTtFQUMvQyxDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBR0hMLFdBQUEsR0FBS0MsSUFBSSxDQUFDLDRCQUE0QixFQUFFO0VBQUEsT0FBTztJQUM3Q0ssSUFBSSxFQUFFRixJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUNoQixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBSUhMLFdBQUEsR0FBS0MsSUFBSSxDQUFDLE9BQU8sQ0FBQztBQUFDLElBQUFNLHNCQUFBLEdBQUFDLE9BQUE7QUFBQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBaEJuQixJQUFBRSxNQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxZQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxNQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFhQSxJQUFBSyxNQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFBMEIsSUFBQU0sV0FBQSxHQUFBTixPQUFBO0FBQUEsU0FBQVIsWUFBQTtFQUFBLElBQUFlLFFBQUEsR0FBQVAsT0FBQTtJQUFBSixJQUFBLEdBQUFXLFFBQUEsQ0FBQVgsSUFBQTtFQUFBSixXQUFB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