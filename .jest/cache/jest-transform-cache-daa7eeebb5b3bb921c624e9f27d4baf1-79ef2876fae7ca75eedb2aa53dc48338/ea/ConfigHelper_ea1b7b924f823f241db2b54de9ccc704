bdf1a84d38f321cd281a445fa6f01515
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.adaptViewConfig = adaptViewConfig;
exports.addWhitelistedNativeProps = addWhitelistedNativeProps;
exports.addWhitelistedUIProps = addWhitelistedUIProps;
exports.configureProps = configureProps;
var _propsAllowlists = require("./propsAllowlists");
var _core = require("./core");
function assertNoOverlapInLists() {
  for (var key in _propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST) {
    if (key in _propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST) {
      throw new Error(`[Reanimated] Property \`${key}\` was whitelisted both as UI and native prop. Please remove it from one of the lists.`);
    }
  }
}
function configureProps() {
  assertNoOverlapInLists();
  (0, _core.jsiConfigureProps)(Object.keys(_propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST), Object.keys(_propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST));
}
function addWhitelistedNativeProps(props) {
  var oldSize = Object.keys(_propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST).length;
  _propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST = Object.assign({}, _propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST, props);
  if (oldSize !== Object.keys(_propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST).length) {
    configureProps();
  }
}
function addWhitelistedUIProps(props) {
  var oldSize = Object.keys(_propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST).length;
  _propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST = Object.assign({}, _propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST, props);
  if (oldSize !== Object.keys(_propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST).length) {
    configureProps();
  }
}
var PROCESSED_VIEW_NAMES = new Set();
function adaptViewConfig(viewConfig) {
  var viewName = viewConfig.uiViewClassName;
  var props = viewConfig.validAttributes;
  if (!PROCESSED_VIEW_NAMES.has(viewName)) {
    var propsToAdd = {};
    Object.keys(props).forEach(function (key) {
      if (!(key in _propsAllowlists.PropsAllowlists.NATIVE_THREAD_PROPS_WHITELIST) && !(key in _propsAllowlists.PropsAllowlists.UI_THREAD_PROPS_WHITELIST)) {
        propsToAdd[key] = true;
      }
    });
    addWhitelistedUIProps(propsToAdd);
    PROCESSED_VIEW_NAMES.add(viewName);
  }
}
configureProps();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImFkYXB0Vmlld0NvbmZpZyIsImFkZFdoaXRlbGlzdGVkTmF0aXZlUHJvcHMiLCJhZGRXaGl0ZWxpc3RlZFVJUHJvcHMiLCJjb25maWd1cmVQcm9wcyIsIl9wcm9wc0FsbG93bGlzdHMiLCJyZXF1aXJlIiwiX2NvcmUiLCJhc3NlcnROb092ZXJsYXBJbkxpc3RzIiwia2V5IiwiUHJvcHNBbGxvd2xpc3RzIiwiTkFUSVZFX1RIUkVBRF9QUk9QU19XSElURUxJU1QiLCJVSV9USFJFQURfUFJPUFNfV0hJVEVMSVNUIiwiRXJyb3IiLCJqc2lDb25maWd1cmVQcm9wcyIsImtleXMiLCJwcm9wcyIsIm9sZFNpemUiLCJsZW5ndGgiLCJhc3NpZ24iLCJQUk9DRVNTRURfVklFV19OQU1FUyIsIlNldCIsInZpZXdDb25maWciLCJ2aWV3TmFtZSIsInVpVmlld0NsYXNzTmFtZSIsInZhbGlkQXR0cmlidXRlcyIsImhhcyIsInByb3BzVG9BZGQiLCJmb3JFYWNoIiwiYWRkIl0sInNvdXJjZXMiOlsiQ29uZmlnSGVscGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFByb3BzQWxsb3dsaXN0cyB9IGZyb20gJy4vcHJvcHNBbGxvd2xpc3RzJztcbmltcG9ydCB7IGpzaUNvbmZpZ3VyZVByb3BzIH0gZnJvbSAnLi9jb3JlJztcbmZ1bmN0aW9uIGFzc2VydE5vT3ZlcmxhcEluTGlzdHMoKSB7XG4gIGZvciAoY29uc3Qga2V5IGluIFByb3BzQWxsb3dsaXN0cy5OQVRJVkVfVEhSRUFEX1BST1BTX1dISVRFTElTVCkge1xuICAgIGlmIChrZXkgaW4gUHJvcHNBbGxvd2xpc3RzLlVJX1RIUkVBRF9QUk9QU19XSElURUxJU1QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFtSZWFuaW1hdGVkXSBQcm9wZXJ0eSBcXGAke2tleX1cXGAgd2FzIHdoaXRlbGlzdGVkIGJvdGggYXMgVUkgYW5kIG5hdGl2ZSBwcm9wLiBQbGVhc2UgcmVtb3ZlIGl0IGZyb20gb25lIG9mIHRoZSBsaXN0cy5gXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uZmlndXJlUHJvcHMoKTogdm9pZCB7XG4gIGFzc2VydE5vT3ZlcmxhcEluTGlzdHMoKTtcbiAganNpQ29uZmlndXJlUHJvcHMoXG4gICAgT2JqZWN0LmtleXMoUHJvcHNBbGxvd2xpc3RzLlVJX1RIUkVBRF9QUk9QU19XSElURUxJU1QpLFxuICAgIE9iamVjdC5rZXlzKFByb3BzQWxsb3dsaXN0cy5OQVRJVkVfVEhSRUFEX1BST1BTX1dISVRFTElTVClcbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFdoaXRlbGlzdGVkTmF0aXZlUHJvcHMoXG4gIHByb3BzOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPlxuKTogdm9pZCB7XG4gIGNvbnN0IG9sZFNpemUgPSBPYmplY3Qua2V5cyhcbiAgICBQcm9wc0FsbG93bGlzdHMuTkFUSVZFX1RIUkVBRF9QUk9QU19XSElURUxJU1RcbiAgKS5sZW5ndGg7XG4gIFByb3BzQWxsb3dsaXN0cy5OQVRJVkVfVEhSRUFEX1BST1BTX1dISVRFTElTVCA9IHtcbiAgICAuLi5Qcm9wc0FsbG93bGlzdHMuTkFUSVZFX1RIUkVBRF9QUk9QU19XSElURUxJU1QsXG4gICAgLi4ucHJvcHMsXG4gIH07XG4gIGlmIChcbiAgICBvbGRTaXplICE9PVxuICAgIE9iamVjdC5rZXlzKFByb3BzQWxsb3dsaXN0cy5OQVRJVkVfVEhSRUFEX1BST1BTX1dISVRFTElTVCkubGVuZ3RoXG4gICkge1xuICAgIGNvbmZpZ3VyZVByb3BzKCk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFdoaXRlbGlzdGVkVUlQcm9wcyhwcm9wczogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4pOiB2b2lkIHtcbiAgY29uc3Qgb2xkU2l6ZSA9IE9iamVjdC5rZXlzKFByb3BzQWxsb3dsaXN0cy5VSV9USFJFQURfUFJPUFNfV0hJVEVMSVNUKS5sZW5ndGg7XG4gIFByb3BzQWxsb3dsaXN0cy5VSV9USFJFQURfUFJPUFNfV0hJVEVMSVNUID0ge1xuICAgIC4uLlByb3BzQWxsb3dsaXN0cy5VSV9USFJFQURfUFJPUFNfV0hJVEVMSVNULFxuICAgIC4uLnByb3BzLFxuICB9O1xuICBpZiAoXG4gICAgb2xkU2l6ZSAhPT0gT2JqZWN0LmtleXMoUHJvcHNBbGxvd2xpc3RzLlVJX1RIUkVBRF9QUk9QU19XSElURUxJU1QpLmxlbmd0aFxuICApIHtcbiAgICBjb25maWd1cmVQcm9wcygpO1xuICB9XG59XG5cbmNvbnN0IFBST0NFU1NFRF9WSUVXX05BTUVTID0gbmV3IFNldCgpO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZpZXdDb25maWcge1xuICB1aVZpZXdDbGFzc05hbWU6IHN0cmluZztcbiAgdmFsaWRBdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbn1cbi8qKlxuICogdXBkYXRlcyBVSSBwcm9wcyB3aGl0ZWxpc3QgZm9yIGdpdmVuIHZpZXcgaG9zdCBpbnN0YW5jZVxuICogdGhpcyB3aWxsIHdvcmsganVzdCBvbmNlIGZvciBldmVyeSB2aWV3IG5hbWVcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gYWRhcHRWaWV3Q29uZmlnKHZpZXdDb25maWc6IFZpZXdDb25maWcpOiB2b2lkIHtcbiAgY29uc3Qgdmlld05hbWUgPSB2aWV3Q29uZmlnLnVpVmlld0NsYXNzTmFtZTtcbiAgY29uc3QgcHJvcHMgPSB2aWV3Q29uZmlnLnZhbGlkQXR0cmlidXRlcztcblxuICAvLyB1cGRhdGUgd2hpdGVsaXN0IG9mIFVJIHByb3BzIGZvciB0aGlzIHZpZXcgbmFtZSBvbmx5IG9uY2VcbiAgaWYgKCFQUk9DRVNTRURfVklFV19OQU1FUy5oYXModmlld05hbWUpKSB7XG4gICAgY29uc3QgcHJvcHNUb0FkZDogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4gPSB7fTtcbiAgICBPYmplY3Qua2V5cyhwcm9wcykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAvLyB3ZSBkb24ndCB3YW50IHRvIGFkZCBuYXRpdmUgcHJvcHMgYXMgdGhleSBhZmZlY3QgbGF5b3V0XG4gICAgICAvLyB3ZSBhbHNvIHNraXAgcHJvcHMgd2hpY2ggcmVwZWF0IGhlcmVcbiAgICAgIGlmIChcbiAgICAgICAgIShrZXkgaW4gUHJvcHNBbGxvd2xpc3RzLk5BVElWRV9USFJFQURfUFJPUFNfV0hJVEVMSVNUKSAmJlxuICAgICAgICAhKGtleSBpbiBQcm9wc0FsbG93bGlzdHMuVUlfVEhSRUFEX1BST1BTX1dISVRFTElTVClcbiAgICAgICkge1xuICAgICAgICBwcm9wc1RvQWRkW2tleV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGFkZFdoaXRlbGlzdGVkVUlQcm9wcyhwcm9wc1RvQWRkKTtcblxuICAgIFBST0NFU1NFRF9WSUVXX05BTUVTLmFkZCh2aWV3TmFtZSk7XG4gIH1cbn1cblxuY29uZmlndXJlUHJvcHMoKTtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFBQUEsTUFBQSxDQUFBQyxjQUFBLENBQUFDLE9BQUE7RUFBQUMsS0FBQTtBQUFBO0FBQUFELE9BQUEsQ0FBQUUsZUFBQSxHQUFBQSxlQUFBO0FBQUFGLE9BQUEsQ0FBQUcseUJBQUEsR0FBQUEseUJBQUE7QUFBQUgsT0FBQSxDQUFBSSxxQkFBQSxHQUFBQSxxQkFBQTtBQUFBSixPQUFBLENBQUFLLGNBQUEsR0FBQUEsY0FBQTtBQUNaLElBQUFDLGdCQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFELE9BQUE7QUFDQSxTQUFTRSxzQkFBc0JBLENBQUEsRUFBRztFQUNoQyxLQUFLLElBQU1DLEdBQUcsSUFBSUMsZ0NBQWUsQ0FBQ0MsNkJBQTZCLEVBQUU7SUFDL0QsSUFBSUYsR0FBRyxJQUFJQyxnQ0FBZSxDQUFDRSx5QkFBeUIsRUFBRTtNQUNwRCxNQUFNLElBQUlDLEtBQUssQ0FDWiwyQkFBMEJKLEdBQUksd0ZBQ2pDLENBQUM7SUFDSDtFQUNGO0FBQ0Y7QUFFTyxTQUFTTCxjQUFjQSxDQUFBLEVBQVM7RUFDckNJLHNCQUFzQixDQUFDLENBQUM7RUFDeEIsSUFBQU0sdUJBQWlCLEVBQ2ZqQixNQUFNLENBQUNrQixJQUFJLENBQUNMLGdDQUFlLENBQUNFLHlCQUF5QixDQUFDLEVBQ3REZixNQUFNLENBQUNrQixJQUFJLENBQUNMLGdDQUFlLENBQUNDLDZCQUE2QixDQUMzRCxDQUFDO0FBQ0g7QUFFTyxTQUFTVCx5QkFBeUJBLENBQ3ZDYyxLQUE4QixFQUN4QjtFQUNOLElBQU1DLE9BQU8sR0FBR3BCLE1BQU0sQ0FBQ2tCLElBQUksQ0FDekJMLGdDQUFlLENBQUNDLDZCQUNsQixDQUFDLENBQUNPLE1BQU07RUFDUlIsZ0NBQWUsQ0FBQ0MsNkJBQTZCLEdBQUFkLE1BQUEsQ0FBQXNCLE1BQUEsS0FDeENULGdDQUFlLENBQUNDLDZCQUE2QixFQUM3Q0ssS0FBQSxDQUNKO0VBQ0QsSUFDRUMsT0FBTyxLQUNQcEIsTUFBTSxDQUFDa0IsSUFBSSxDQUFDTCxnQ0FBZSxDQUFDQyw2QkFBNkIsQ0FBQyxDQUFDTyxNQUFNLEVBQ2pFO0lBQ0FkLGNBQWMsQ0FBQyxDQUFDO0VBQ2xCO0FBQ0Y7QUFFTyxTQUFTRCxxQkFBcUJBLENBQUNhLEtBQThCLEVBQVE7RUFDMUUsSUFBTUMsT0FBTyxHQUFHcEIsTUFBTSxDQUFDa0IsSUFBSSxDQUFDTCxnQ0FBZSxDQUFDRSx5QkFBeUIsQ0FBQyxDQUFDTSxNQUFNO0VBQzdFUixnQ0FBZSxDQUFDRSx5QkFBeUIsR0FBQWYsTUFBQSxDQUFBc0IsTUFBQSxLQUNwQ1QsZ0NBQWUsQ0FBQ0UseUJBQXlCLEVBQ3pDSSxLQUFBLENBQ0o7RUFDRCxJQUNFQyxPQUFPLEtBQUtwQixNQUFNLENBQUNrQixJQUFJLENBQUNMLGdDQUFlLENBQUNFLHlCQUF5QixDQUFDLENBQUNNLE1BQU0sRUFDekU7SUFDQWQsY0FBYyxDQUFDLENBQUM7RUFDbEI7QUFDRjtBQUVBLElBQU1nQixvQkFBb0IsR0FBRyxJQUFJQyxHQUFHLENBQUMsQ0FBQztBQVcvQixTQUFTcEIsZUFBZUEsQ0FBQ3FCLFVBQXNCLEVBQVE7RUFDNUQsSUFBTUMsUUFBUSxHQUFHRCxVQUFVLENBQUNFLGVBQWU7RUFDM0MsSUFBTVIsS0FBSyxHQUFHTSxVQUFVLENBQUNHLGVBQWU7RUFHeEMsSUFBSSxDQUFDTCxvQkFBb0IsQ0FBQ00sR0FBRyxDQUFDSCxRQUFRLENBQUMsRUFBRTtJQUN2QyxJQUFNSSxVQUFtQyxHQUFHLENBQUMsQ0FBQztJQUM5QzlCLE1BQU0sQ0FBQ2tCLElBQUksQ0FBQ0MsS0FBSyxDQUFDLENBQUNZLE9BQU8sQ0FBRSxVQUFBbkIsR0FBRyxFQUFLO01BR2xDLElBQ0UsRUFBRUEsR0FBRyxJQUFJQyxnQ0FBZSxDQUFDQyw2QkFBNkIsQ0FBQyxJQUN2RCxFQUFFRixHQUFHLElBQUlDLGdDQUFlLENBQUNFLHlCQUF5QixDQUFDLEVBQ25EO1FBQ0FlLFVBQVUsQ0FBQ2xCLEdBQUcsQ0FBQyxHQUFHLElBQUk7TUFDeEI7SUFDRixDQUFDLENBQUM7SUFDRk4scUJBQXFCLENBQUN3QixVQUFVLENBQUM7SUFFakNQLG9CQUFvQixDQUFDUyxHQUFHLENBQUNOLFFBQVEsQ0FBQztFQUNwQztBQUNGO0FBRUFuQixjQUFjLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==